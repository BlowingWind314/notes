\chapter{群}\pagenumbering{arabic}
\section{基本性质}
\subsection{群与群同态}
\begin{definition}
	为非空集合$G$配备二元运算$\cdot$，则
	\begin{itemize}
		\item 若运算结合，称$G$是{\heiti 半群}.
		\item 若还有幺元，称$G$是{\heiti 幺半群}.
		\item 若任意元素还有逆元，称$G$是{\heiti 群}.
		\item 若运算还交换，称$G$是{\heiti 交换群}或{\heiti \textbf{Abel} 群}.
	\end{itemize}
\end{definition}

群的一个基本分类是有限群和无限群，群的基数称为群的{\heiti 阶}.我们主要讨论有限群.一个群的{\heiti 子群} $H\subseteq G$记为$H\le G$.例如
\begin{itemize}
	\item $\{e\}=:1,G$ 是 $G$ 的平凡子群.
	\item 群 $G$ 的{\heiti 中心} $Z(G)=\{g\in G\mid \forall a\in G,\,ag=ga\}$ 是 $G$ 的子群.
	\item 非空子集 $S\subseteq G$ 的{\heiti 中心化子} $\mathrm C_G(S)=\{g\in G\mid \forall a\in S,\,aga^{-1}=g\}$ 是 $G$ 的子群.
	\item 非空子集 $S\subseteq G$ 的{\heiti 正规化子} $\mathrm N_G(S)=\{g\in G\mid \forall a\in S,\,aSa^{-1}=S\}$ 是 $G$ 的子群.
\end{itemize}

\begin{lemma}
	非空子集$H\subseteq G$是子群$\iff$$\forall a,b\in H,\,ab^{-1}\in H$.\qed
\end{lemma}

对子群 $H\le G$，按照$ab^{-1}\in S\Leftrightarrow a\sim b$划分等价关系得到等价类为{\heiti 右陪集} $Hg$，进而有唯一的{\heiti 右陪集分解}
\[
	G=\bigcup_{g\in G}Hg=H\sqcup Hg_1\sqcup\cdots\sqcup Hg_k
\]
和{\heiti 右商集} $(G/H)_r$.类似地得到左陪集$gH$及左商集$(G/H)_l$.

注意$gH\mapsto Hg^{-1}$是双射，可定义商集的基数为子群$H$在$G$中的{\heiti 指数} $[G:H]$.
\begin{thm}[(Lagrange)]
	对有限群$G$的子群$H$有$|G|=[G:H]|H|$.
\end{thm}
\begin{proof}
	注意各陪集基数相同，由陪集分解显然.
\end{proof}

不难证明指数还有如下可乘性质.
\begin{prop}
	设$H\le K\le G$，则$[G:H]=[G:K][K:H]$.\qed
\end{prop}

对子群 $H\le G$，任取 $g\in G$，则
\[
	gHg^{-1}=\{ghg^{-1}\mid h\in H\},\quad\forall g\in G,
\]
也是 $G$ 的子群，称为 $H$ 的一个{\heiti 共轭子群}.
如果子群 $H$ 共轭子群唯一(即只有 $H$ 自己)，则称 $H$ 是{\heiti 正规子群}，记作 $H\nsg G$.例如
\begin{itemize}
	\item $1,\,G$ 是 $G$ 的平凡正规子群.
	\item 非空子集 $S\subseteq G$ 的中心化子是正规化子的正规子群 $\mathrm{C}_G(S)\nsg\mathrm{N}_G(S)$.
	\item 子群 $H\le G$ 是它正规化子的正规子群 $H\nsg\mathrm{N}_G(H)$.
\end{itemize}
\begin{lemma}
	$H\nsg G\iff\forall g\in G,\,gH=Hg$.\qed
\end{lemma}
\begin{cor}
	指数$2$子群必正规.
\end{cor}
\begin{proof}
	设$[G:H]=2$，显然$G=H\cup g_0H=H\cup Hg_0$.
\end{proof}

对正规子群来说，左右商集一致，可以定义乘法运算，反之亦然.
\begin{lemma}
	若$H\le G$，则$H\nsg G\iff\forall g_1,g_2\in G,\,(g_1H)(g_2H)=g_1g_2H$.\qed
\end{lemma}

对正规子群$H\nsg G$，在商集上如上定义乘法得到{\heiti 商群} $G/H$.显然$|G/H|=|G|/|H|$.

\begin{definition}
	群$G,\tilde{G}$之间的映射$\sigma\colon G\to G'$若保持运算
	\[
		\forall g_1,g_2\in G,\,\sigma(g_1g_2)=\sigma(g_1)\sigma(g_2),
	\]
	则称$\sigma$是群$G$到$\tilde{G}$的{\heiti 群同态}.特别地，既单又满的同态称为{\heiti 群同构}，记为$G\cong\tilde{G}$.

	$G$到$\tilde{G}$的全体群同态按复合构成群$\hom(G,\tilde{G})$.特别地，$G$到自身的全体自同构构成{\heiti 自同构群} $\operatorname*{Aut}(G)$.
\end{definition}

自然地，考虑一个同态的{\heiti 核} $\ker\sigma=\left\{g\in G\mid \sigma(g)=\tilde{e}\right\}$与{\heiti 像} $\Im G=\sigma(G)$.
\begin{prop}
	$\sigma\in\hom(G,\tilde{G})\implies\ker\sigma\nsg G,\,\Im G<\tilde{G}$.\qed
\end{prop}

反之，对正规子群$H\nsg G$，考虑{\heiti 自然映射} $\pi\colon G\to G/H,g\mapsto gH$.
\begin{prop}
	$H\nsg G\implies\exists\pi\in\hom(G,G/H),\,H=\ker\pi$.\qed
\end{prop}

因此，\emph{正规子群}$\Leftrightarrow$\emph{同态核}.这一观点非常重要.

\begin{thm}[(群同态基本定理)]
	$\sigma\in\hom(G,\tilde{G})\implies G/\ker\sigma\cong\Im G$.
\end{thm}
\begin{proof}
	定义$G/\ker\sigma\to\Im G,g\ker\sigma\mapsto\sigma(g)$，良定和同态都是显然的.
\end{proof}
\subsection{群运算与群同构}
来考虑群之间的运算.对群$H,K$，显然$H\cap K$是群.但$HK$不一定，事实上
\begin{lemma}
	若$H,K$是群，则$HK$是群$\iff HK=KH$.\hypertarget{lemma:HKgrp}{}
\end{lemma}
\begin{proof}
	$(h_1k_1)(h_2k_2)^{-1}=h_1{\color{gray}k_1k_2^{-1}h_2^{-1}}=h_1{\color{gray}h_3k_3}\in HK$.
\end{proof}

若$H,K\le G$满足$H\le\mathrm{N}_G(K)$，称$H$ {\heiti 正规化} $K$.类似地有{\heiti 中心化}.
\begin{cor}
	若$H$正规化$K$，则$HK\le G$.特别地，若$K\nsg G$则$HK\le G$.
\end{cor}
\begin{proof}
	注意$hk=(hkh^{-1})h\in KH$以及$kh=h(h^{-1}kh)\in HK$，即$HK=KH$.
\end{proof}

注意到$HK$与$H\cap K$有如下阶数关系.
\begin{lemma}
	设$H,K$是有限群，则$|HK|=\dfrac{|H||K|}{|H\cap K|}$.\qed
\end{lemma}

这提示我们进一步得到“交”和“积”重要的群同构定理.
\begin{thm}[(第一群同构)]
	设$H,K\le G$并且$H$正规化$K$，则$HK/K\cong H/H\cap K$.
\end{thm}
\begin{proof}
	已知$H,K\le\mathrm{N}_G(K)$，所以$HK\le\mathrm{N}_G(K)$，即$K\nsg HK$.定义满同态$\sigma\colon H\to HK/K$为$\sigma(h)=hK$，则$\ker\sigma=H\cap K\nsg H$.
\end{proof}

下面来考虑重要的商结构.在商群内再作商群会如何？
\begin{thm}[(第二群同构)]
	设$N\nsg G,N\le H\nsg G$，则
	\begin{enumerate}
		\item $H/N\nsg G/N$.
		\item $(G/N)/(H/N)\cong G/H$.
	\end{enumerate}
\end{thm}
\begin{proof}
	定义满同态$\sigma\colon G/N\to G/H,gN\mapsto gH$，则$H/N=\ker\sigma\nsg G/N$且(2)成立.
\end{proof}

设$N\nsg G$，商群$G/N$的子群和正规子群如何？容易发现
\begin{itemize}
	\item 若$H/N\le G/N$，则$N\le H\le G$.
	\item 若$H/N\nsg G/N$，则$N\le H\nsg G$.
\end{itemize}
由同态基本定理，这说明\emph{任何同态都给出了两群之间}(\emph{正规})\emph{子群的一一对应}.它的完整表述为\hyperlink{thm:LatticeIso}{子群格同构}.

\medskip 设$G,\tilde{G}$是群，在$G\times\tilde{G}$上定义自然的运算得到{\heiti 直积} $G\times\tilde{G}$也是群(若运算是加法，写为{\heiti 直和} $G\oplus\tilde{G}$).直积与顺序无关，因为显然有同构$G\times\tilde{G}\cong\tilde{G}\times G$.认为$G\cong G\times\{\tilde{e}\}\le G\times\tilde{G}	$，则有$G,\tilde{G}\nsg G\times\tilde{G}$.

现在，考虑子结构何以“拼”出大结构.设$H,K\le G$，则能否有$G\cong H\times K$?
\begin{prop}[(内直积)]
	$G\cong H\times K$且同构为$hk\mapsto(h,k)$当且仅当
	\begin{enumerate}
		\item $G=HK$.
		\item $H\cap K=\{e\}$.
		\item $H,K\nsg G$\emph{或}$H,K$中元素可换.
	\end{enumerate}
\end{prop}
\begin{proof}
	显然.唯一需要说明的是用(3)中前一条件可行.若$H,K\nsg G$，则$hkh^{-1}k^{-1}\in H\cap K=\{e\}$，因此$hk=kh$.
\end{proof}

此时简单记内直积为$G=H\times K$.不难证明有$G/H\cong K,G/K\cong H$.

\medskip 若群不能分解为两个正规子群的直积，则称$G$是{\heiti 不可分解的}.群的直积分解此后将被用作处理有限交换群的结构，即将其分解为若干有限$p${\heiti 群}(即元素的阶均为素数$p$的幂次的群)的直积再作处理.对一般的非交换群，见附录\hyperlink{subsec:DirectDecomposition}{直积分解}.

\begin{remark}
	若放宽条件如何？若(2)不变而(3)只有$H\nsg G$，则有{\heiti 半直积} $H\rtimes K$，(1)也类似地成立$G=H\rtimes K$.此时也有$G/H\cong K$.一般地可以推广到$H\le\mathrm{N}_G(K)$的情形.

	\hyperlink{text:Semidirect}{半直积}概念直接来自于群作用.
	用半直积运算可以拼出更一般的群，但前提是它有非平凡正规子群，因此有\hyperlink{text:Simple}{单群}的概念.
	而直积和半直积又都是\hyperref[subsec:GroupExtension]{群扩张}的特例.

	若(1)(3)保持$H,K$元素可换而去掉$(2)$，则称$G$是$H,K$的{\heiti 中心积} $H\circ K$.中心积在构造一些群时也是有用的.
\end{remark}
\subsection{子群格}
本节需要一个新的代数结构.设$(L,\le)$是偏序集，若对任意二元集$\{a,b\}\subseteq L$，存在最小上界$a\vee b$(称为{\heiti 并})和最大下界$a\wedge b$(称为{\heiti 交})，则称$L$是{\heiti 格}.

群$G$的全体子群$\mathcal{P}(G)$自然成为偏序集，并且对任意子群$H,K\le G$有
\[
	H\vee K=\langle H,K\rangle ,\quad H\wedge G=H\cap G,
\]
其中记号见\hyperref[subsec:cyclic]{循环群}一节，因此群$G$的全体子群构成{\heiti 子群格}\footnote{虽然子群格是同构不变的，但可能有不同构的群有相同的子群格，例如$Z_2\times Z_8$和$M_{16}$，记号见下节.}.
特别地，交和并保持正规性，即全体正规子群构成子格.

注意子群格若是有限格，可以作出有向图来表示.从图中就可以直观地读出群的所有子群和相互关系，并且借此轻松地计算中心化子、正规化子、生成元集等.同时由于指数的可乘性质(即$H\le K\le G$蕴含$[G:H]=[G:K][K:H]$)，可以在图上标注指数.

特别对于商群，由第二群同构不难证明下述定理.
\begin{thm}[(子群格同构)]
	设$N\nsg G$，则自然映射$\pi\colon G\to\overline{G}$给出了\hypertarget{thm:LatticeIso}{}
	\begin{itemize}
		\item $G$中包含$N$的子群
		\item 商群$\overline{G}$的子群
	\end{itemize}
	之间的双射.特别地,商群$\overline{G}$的子群都形如$\overline{H}=H/N$并且有下述性质
	\begin{enumerate}
		\item $H\le K$当且仅当$\overline{H}\le\overline{K}$.
		\item $H\nsg K$当且仅当$\overline{H}\nsg\overline{K}$.
		\item $H\le K\implies[K:H]=[\overline{K}:\overline{H}]$.
		\item $\overline{\langle H,K\rangle }=\langle \overline{H},\overline{K}\rangle $.
		\item $\overline{H\cap K}=\overline{H}\cap\overline{K}$.\qed
	\end{enumerate}
\end{thm}
\begin{cor*}
	商群$\overline{G}$的子群格$\mathcal{P}(\overline{G})$同构于$\mathcal{P}(G)$的子格.\qed
\end{cor*}

再结合第一群同构，通过子群格很容易看出商群的结构.

\subsection{幺半群}
类似于群，幺半群之间也可以定义{\heiti 幺半群同态}，并且若$\varphi\colon S\to S'$是同态，则$\varphi(S),\ker\varphi$是子幺半群.但是由于$\ker\varphi$一般没有群中的正规性，理解它更困难些.

为此，在幺半群$S$上引入一种特殊的等价关系.若$S$上的等价关系$\sim$满足$a\sim b,c\sim d$蕴含$ac\sim bd$，则称$\sim$是$S$上的{\heiti 同余关系}，从而得到{\heiti 同余类}.现在设$\sim$是幺半群$S$上的同余关系，则全体同余类构成{\heiti 商幺半群} $S/\sim$，并且有$S$到$S/\sim$的{\heiti 自然同态}.
\begin{lemma}
	设$\varphi\colon S\to S'$是幺半群同态，定义$a\sim b\Leftrightarrow\varphi(a)=\varphi(b)$，则$\sim$是同余关系.\qed
\end{lemma}

因此，现在\emph{同态核$\Leftrightarrow$幺元同余类}，并且有经典的同态定理.
\begin{thm}
	设$\varphi\colon S\to S'$是幺半群同态，$S$上的同余关系$\sim$满足$a\sim b$蕴含$\varphi(a)=\varphi(b)$，则存在唯一同态$\psi$使下图交换：
	\[
		\xymatrix{
			S\ar[r]^(0.4)\pi\ar[rd]_\varphi&S/\sim\ar@{.>}[d]^(0.45)\psi\\
			&S
		}
	\]\hypertarget{thm:MonoidHomo}{}
\end{thm}
\begin{proof}
	定义$\psi\colon \bar a\mapsto\varphi(a)$易证.
\end{proof}

最后，对任意非空集$X$，都可将其中元素作为字符生成字符串，从而在字符串的串联操作下生成幺半群.确切地说，任意$X$中元素组成的有限长序列称作{\heiti 字}(允许{\heiti 空字} $\Lambda$).全体字以串联操作作为自然的乘法成为幺半群，称为由$X$生成的{\heiti 自由幺半群} $\widetilde{X}$.
\begin{prop}
	对任意从非空集$X$到幺半群$S$的映射$f\colon X\to S$，存在唯一幺半群同态$\varphi\colon\widetilde{X}\to S$使得$\varphi|_X=f$.\qed\hypertarget{prop:MonoidExtension}{}
\end{prop}

自由幺半群再进一步就能得到重要的\hyperref[section:FreeGroup]{自由群}概念.

\section{群的重要实例}
\subsection{循环群}\label{subsec:cyclic}
对一个代数对象，找其“基”然后将任何元素都视为基的组合是经典的想法.

\begin{definition}
	对群$G$的非空子集$S\subseteq G$，包含它的最小子群称为$S${\heiti 生成的子群}，记为$\langle S\rangle$.不难发现
	\[
		\langle S\rangle=\left\{\prod_{i=1}^rs_i^{n_i}\mid s_i\in S,n_i\in\mathbb{Z}\right\}.
	\]

	若存在有限子集$S\subseteq G$并且$G=\langle S\rangle$，就称$G$是{\heiti 有限生成的}.特别地，由一个元素生成的子群$\langle a\rangle$称为{\heiti 循环群}，定义群$G$中元素的{\heiti 阶}为$|a|:=|\langle a\rangle|$.
\end{definition}
\begin{remark}
	有限生成比有限群更宽松些，有更多奇妙的性质\footnote{例如，有限生成群的子群未必有限生成，必须要求是\emph{指数有限}的子群.反例是二元自由群的子群$\langle y^nxy^{-n}\rangle$.}，但我们将主要在模论中讨论它.
\end{remark}

可以认为循环群就是最简单的一类群，而循环群的研究自然转变为对元素阶的研究.

类似于有限群，我们重点来看有限阶元素，但要注意一些奇异性质\footnote{例如，有限阶元素的乘积可能是无限阶元素，考虑矩阵群.}.

容易发现，元素$a$的阶就是使得$a^n=1$成立的最小正整数$n$(若存在，否则为无限阶).一个常用结论是$a^n=1$蕴含$|a|\mid n$.同时，根据Lagrange定理，$\langle a\rangle \le G$给出$|a|\mid|G|$，即$a^{|G|}=1$.这能推出一些数论结果.
\begin{prop}
	\begin{enumerate}
		\item 若$a$有限阶，则$|a^k|=\dfrac{|a|}{(|a|,k)},\,k\in\mathbb{N}$.
		\item 若$a,b$有限阶、可交换并且$\big(|a|,|b|\big)=1$，则$|ab|=|a||b|$.
	\end{enumerate}
\end{prop}
\begin{proof}
	\hspace*{5.4pt}(1)记$|a|=n,|a^k|=s$，则$n\mid ks$，进而$\frac{n}{(n,k)}\mid s$.反之显然$\frac{n}{(k,n)}\mid s$.

	(2)显然$|ab|\mid|a||b|$.注意$b^{|ab||a|}=(ab)^{|ab||a|}=1$，所以$|b|\mid |ab||a|$，即$|b|\mid|ab|$.同理$|a|\mid|ab|$，从而$|a||b|\mid|ab|$.
\end{proof}
\begin{cor}
	$n$阶循环群中$d$阶元(若存在)的个数为$\varphi(d)$.
\end{cor}
\begin{proof}
	设$|a|=n$，则$|a^k|=d$当且仅当$k=\frac{k'n}{d}$，其中$(k',d)=1$.
\end{proof}

现在，有限循环群的子群结构可以完全确定：任意$s\mid|G|$对应一个循环子群.
\begin{thm}
	设$G=\langle a\rangle$是$n$阶循环群.
	\begin{itemize}
		\item $G$的任何子群都是循环群$\langle a^d\rangle$.
		\item 对任意$s\mid n$存在唯一的$s$阶循环子群.
	\end{itemize}
\end{thm}
\begin{proof}
	设$H\le G$是非平凡子群，取其中最小正幂指数元$a^d$，则$\langle a^d\rangle\le G$，其中$d\ne 0$.对任意$a^k\in H$，设$k=ld+r$，其中$0\le r<d$，则$a^r\in H$，故$r=0$即$a^k=(a^d)^l\in\langle a^d\rangle $，于是$H=\langle a^d\rangle $.反之，对$s\mid n$设$n=ds$，则$|a^d|=s$，从而$s$阶循环子群$\langle a^d\rangle \le G$.
\end{proof}

循环群的结构如此简单，以至于群的阶数成了唯一的同构不变量.
\begin{thm}[(循环群结构)]
	\begin{itemize}
		\item 无限循环群都同构于整数加群$(\mathbb{Z},+)$.
		\item 有限循环群根据阶数分别同构于模$n$整数加群$(\mathbb{Z}_n,+)$\footnotemark.
	\end{itemize}
\end{thm}
\begin{proof}
	作同态$\mathbb{Z}\to\langle a\rangle ,n\mapsto a^n$.
\end{proof}
\footnotetext{模$n$整数环的另一个写法是$\mathbb{Z}/n\mathbb{Z}$，但在不涉及$\mathbb{Z}_p$的另一个含义时我们情愿用后者省些笔墨.}

考虑到通常在群论里我们都谈论乘法而非加法，用$Z_n$记乘法下的$n$阶循环群.
\begin{cor}
	$Z_n$中$k$阶元有$\varphi(k)$个，其中$k\mid n$而$\varphi$是Euler函数.\qed
\end{cor}

下面我们来寻找如何判别一个有限群是否是循环群.首先由Lagrange定理得到
\begin{thm}
	素数阶群$G$都是循环群$Z_p$.\qed
\end{thm}

有限循环群总是Abel群，反之还需要添加什么条件？
\begin{lemma*}
	有限Abel群$G$中存在一个元素，它的阶是所有其他元素的阶的倍数.
\end{lemma*}
\begin{proof}
	设$a\in G$是阶最大的元素$|a|=n$.若存在$m$阶元素$b\in G$使得$m\nmid n$，则存在素数$p$使得$p^r\mid m$但$p^r\nmid n$.因此可设
	\[
		m=p^rl,\,n=p^sk,\,(k,p)=1,\,0\le s<r.
	\]
	于是$|b^l|=p^r,|a^{p^s}|=k$，进而$|b^la^{p^s}|=p^rk>p^sk=n$矛盾.
\end{proof}

定义{\heiti 方次数} $\exp(G)$为$G$中元素阶的最小公倍.根据Lagrange定理得到$\exp(G)\mid|G|$，特别地$\exp(G)\le |G|$.上述引理说明有限Abel群中存在$x$使得$\exp(G)\mid|x|$.
\begin{thm}
	设$G$是有限Abel群.下述命题等价.
	\begin{enumerate}
		\item $G$是循环群.
		\item $\exp(G)=|G|$.
		\item $\forall k\in\mathbb{Z}_+$，$G$中至多有$\varphi(k)$个$k$阶元.
		\item $\forall k\in\mathbb{Z}_+$，方程$x^m=e$在$G$中至多$k$个解.
	\end{enumerate}
\end{thm}
\begin{proof}
	\hspace*{5.4pt}$(1)\Rightarrow(2)(3)(4)$和$(3)\Rightarrow(4)$显然.

	$(2)\Rightarrow(1)$由上述引理，存在$a\in G$使得$\exp(G)\le|a|\le|G|$，即$G=\langle a\rangle $.

	$(4)\Rightarrow(1)$取最大$n$阶元素$a\in G$，则$|G|\ge n$.但由上述引理，$G$是$x^n=e$的解集，因此$|G|\le n$，即$|G|=n,G=\langle a\rangle $是循环群.
\end{proof}
\begin{cor}
	域$F$的乘法群$F^*$的任意有限子群循环.特别地，$\mathbb{Z}_p^*$是循环群.
\end{cor}
\begin{proof}
	因为域上的$n$次多项式至多$n$个根.
\end{proof}

由此推论可知$\mathbb{C}^*$的子群$\mu_n=\left\{z\in\mathbb{C}\mid z^n=1\right\}\cong Z_n$，称为$n$ {\heiti 次单位根群}.

最后我们来看有限循环群的直积.
\begin{prop}
	$Z_{m_1}\times Z_{m_2}$是循环群$\Leftrightarrow(m_1,m_2)=1$.
\end{prop}
\begin{proof}
	这是环论中的显然结论.直接证明也不难.
\end{proof}

一个常用的循环群直积是{\heiti \textbf{Klein}四群} $K_4=Z_2\times Z_2$.后面我们会看到，四阶群只有$Z_4,K_4$两个同构类.章末有更多\hyperref[subsec:ClassificationSmallOrder]{小阶群分类}.

\begin{remark}
	循环群实际上还有不少可供讨论的话题，例如它的\hyperlink{prop:CyclicAuto}{自同构群}可以被完全计算出来(这一般很难做到)，而这需要讨论一般的$\mathbb{Z}_n^*$的结构.
	另外，可从\hyperlink{thm:CyclicFromOrder}{阶数判定}是否循环.
\end{remark}

\subsection{对称群}
对非空集合$\Omega$，它到自身的全体双射按照复合构成$\Omega$上的{\heiti 变换群} $S_\Omega$.

特别地，在$|\Omega|=n$有限时，$S_\Omega$都同构于$\Omega=\{1,\cdots,n\}$时的变换群，称为$n$ {\heiti 元对称群} $S_n$.它的子群称为{\heiti 置换群}.

显然$|S_n|=n!$.对称群$S_n$只保留了$n$个元素最基本的顺序关系，可以认为它也是最基本的一类群(见~\hyperlink{thm:Cayley}{Cayley定理}).

类似于对称群，非空集$X$到自身的全体映射按复合构成幺半群$M(X)$，它的子幺半群称为{\heiti 变换幺半群}.类似于群和变换群的关系，我们有
\begin{lemma}
	任意幺半群$S$都与$S$上的一个变换幺半群同构.\qed
\end{lemma}

回到群范畴.为除去平凡情形，\emph{未经特别说明本节以下均假设$n\ge 3$}.

将$n$元排列自然地对应$S_n$中的置换，那么逆序数也能在$S_n$上定义.确切地说，定义
\[
	\operatorname*{sgn}(\sigma):=\prod_{1\le i<j\le n}\frac{\sigma(i)-\sigma(j)}{i-j},\quad\forall\sigma\in S_n.
\]
\vspace*{-8pt}
\begin{lemma}
	设$n\ge 2$，则$\mathrm{sgn}\colon S_n\to\mu_2$是满同态.
\end{lemma}
\begin{proof}
	任意对换的符号都是$-1$(见下文).同态是显然的.
\end{proof}
\begin{cor*}
	若置换群$G\le S_n$包含奇置换，则它有指数$2$子群.\qed\hypertarget{cor:Index2Permutation}{}
\end{cor*}

根据这个符号映射，符号$1$的称为{\heiti 偶置换}，符号$-1$的称为{\heiti 奇置换}.全体$n$阶偶置换称为$n$ {\heiti 元交错群} $A_n$.根据符号同态得到$A_n\nsg S_n$以及$|A_n|=n!/2$，即$S_n$中奇偶置换各一半.

对称群$S_n$内的置换$\sigma$若满足$\sigma(i_k)=i_{k+1},\sigma(i_r)=i_1$，其中$1\le k<r$，并且保持其余元素不动，则记$\sigma=(i_1\cdots i_r)$为一个$r${\heiti -轮换}.特别地称$(ij)$为{\heiti 对换}.而$(1)$是单位元，记为$1$.

显然，$r$-轮换是$r$阶元，对换是$2$阶元.轮换阶的奇偶性和奇偶置换相反.

注意$(1i)(1j)=(1ji)\ne(1j)(1i)=(1ij)$，即$S_n$不是交换群.但是
\begin{lemma*}
	不交的轮换乘积可交换.\qed
\end{lemma*}

\begin{prop}
	任意置换$\sigma\in S_n$可唯一地写为不交轮换的乘积.
\end{prop}
\begin{proof}
	记$A_0=\{1,\cdots,n\}$.若$\langle \sigma\rangle (1)=A_0$，设$\sigma^n(1)=1$且$n$最小，则$\sigma=(1,\sigma(1),\cdots,\sigma^n(1))$.若不然，从$A_1=A-\langle \sigma\rangle (1)$中选取最小元$i_1$，再考虑$\langle \sigma\rangle (i_1)$得到
	\[
		\sigma=(1,\sigma(1),\cdots,\sigma^n(1))(i_1,\sigma(i_1),\cdots,\sigma^m(i_2)),
	\]
	并且这两个轮换\footnote{这里我们将1-轮换，即单位元也包含在内，但在最后的不交轮换表示里隐去它们不写.} 不交(否则与$i_1$的选取矛盾).如是递推.最后必能穷尽$A_0$得到$\sigma$的不交轮换表示.

	设$\sigma=\sigma_1\cdots\sigma_t=\tau_1\cdots\tau_s$是两个$\sigma$的不交轮换表示.对轮换个数归纳.奠基平凡.假设$\sigma\ne 1$，从而存在$i$使得$\sigma(i)\ne i$，则在$\sigma_1,\cdots,\sigma_t$中存在唯一的一个$\sigma_l$使得$\sigma_l(i)\ne i$.同理$\tau_k(i)\ne i$，并且$\sigma_l(i)=\tau_k(i)$.由轮换的定义，显见$\sigma_l=\tau_k$，从而归纳假设可用.
\end{proof}

\begin{cor*}
	任意置换$\sigma\in S_n$可写为对换的乘积，并且对换个数的奇偶性由其符号$\operatorname*{sgn}(\sigma)$决定.
\end{cor*}
\begin{proof}
	显然$(i_1\cdots i_r)=(i_1i_r)\cdots(i_1i_2)$.后者由符号同态显然.
\end{proof}
\begin{lemma*}[(共轭)]
	$\forall\tau\in S_n,\,\tau(i_1\cdots i_r)\tau^{-1}=(\tau(i_1)\cdots\tau(i_r))$.\qed\hypertarget{ConjugationInSymmetry}{}
\end{lemma*}
\begin{cor*}
	$S_n$由对换生成，$A_n$由3-轮换生成.进一步
	\begin{itemize}
		\item $S_n=\langle (12),(13),\cdots,(1n)\rangle $.
		\item $A_n=\langle (123),(124),\cdots,(12n)\rangle $.
	\end{itemize}
\end{cor*}
\begin{proof}
	偶置换的对换为偶数个，其中相交的两两成对形成3-轮换$(ik)(ij)=(ijk)$.

	注意$(ij)=(1i)(1j)(1i)$以及
	\begin{align*}
		(ijk) & =\big[(1i)(2j)\big](12k)\big[(1i)(2j)\big]^{-1}                 \\
		      & =\big[(1i)(12)(21)(2j)\big](12k)\big[(1i)(12)(21)(2j)\big]^{-1} \\
		      & =(12i)(12j)(12k)(12j)^{-1}(12i)^{-1}.
	\end{align*}
\end{proof}

这样就把对称群$S_n$和交错群$A_n$里的置换完全弄清楚了：设$n=l_1+\cdots+l_t$是$n\ge 3$的一个{\heiti 分拆}，其中$l_1\ge\cdots\ge l_t\ge 1$，记为$(l_1,\cdots,l_t)$.任意置换$\sigma\in S_n$的轮换分解(计1-轮换)中各轮换的阶数都给出了一个$n$的分拆，称为置换$\sigma$的{\heiti 型}.置换的型在此后讨论共轭关系时还有很大作用.
\subsection{自由群}\label{section:FreeGroup}
我们此前考虑了自由幺半群，可想而知应该有一种类似的“自由构造”来产生群.对非空集$X$，为了引入逆元，取一个与$X$等势的集合$X'$并作无交并$X^*=X\sqcup X'$.考虑$X^*$生成的自由幺半群$\widetilde{X}^*$.注意“等势”意味着我们可以固定一个$X$到$X'$的双射，就记为加$'$.

可以想象，$\widetilde{X}^*$还不能成为我们所需的自由群，因为其中某些“化简”后相等的元素现在还被认为是不同的.确切地说，称$\widetilde{X}^*$中的两个字$w_1,w_2$ {\heiti 相邻}，若存在$g,h\in\widetilde{X}^*$和$a_i\in X$使得
\[
	w_1=ga_ia_i'h,\quad w_2=gh.
\]
凡出现这种情形的应该等价，因此定义$\widetilde{X}^*$上的等价关系$\sim$为$w_1\sim w_2$当且仅当存在有限个字$v_1,\cdots,v_l$使得
\begin{enumerate}
	\item $v_1=w_1,\,v_l=w_2$;
	\item $v_j$与$v_{j+1}$相邻，其中$1\le j<l$.
\end{enumerate}
显然$\sim$是同余关系，因此可作商幺半群$\widetilde{X}^*/\sim$.不难发现现在$\widetilde{X}^*/\sim$中的任何字都有逆元，即$\widetilde{X}^*/\sim$是群，称为由$X$生成的{\heiti 自由群} $F(X)$或$F_X$，其中$|X|$称为自由群的{\heiti 秩}.

显然，自由群$F(X)$中的字应该都可以“化简到最短”.字$w\in\widetilde{X}^*$称为{\heiti 可约的}，若存在$g,h\in\widetilde{X}^*$和$a_i\in X$使得$w=ga_ia_i'h$或$w=ga_i'a_ih$.反之则称字$w$ {\heiti 不可约}或{\heiti 既约}.
\begin{prop}
	每个同余类中都有唯一的不可约字代表元，即$F(X)$可视为不可约字组成的群.
\end{prop}
\begin{proof}
	存在性是容易的，对字长作归纳显然.重点来看唯一性.

	设$\Omega$是$\widetilde{X}^*$上的全体不可约字，构造$X^*\to S_\Omega$如下：对任意$x\in X^*$定义$\sigma_x$为
	\[
		\sigma_x(\Lambda)=x,\quad\sigma_x(x_1\cdots x_r)=\begin{cases}
			xx_1\cdots x_r, & x\ne x_1', \\
			x_2\cdots x_r,  & x=x_1'.
		\end{cases}
	\]
	需要验证$\sigma_x\in S_\Omega$，即$\sigma_x$是双射.论证长而不难，略去.现在由\hyperlink{prop:MonoidExtension}{命题4}知存在唯一幺半群同态扩张$\widetilde{X}^*\to S_\Omega$.

	注意到$\sigma_x^{-1}=\sigma_{x'}$，于是若$w_1\sim w_2$，则有$\sigma_{w_1}=\sigma_{w_2}$.假设$w_1\sim w_2$都是不可约字，则$\sigma_{w_1}=\sigma_{w_2}$，特别地
	\[
		\sigma_{w_1}(\Lambda)=w_1=w_2=\sigma_{w_2}(\Lambda).
	\]
\end{proof}
\begin{prop}
	对任意从非空集$X$到群$G$的映射$f\colon X\to G$，存在唯一群同态$\psi\colon F(X)\to G$使得$\psi|_X=f$.\hypertarget{prop:FreeGroupExtension}{}
\end{prop}
\begin{proof}
	补充$x'\mapsto f(x)^{-1}$后由\hyperlink{prop:MonoidExtension}{命题4}自然扩充为幺半群同态$\tilde{f}\colon\widetilde{X}^*\to G$.特别地将其限制在不可约字$\Omega$上，则由补充的定义，同余的字给出相同的结果，因此$\tilde{f}|_X$也是关于不可约字的同态，即有群同态$\psi\colon F(X)\to G$.
\end{proof}
\begin{thm}
	任何群都是自由群的同态像，即任何群都同构于自由群的商群.
\end{thm}
\begin{proof}
	取群$G$的生成元集$X$并且要求$X\cap X^{-1}=\varnothing$.将自然的嵌入$X\hookrightarrow G$按照\hyperlink{prop:FreeGroupExtension}{命题5}扩张为群同态$\psi\colon F(X)\to G$.注意对任意$g\in G$，它能写为有限个$x_i\in X$及其逆的乘积，从而自然地在$F(X)$中有(不可约)字对应，即$\psi$是满同态.
\end{proof}

上述定理说明了自由群为何重要，任何群$G\cong F(X)/Y$是自由群的商.注意自由群总是无限群，而除了一元自由群同构于$\mathbb{Z}$外，自由群还都是非Abel的，因此需要更多的限制来方便研究.

一方面，若$X$有限，称$G$是{\heiti 有限生成的}.这一性质此前就提到过了，关键是新出现的正规子群$Y$的性质.
若不可约字$w=x_1\cdots x_r\in Y$则在群$G$中有$x_1\cdots x_r=1$，即正规子群$Y$实际上给出了生成元的所有关系.关键是找出其中的(最好是有限个)基本关系.

对子集$S\subseteq G$，包含它的最大正规子群是正规化子$\mathrm{N}_G(S)$.相反地，包含它的最小正规子群称为$S$的{\heiti 正规闭包} $S^G$，它是包含$S$的所有正规子群的交.特别地，若正规子群$N$是有限集$S$的正规闭包，则称$N$是{\heiti 有限生成的正规子群}，$S$中元素称为$N$的生成元.

因此，若$X$有限，$Y$是有限生成的正规子群，则称$G$ {\heiti 有限展示}.此时设$X=\{g_1,\cdots,g_n\}$而$Y$的生成元集$\{w_1,\cdots,w_r\}$，则$w_1=\cdots=w_r=1$就是生成元所需满足的{\heiti 生成关系}.记
\[
	G=\langle g_1,\cdots,g_n\mid w_1=\cdots=w_r=1\rangle ,
\]
这就称为$G$的一个{\heiti 展示}.
\begin{remark}
	需要注意的是，对给定的有限展示提出的三个问题
	\begin{itemize}
		\item (字问题)判断给定字是否属于$Y$
		\item (共轭问题)判断给定两字在$G$中是否共轭
		\item (同构问题)判断两个有限展示是否给出同构的群
	\end{itemize}
	都是\emph{不可判定的}，而只对特殊的群有算法(如辫群)，归于几何群论.
\end{remark}
\begin{remark}
	构造自由群的过程可以类似地用于构造幺半群$G,H$的{\heiti 自由积} $G*H$，即不仅约去与$G,H$中单位元相同的部分，还约去$G,H$中元素的乘积.显然$F_n*F_m=F_{m+n}$.实际上若$G,H$有展示$G=\langle S_G\mid R_G\rangle $和$H=\langle S_H\mid R_H\rangle $，则自由积$G*H=\langle S_G\cup S_H\mid R_G\cup R_H\rangle $.
\end{remark}

最后这个结论的证明使用了代数拓扑的手段，仅供欣赏.
\begin{thm}[(Nielsen-Schreier)]
	自由群的子群是自由群.
\end{thm}
\begin{proof}
	由van Kampen定理，自由群$F(X)$同构于$S^1$的$|X|$次一点并$B_X$的基本群$\pi_1(B_X)$.子群$H\le F(X)$是连通覆叠空间$Y\to X$的基本群，其中$Y$是一个拓扑图.连通图有极大生成子树，将子树形变收缩到一点就得到$H$是若干$S^1$的一点并的基本群，即$H$自由.
\end{proof}

\begin{remark}
	有时我们也需要{\heiti 自由Abel群}，它就是自由群加上用于保证元素可交换的生成关系.秩$r$的自由Abel群是$\mathbb{Z}^{r}=\mathbb{Z}\oplus\cdots\oplus\mathbb{Z}$.它实际上就是秩$r$自由群的\hyperlink{text:Abelianization}{交换化}.
\end{remark}
\subsection{杂例}
先举两个有限群的重要例子，它们都是此前说的有限展示群，下标就是其阶数.

{\heiti 二面体群} $D_{2n}$定义为
\[
	D_{2n}=\langle r,s\mid r^n=s^2=1,\,srs=r^{-1}\rangle .
\]
二面体群可以从正$n$边形的对称群中得到，这里$r$就是旋转$\frac{2\pi}{n}$而$s$是反射.

{\heiti 四元数群} $Q_8$定义为
\[
	Q_8=\langle i,j\mid i^2=j^2,\,i^4=1,\,jij^{-1}=i^{-1}\rangle .
\]
当然这是严格按展示的要求写出的，一般不严格地写为
\[
	Q_8=\langle -1,i,j,k\mid i^2=j^2=k^2=-1,\,ij=k,\,(-1)^2=1\rangle .
\]
自然，四元数群$Q_8$就是四元数体的乘法群.
\begin{remark}
	此外还有{\heiti 广义四元数群}\footnote{也称dicyclic.} $Q_{4n}$，定义为
	\[
		Q_{4n}=\langle x,y\mid x^{2n}=y^4=1,\,x^n=y^2,\,y^{-1}xy=x^{-1}\rangle .
	\]
	显然$n=2$就是四元数群.

	对于作为$2$群的二面体群$D_{2^n}$类似地有$2^n$阶的{\heiti 准二面体群} $QD_{2^n}$或$SD_{2^n}$\footnote{quasi-dihedral或semi-dihedral.}
	\[
		\langle r,s\mid r^{2^{n-1}}=s^2=1,\,srs=r^{2^{n-2}-1}\rangle .
	\]
	另一个类似的群是
	\[
		\langle r,s\mid r^{2^{n-1}}=s^2=1,\,srs=r^{2^{n-2}+1}\rangle .
	\]
	它们都是$Z_{2^{n-1}}=\langle r\rangle $和$Z_2=\langle s\rangle $的半直积.不难发现$Z_{2^{n-1}}\rtimes Z_2$非Abel当且仅当$srs\ne r$.若要求内自同构$s\bullet s$对合，实际上也就对应$\mathbb{Z}_{2^{n-1}}^*$的全部二阶元\footnotetext{见章末\hyperlink{prop:CyclicAuto}{循环群的自同构群}} $2^{n-1}-1$ , $2^{n-2}-1$ , $2^{n-2}+1$.它们分别对应二面体群、准二面体群和第三个无名群(在$n=4$时记为$M_{16}$).
\end{remark}

{\heiti 矩阵群}则是无限群的典型例子，它们也是所谓Lie群的经典案例.如下几类称为{\heiti 典型群}.
\begin{itemize}
	\item {\heiti 一般线性群} $\mathrm{GL}_n(F)$\quad ---{\heiti 特殊线性群} $\mathrm{SL}_n(F)$
	\item {\heiti 正交群} $\mathrm{O}_n$\quad ---{\heiti 特殊正交群} $\mathrm{SO}_n$
	\item {\heiti 辛群} $\mathrm{Sp}_{2n}(F)$
	\item {\heiti 酉群} $\mathrm{U}_n$\quad ---{\heiti 特殊酉群} $\mathrm{SU}_n$
\end{itemize}
其中$F$是域.用矩阵群作为出发点来研究一般的群也很有用处，即群表示论.

对域$F$，它自然地对应了两个群.一是Abel加法群$F$，二是Abel乘法群$F^*$或$F^\times$.类似地，环$R$也对应有Abel加法群$R$和乘法群$R^*$或$R^\times$.
\subsection{中心与换位子}
对群$G$，它交换性的衡量可以用其中心$Z(G)\nsg G$.群$G$交换当且仅当$Z(G)=G$.
\begin{prop}
	若$G/Z(G)$循环，则$G$是Abel群.\qed
\end{prop}

作为例子，不难计算出
\begin{itemize}
	\item 对称群$S_n$的中心$Z(S_n)=1$.($n\ge 3$)
	\item 交错群$A_n$的中心$Z(A_n)=1$.($n\ge 4$)
	\item 二面体群$D_{2n}$的中心$Z(D_{2n})=1$\,($n$奇)或$\langle r^{n/2}\rangle \cong Z_2$\,($n$偶).
\end{itemize}

对$x,y\in G$定义{\heiti 换位子}\footnote{有时换位子也被定义为$x^{-1}y^{-1}xy$，这在处理某些问题时更方便.在写$[x,y]$时采取何种定义将由上下文确定.} $[x,y]=xyx^{-1}y^{-1}$，则$x,y$可换当且仅当$[x,y]=1$.这提示我们定义子群$H,K\le G$的{\heiti 换位子}
\[
	[H,K]:=\langle [h,k]\mid h\in H,\,k\in K\rangle .
\]
显然$H,K$中元素可换当且仅当$[H,K]=1$.一般地$[H,K]\nsg\langle H,K\rangle $.
\begin{lemma}
	设$H,K\le G$，则
	\begin{enumerate}
		\item $[H,K]\subseteq K$当且仅当$H$正规化$K$，即$H\le\mathrm{N}_G(K)$.
		\item 若$H,K\nsg G$，则$[H,K]\nsg G$并且$[H,K]\le H\cap K$.\qed
	\end{enumerate}
\end{lemma}

简记$[x,y,z]:=[[x,y],z]$和$[X,Y,Z]:=[[X,Y],Z]$.
\begin{lemma*}[(三子群引理)]
	若$[X,Y,Z]=[Y,Z,X]=1$则$[Z,X,Y]=1$.
\end{lemma*}
\begin{proof}
	验证$[x,y^{-1},z]^y[y,z^{-1},x]^z[z,x^{-1},y]^x=1$，其中共轭$x^y:=y^{-1}xy$.
\end{proof}

特别地，$[G,G]\nsg G$称为$G$的{\heiti 换位子群}或{\heiti 导出子群}，也记作$G'$或$G^{(1)}$.注意$G$交换当且仅当$G'=1$.商群$G/G'$就称为$G$的{\heiti 交换化}，它是极大交换商.\hypertarget{text:Abelianization}{}
\begin{prop}
	设$\sigma\in\hom(G,\tilde{G})$，则$\Im\sigma$是Abel群$\iff G'\le\ker\sigma$.
\end{prop}
\begin{proof}
	$\sigma(x)\sigma(y)=\sigma(y)\sigma(x)$当且仅当$[x,y]\in\ker\sigma$.
\end{proof}
\begin{cor*}
	设$N\nsg G$，则$G/N$是Abel群$\iff G'\le N$.即$G/G'$是最大的Abel商群.\qed
\end{cor*}

作为例子，不难计算出
\begin{itemize}
	\item 对称群$S_n$的换位子群$S_n'=A_n$.($n\ge 3$)
	\item 交错群$A_n$的换位子群$A_4'=K_4$，当$n\ge 5$时$A_n'=A_n$.
	\item 二面体群$D_{2n}$的换位子群$D_{2n}'=\langle r^2\rangle\cong Z_n$($n$奇)或$Z_{n/2}$($n$偶).
\end{itemize}

\subsection{有限Abel群}
\begin{definition}
	设$G$是有限生成Abel群，若
	\[
		G\cong\mathbb{Z}^r\oplus\bigoplus_{i=1}^k\mathbb{Z}_{d_i}\cong\mathbb{Z}^r\oplus\bigoplus_{i=1}^t\bigoplus_{j=1}^{k_i}\mathbb{Z}_{p_i^{l_{ij}}},
	\]
	其中$d_i\mid d_{i+1}$，则称$r$为$G$的{\heiti 秩}，$d_1,\cdots,d_k$为$G$的{\heiti 不变因子}，$p_i^{l_{ij}}$为$G$的{\heiti 初等因子}.
\end{definition}
\begin{remark}
	这是PID上有限生成模的同款术语.初等因子和不变因子等价，因此下面只考虑初等因子.
\end{remark}
\begin{thm}[(有限Abel群结构)]
	\begin{itemize}
		\item 有限Abel群总存在初等因子.
		\item 有限Abel群同构当且仅当初等因子相同.
	\end{itemize}\hypertarget{thm:FiniteAbelStruc}{}
\end{thm}
\begin{proof}
	只证明第一条存在性，唯一性证明是有限生成模的典型操作.
	
	注意只需考虑Abel $p$群的结构.对一般的有限Abel群$G$，设$P_1,\cdots,P_k$为它的各素因子的Sylow子群，则$P_1,\cdots,P_k$交平凡且$|P_1\cdots P_k|=|G|$，因此$G=P_1\times\cdots\times P_k$.

	设$P$是Abel $p$群，即$|P|=p^n$.取$P$的极小生成元集$S$，对$|S|$归纳.若$|S|=1$，则$P\cong Z_{p^n}$循环.若$|S|=r+1$，注意$P$是有限表现的，不妨设$S=\{x_0,\cdots,x_r\}$且有生成关系$x_0^sx_1^{i_1}\cdots x_r^{i_r}=1$使得$s>0$极小.

	断言$m\mid i_1$.若不然，设$i_1=qm+i_1'$则有$(x_0x_1^q)^mx_1^{i_1'}\cdots x_r^{i_r}=1$，其中$i_1'<m$且$\{x_1,x_0x_1^q,\cdots,x_r\}$是生成元集，与$m$极小矛盾.同理$m\mid i_1,\cdots,i_r$.设$i_k=j_km$，则$(x_0x_1^{j_1}\cdots x_r^{j_r})^m=1$.因此得到$m$阶元$x:=x_0x_1^{j_1}\cdots x_r^{j_r}$，进而$m=p^\ell$.

	令$\tilde P=\langle x_1,\cdots,x_r\rangle $，则$P=\langle x\rangle \tilde P$.断言$\langle x\rangle \cap\tilde{P}=1$.若不然，存在$m'<m$使得$x^{m'}\in\tilde{P}$，与$m$极小矛盾.于是$P=\langle x\rangle \times\tilde{P}$.归纳完毕.
\end{proof}

{\heiti 初等交换$p$群} $\mathbb{Z}_p^n$ (也记为$E_{p^n}$).注意Klein四群$K_4\cong Z_2\times Z_2$就是初等$p$群的例子.

对有限生成Abel群同样有类似的结构定理.它一定是$\mathbb{Z}^r$和{\heiti 挠子群}(全体有限阶元素)的直积，而挠子群是一个有限Abel群.

\begin{thm}[(有限生成Abel群结构)]
	有限生成Abel群同构当且仅当秩和初等因子都相同.\qed
\end{thm}

利用上述结构定理，容易给出Abel群的完全分类.但需要注意的是非Abel群的分类就异常复杂.简单的\hyperref[subsec:ClassificationSmallOrder]{小阶群分类}还可以做到.

\section{群列}
\subsection{群扩张}\label{subsec:GroupExtension}
群范畴里的同态序列$A\overset{f}{\to} B\overset{g}{\to} C$若满足$\Im f=\ker g$，就称为在$B$处{\heiti 正合}.定义下述每一处都正合的{\heiti 短正合列}
\[
	\xymatrix{
		1\ar[r]&N\ar[r]^\iota&G\ar[r]^\pi&H\ar[r]&1,
	}
\]
即$\iota$是单同态，$\pi$是满同态.此时称群$G$是$N$关于$H$的{\heiti 群扩张}.

由同态基本定理，$\iota(N)\nsg G$并且$G/\iota(N)\cong H$.
可见，直积$N\times H$和半直积$N\rtimes H$都成为群扩张的基本例子，分别称为{\heiti 平凡扩张}和{\heiti 分裂扩张}\footnote{\emph{分裂}(split)实际上指同态$\pi\colon G\to H$分裂，即有\emph{截面} $s\colon H\to G$也是同态并且$\pi\circ s=1$.}.

要注意群扩张并不唯一，例如$Z_4$和$K_4$都满足扩张
\[
	\xymatrix{
		1\ar[r]&Z_2\ar[r]&G\ar[r]&Z_2\ar[r]&1.
	}
\]
一般地，循环群关于循环群的扩张称为{\heiti 亚循环群}.有限亚循环群有如下展示.
\begin{thm}[(H\"older)]
	$G$是$Z_n$关于$Z_m$的扩张，其中$n,m\ge 2$，当且仅当
	\[
		G=\langle a,b\mid a^n=1,\,b^m=a^t,\,b^{-1}ab=a^r\rangle ,
	\]
	其中参数$t,r$满足\hypertarget{thm:Metacyclic}{}
	\[
		r^m\equiv 1\pmod{n},\quad t(r-1)\equiv 0\pmod{n}.
	\]
\end{thm}
\begin{proof}
	设$G$是亚循环群，则$N=\langle a\rangle\cong Z_n$和$G/N=\langle bN\rangle \cong Z_m$，从而$b^m=a^t$.由于$N\nsg G$，所以设$b^{-1}ab=a^r$.下面验证$t,r$满足题述关系.注意$a=b^{-m}ab^m=a^{r^m}$，因此$r^m\equiv 1\pmod n$.注意$a^t=b^{-1}a^tb=a^{tr}$，因此$t(r-1)\equiv 0\pmod n$.

	反之，参数$m,n,t,r$可对应于$G=\{b^ja^i\mid 0\le j<m,0\le i<n\}$并自然地定义乘法
	\[
		(b^ja^i)\cdot (b^{j'}a^{i'}):=b^{j+j'}(b^{-j'}ab^{j'})^ia^{i'}=b^{j+j'}a^{ir^{j'}+i'}.
	\]
	现在$G$成为群，并且$N=\langle a\rangle\cong Z_n$是正规子群，同时$G/N\cong Z_m$.
\end{proof}

例如，$D_{2n},Q_{4n}$都是常见的亚循环群.

对于一般的群$G$，若它有非平凡正规子群$N\nsg G$，则$G$总可视作$N$被$G/N$扩张.
\[
	\xymatrix{
		1\ar[r]&N\ar[r]&G\ar[r]^(0.4)\pi&G/N\ar[r]&1.
	}
\]
自然地，考虑只有平凡正规子群的非平凡群，称为{\heiti 单群}.\hypertarget{text:Simple}{}

\begin{prop}
	Abel单群只有全体素数阶循环群$Z_p$.\qed
\end{prop}

非Abel单群的一类典型代表是$n\ge 5$的交错群$A_n$(注意$A_3\cong Z_3$而$K_4\nsg A_4$).

\begin{thm}
	交错群$A_n$在$n\ge 5$时是单群.
\end{thm}
\begin{proof}
	设$1\ne H\nsg A_n$.断言只要$H$中有至少1个3轮换，$H$就包含所有3轮换，进而$H=A_n$.这是因为对任意3轮换$(i_1i_2i_3)$和$(j_1j_2j_3)$，由于$n\ge 5$，适当补充对换后总存在$\varphi\in A_n$使得$\varphi(i_1i_2i_3)\varphi^{-1}=(j_1j_2j_3)$.根据$H$正规得证.

	取$H$中有最多的$k$个不动点的置换$\tau\ne\mathrm{id}$.注意$\tau$不是对换，因此$k\le n-3$.不妨设$k\le n-4$，否则$\tau$就是一个3轮换.作$\tau$的轮换分解.
	\begin{enumerate}
		\item 若分解只含对换，不妨设$\tau=(12)(34)\cdots$.考虑$\tau'=\tau^{-1}(345)\tau(345)^{-1}$，它至少有$n-3$个不动点，矛盾.
		\item 若分解不只对换，不妨设$\tau=(123\cdots)\cdots$.由于4轮换是奇置换，此时$k>4$.假设$4,5$非不动点，考虑$\tau'=\tau^{-1}(345)\tau(345)^{-1}$，它至少有$n-4$个不动点，矛盾.
	\end{enumerate}
\end{proof}

目前，全部有限单群的分类工作已经完成.它们是

\noindent\begin{enumerate*}
	\item 素数阶循环群$Z_p$.
	\item $n\ge 5$的交错群$A_n$.
	\item 16族Lie型单群.
	\item 26个散在单群.
\end{enumerate*}

\subsection{合成群列}
\begin{definition}
	群$G$的有限子群列
	\[
		1=G_0\nsg G_1\nsg\cdots\nsg G_{n-1}\nsg G_n=G
	\]
	称为{\heiti 次正规列}，商群$G_{k+1}/G_k$称为{\heiti 子商}.若子群$H$在某个次正规列中，称$H\nsg\nsg G$ {\heiti 次正规}.
	
	若次正规列的子商都是单群，则称为{\heiti 合成群列}.
\end{definition}

不难看出，次正规列实际上就是$G$的一种群扩张构造方式.而合成群列就对应于都用单群作群扩张.首当其冲的自然是合成群列的存在性.
\begin{lemma*}
	有限群$G$总有合成群列.
\end{lemma*}
\begin{proof}
	考虑$G$的极大正规子群(即满足$N\pnsg G$的包含关系极大元).若极大正规子群$N$非平凡，则$G/N$是单群，$G$是单群$G/N$关于$N$的扩张.注意$|N|<|G|$，故当$G$有限时，这一步骤最后终止，即有限群$G$总是若干单群的扩张.
\end{proof}
\begin{remark}
	无限群不一定有合成群列(哪怕有限生成).例如整数加群$\mathbb{Z}$，它的正规列每一项都只能形如$p_1\cdots p_r\mathbb{Z}$，无法得到平凡群.
\end{remark}

下面说明群$G$的合成群列具有唯一性.确切地说，它的全体合成因子(计重数)唯一.若群$G$的两个次正规列长度相等并且商群(不计顺序、计重数)对应同构，称次正规列{\heiti 等价}.

\begin{lemma*}[(Zassenhaus)]
	设群$G$有子群$\tilde{U},\tilde{V}$.若$U\nsg\tilde{U},V\nsg\tilde{V}$，则有如下商群同构
	\[
		\frac{U(\tilde{U}\cap\tilde{V})}{U(\tilde{U}\cap V)}\cong\frac{(\tilde{U}\cap\tilde{V})V}{(U\cap\tilde{V})V}.
	\]
\end{lemma*}
\begin{proof}
	不难验证有子群格如下
	\[
		\xymatrix{
			&\tilde{U}\ar@{-}[d]&&\tilde{V}\ar@{-}[d]&\\
			&U(\tilde{U}\cap\tilde{V})\ar@{--}[dd]\ar@{--}[rd]&&(\tilde{U}\cap\tilde{V})V\ar@{--}[dd]\ar@{--}[ld]&\\
			&&\tilde{U}\cap\tilde{V}\ar@{--}[dd]&&\\
			&U(\tilde{U}\cap V)\ar@{-}[ld]\ar@{--}[rd]&&(U\cap\tilde{V})V\ar@{--}[ld]\ar@{-}[rd]&\\
			U\ar@{-}[rd]&&(U\cap\tilde{V})(\tilde{U}\cap V)\ar@{-}[ld]\ar@{-}[rd]&&V\ar@{-}[ld]\\
			&U\cap\tilde{V}&&\tilde{U}\cap V&
		}
	\]
	对图中两平行四边形用第一群同构得到
	\begin{equation*}
		\frac{U(\tilde{U}\cap\tilde{V})}{U(\tilde{U}\cap V)}\cong\frac{\tilde{U}\cap\tilde{V}}{(U\cap\tilde{V})(\tilde{U}\cap V)}\cong\frac{(\tilde{U}\cap\tilde{V})V}{(U\cap\tilde{V})V}.
	\end{equation*}
\end{proof}
\begin{thm}[(Schreier加细)]
	设$G$有两个次正规列
	\begin{align*}
		G & =G_0\trianglerighteq G_1\trianglerighteq\cdots\trianglerighteq G_r=1, \\
		G & =H_0\trianglerighteq H_1\trianglerighteq\cdots\trianglerighteq H_s=1,
	\end{align*}
	则它们有等价的加细.
\end{thm}
\begin{proof}
	定义
	\[
		G_{i,j}=G_{i+1}(H_j\cap G_i),\quad H_{j,i}=(G_i\cap H_j)H_{j+1}.
	\]
	它们是子群，并且有$G_{i,j+1}\nsg G_{i,j}$和$G_{i,0}=G_i,\,G_{i,s}=G_{i+1}$.这就将每处$G_i\trianglerighteq G_{i+1}$都加细为
	\[
		G_i=G_{i,0}\trianglerighteq G_{i,1}\trianglerighteq \cdots\trianglerighteq G_{i,s-1}\trianglerighteq G_{i,s}=G_{i+1}.
	\]
	对$H_{j,i}$亦同理.对加细后长度均为$rs+1$的正规列，Zassenhaus引理给出
	\begin{equation*}
		G_{i,j}/G_{i,j+1}=\frac{G_{i+1}(G_i\cap H_j)}{G_{i+1}(G_i\cap H_{j+1})}\cong\frac{(G_i\cap H_j)H_{j+1}}{(G_{i+1}\cap H_j)H_{j+1}}=H_{j,i}/H_{j,i+1}.
	\end{equation*}
\end{proof}
\begin{thm}[(Jordan--H\"older)]
	群$G$的任何合成群列等价.\qed
\end{thm}

这说明群$G$合成群列的子商与其选取无关，定义为群$G$的{\heiti 合成因子}.群$G$的全体合成因子记为Jordan--H\"older因子集(计重数) $\mathrm{JH}(G)$.
\begin{remark}
	注意$\mathrm{JH}(G)$虽然是同构不变量，但是用单群搭建群$G$的方式依然重要.例如$Z_4$和$K_4$就有相同的合成因子$Z_2,Z_2$.此后会提及一种特殊情况：\hyperlink{thm:SchurZassenhaus}{Schur--Zassenhaus定理}.
\end{remark}

最后，若群$G$是$N$关于$Q$的扩张并且$N,Q$有合成群列，则$G$有合成群列并且$\mathrm{JH}(G)=\mathrm{JH}(N)\cup\mathrm{JH}(Q)$，其中取并集计重数.这推出
\begin{prop}
	有限Abel群$G$的合成因子$\mathrm{JH}(G)$都是素数阶循环群$Z_p$.
\end{prop}
\begin{proof}
	设$G$非平凡，由~\hyperlink{thm:Cauchy}{Cauchy定理}知$Z_p\nsg G$，从而有群扩张$1\to Z_p\to G\to G/Z_p\to 1$.对$|G|$作归纳即证.
\end{proof}
\begin{remark}
	下节将进一步指出有限Abel群幂零.这些结果在解明\hyperlink{thm:FiniteAbelStruc}{有限Abel群结构}后都是显然的.
\end{remark}
\subsection{可解群与幂零群}
\begin{definition}
	群$G$的次正规列$1=G_0\nsg G_1\nsg\cdots\nsg G_n=G$若满足
	
	\begin{enumerate*}
		\item $G_i\nsg G$,\phantom{\qquad}
		\item $G_{i+1}/G_i\subseteq Z(G/G_i)$,
	\end{enumerate*}
	
	则称为{\heiti 中心列}.两条件可合写为$[G_{i+1},G]\le G_i$.
\end{definition}
\begin{definition}
	设$G$是群，则
	\begin{enumerate}
		\item 若存在$G$的正规列满足子商都是Abel群，称$G$是{\heiti 可解群}.
		\item 若存在正规列满足$G_i\nsg G$以及子商是Abel单群，称$G$是{\heiti 超可解群}.
		\item 若存在中心列，称$G$是{\heiti 幂零群}.
	\end{enumerate}
\end{definition}

为了更具操作性地研究这些群，引入指定的特殊正规列.递归定义
\begin{itemize}
	\item {\heiti 导出列} $G^{(0)}:=G,\,G^{(i+1)}:=[G^{(i)},G^{(i)}]$.
	\item {\heiti 降中心列} $\gamma_0(G):=G,\,\gamma_{i+1}(G):=[\gamma_i(G),G]$.
\end{itemize}


易知$G^{(i)}\le\gamma_i(G)$.注意$G^{(i)},\gamma_i(G)\nsg G$并且$G^{(i)}/G^{(i+1)}$交换，同时$\gamma_i(G)/\gamma_{i+1}(G)\subseteq Z(G/\gamma_{i+1}(G))$.
\begin{prop}
	对任意群$G$有
	\begin{enumerate}
		\item 群$G$可解$\iff\exists n\in\mathbb{N},\,G^{(n)}=1$.
		\item 群$G$幂零$\iff\exists n\in\mathbb{N},\,\gamma_n(G)=1$.
	\end{enumerate}
\end{prop}
\begin{proof}
	\hspace*{5.4pt}(1)若群$G$正规列$G=G_0\trianglerighteq G_1\trianglerighteq\cdots\trianglerighteq G_n=1$的子商$G_{i}/G_{i+1}$交换，归纳易知$G^{(i)}\le G_i$，从而$G^{(n)}=1$.

	(2)若群$G$有中心列$G=G_0\trianglerighteq G_1\trianglerighteq\cdots\trianglerighteq G_n=1$.由$[G_i,G]\le G_{i+1}$经归纳易得$\gamma_i(G)\le G_i$，从而$\gamma_n(G)=1$.
\end{proof}
\begin{remark}
	幂零群$G$的$\gamma_n(G)=1$意味着对任意$x\in G$映射$\operatorname*{ad}_x=[x,\bullet]$的$n$次迭代变为平凡映射$g\mapsto 1$.因此将其称为“幂零群”是合理的.\footnote{对$\gamma_n(G)=1$称最小的$n$为幂零群$G$的\emph{幂零指数}(nilpotency class).}
\end{remark}



我们讨论的三种良好性质都能传递到子群和商群.而可解性还与群扩张相容，即
\begin{prop}
	设$\mathcal{P}$为可解、超可解或幂零性质.
	\begin{enumerate}
		\item 若$G$具性质$\mathcal{P}$，则$G$的子群、商群也具性质$\mathcal{P}$.
		\item 若$N,Q$可解，则$N$关于$Q$的群扩张也可解.
	\end{enumerate}
\end{prop}
\begin{proof}
	先对幂零和可解作证明.对子群$H\le G$显然有$H^{(i)}\subseteq G^{(i)}$.记$\overline{G}=G/N$，归纳易知$\overline{G}^{(i)}\cong G^{(i)}/N$.因此可解性传递到$H,\overline{G}$上.对幂零性同理.

	对超可解性，设$G$有对应正规列$G=G_0\trianglerighteq\cdots\trianglerighteq G_r=1$满足$G_i\nsg G$并且子商素数阶循环.对子群$N$和商群$\overline{G}$取$N_i=N\cap G_i$和$\overline{G}_i=\pi(G_i)$，不难验证相应群列符合要求，即$N,\overline{G}$超可解.
	
	又设$N\nsg G$和$\overline{G}$可解，即$\overline{G}^{(r)}=1$以及$N^{(s)}=1$，则$G^{(r)}\subseteq N$，进而$G^{(r+s)}=1$.
\end{proof}
\begin{cor*}
	若群$G$有合成群列，则$G$可解当且仅当$\mathrm{JH}(G)$均可解.\qed
\end{cor*}

对于群扩张的原子，单群一般是不可解的.
\begin{prop}
	单群$G$可解当且仅当$G\cong Z_p$是素数阶循环群.\qed
\end{prop}
\begin{proof}
	非Abel单群$G$只能$G'=G$不可解.Abel单群只有$Z_p$.
\end{proof}
\begin{remark}
	单群的可解性质将在Galois理论中发挥重要作用.实际上，“可解群”的概念就由此发祥.
\end{remark}
\begin{cor*}
	有限群$G$可解当且仅当$\mathrm{JH}(G)$由素数阶循环群$Z_p$组成.\qed
\end{cor*}

由中心列的定义或者$G^{(i)}\le\gamma_i(G)$可知\emph{幂零}$\Rightarrow$\emph{可解}.特别对有限群有强一些的结论.
\begin{prop}
	有限群$G$满足：幂零$\Rightarrow$超可解$\Rightarrow$可解.
\end{prop}
\begin{proof}
	只需幂零蕴含超可解.设$G$幂零$\gamma_{r+1}(G)=1$.注意$\gamma_r(G)\subseteq Z(G)$交换，取合成群列
	\[
		\gamma_r(G)=V_0\trianglerighteq V_1\trianglerighteq\cdots\trianglerighteq V_{s+1}=1,
	\]
	其中子商都是素数阶循环群.由于$V_j\le \gamma_r(G)\subseteq Z(G)$，有$V_j\nsg G$.
	
	对降中心列长度$r$归纳，上述内容完成了$r=0$.按归纳可设$\overline{G}=G/\gamma_r(G)$有正规列
	\[
		\overline{G}=\overline{G}_0\trianglerighteq\cdots\trianglerighteq\overline{G}_{t+1}=1
	\]
	满足$\overline{G}_i\nsg\overline{G}$以及子商都是素数阶循环群.取$G_i$为$\overline{G}_i$原像，则有正规列
	\[
		G=G_0\trianglerighteq\cdots\trianglerighteq G_t\trianglerighteq V_0\trianglerighteq\cdots\trianglerighteq V_{s+1}=1
	\]
	使得$G$为超可解群.
\end{proof}

关于有限可解群和单群有重要的定理如下.
\begin{thm}[(Feit-Thompson)]
	下面是定理的两种等价表述.
	\begin{enumerate}
		\item 奇数阶群都可解.
		\item 奇数阶单群只能是素数阶$Z_p$.\qed
	\end{enumerate}
\end{thm}
\begin{thm}[(Burnside)]
	$p^aq^b$阶群是可解的.\qed
\end{thm}
\begin{remark}
	Burnside定理是群表示论的典型应用.它的一个推广是~\hyperlink{thm:Hall}{Hall定理}的逆.
\end{remark}

幂零群的另一等价描述是递归定义如下正规列
\begin{itemize}
	\item {\heiti 升中心列} $Z_0(G):=1$，$Z_{i+1}(G)$满足$Z_{i+1}/Z_i=Z(G/Z_i)$.
\end{itemize}
注意$Z_i(G)\nsg Z_{i+1}(G)$是{\heiti 高阶中心} $Z_i(G)\nsg G$.用升中心列给出幂零的等价定义为
\begin{prop}
	群$G$幂零$\iff\exists n\in\mathbb{N},\,Z_n(G)=G$.
\end{prop}
\begin{proof}
	若幂零群$G$有中心列$G=G_n\trianglerighteq\cdots\trianglerighteq G_1\trianglerighteq G_0=1$，不难归纳得到$G_i\subseteq Z_i(G)$，因此$Z_n(G)=G$.另一侧显然.
\end{proof}
\begin{remark}
	设群$G$幂零类为$c$，则不难证明$Z_i(G)\le \gamma_{c-i-1}(G)\le Z_{i+1}(G)$.两种中心列也是“中心”和“换位子”这两种交换性衡量的表现.
\end{remark}
\begin{prop}
	有限$p$群都幂零.
\end{prop}
\begin{proof}
	由\hyperlink{prop:NormalityLargeOfpGrp}{后文命题}有$Z(G)\ne 1$.进一步有$Z_{i+1}/Z_i=Z(G/Z_i)\ne 1$.因此由$G$有限知$Z_n(G)=G$，即$G$幂零.
\end{proof}

更多相关内容见附录\hyperlink{subsec:NilpotentSolvable}{幂零群与可解群}.

\section{群作用}
\subsection{基本性质与结论}
\begin{definition}
	设$G$是群，集合$\Omega$非空，则$\psi\in\hom(G,S_\Omega)$称为{\heiti 群$G$在$\Omega$上的作用}.若群作用的核$\ker\psi=1$，即$\psi$是单同态，则称作用是{\heiti 忠实的}.

	设群$G$在集合$\Omega,\Omega'$上作用$\psi_1,\psi_2$.若存在双射$\varphi\colon\Omega\to\Omega'$使得$\forall g\in G$有交换图
	\[
		\xymatrix{
			\Omega\ar[r]^{\psi_1(g)}\ar[d]_\varphi&\Omega\ar[d]^\varphi\\
			\Omega'\ar[r]^{\psi_2(g)}&\Omega'
		}
	\]
	则$\Im\psi_1\cong\Im\psi_2$\footnote{容易画出三棱柱形的交换图来说明变换的复合对应同构.}，此时称群作用$\psi_1,\psi_2$ {\heiti 等价}.
\end{definition}


试举两最重要的群作用例子，将在下节单独讨论它们.
\begin{itemize}
	\item {\heiti 左作用} $g\mapsto g\bullet$.
	\item {\heiti 共轭作用} $g\mapsto g\bullet g^{-1}$.
\end{itemize}

亦有几何上更具体的群作用例子，例如图形的对称群对几何图形的作用、拓扑群对拓扑空间的作用等.

假设有群作用$\psi\colon G\to S_\Omega$，为方便起见简记$\psi(g)(x):=gx$.可以引入等价关系$\sim$为
\[
	x\sim y\iff\exists g\in G,\,y=gx.
\]
记$x\in\Omega$对应的等价类为$\mathcal{O}_x$，称为$x$所属的{\heiti 轨道}.作用的{\heiti 商}即为{\heiti 轨道空间} $\Omega/G$.

轨道$\mathcal{O}_x$中的元素何时相同？考虑$G_x=\left\{g\in G\mid gx=x\right\}$，则$gx=hx$当且仅当$gh^{-1}\in G_x$.注意显然有$G_x\le G$，称为$x\in\Omega$的{\heiti 稳定子群}.

\begin{itemize}
	\item 若$\forall x\in\Omega,\,G_x=1$，称作用{\heiti 自由}.
	\item 若$\exists x\in\Omega,\,\mathcal{O}_x=\Omega$，称作用{\heiti 传递}或{\heiti 可迁}，称$\Omega$是$G$的{\heiti 齐性空间}.
\end{itemize}
\begin{remark}
	若群$G$自由且传递地作用在$X$上，称$X$是群$G$的{\heiti 主齐性空间}或$G${\heiti -旋子}.
\end{remark}
\begin{prop}
	群$G$在轨道$\mathcal{O}_x$上的作用等价于在商集\footnotemark $G/G_x$上的左作用.\hypertarget{prop:GrpActionEquiv}{}
\end{prop}
\footnotetext{今后不作特别声明时均取$G/H$为左商集$(G/H)_l$.}
\begin{proof}
	定义$\varphi\colon G/G_x\to \mathcal{O}_x$为$\varphi(aG_x)=ax$即证.
\end{proof}
\begin{cor*}
	轨道长度等于稳定子群的指数$|\mathcal{O}_x|=[G:G_x]$.\qed
\end{cor*}

与稳定子群的想法相反，可定义$F(g)=\left\{x\in\Omega\mid gx=x\right\}$，称为$g$的{\heiti 不动点集}.接下来将考虑求群作用产生的轨道数量，即求$|\Omega/G|$.
\begin{lemma*}
	轨道上各点的稳定子群共轭.特别地，若$y=gx$，则$G_y=gG_xg^{-1}$.
\end{lemma*}
\begin{proof}
	设$x,y$在同一轨道上，即存在$g\in G$使得$y=gx$.注意$a\in G_y$当且仅当$g^{-1}ag\in G_x$当且仅当$a\in gG_xg^{-1}$，即$G_y=gG_xg^{-1}$.
\end{proof}

现在设$G$是有限群，$\Omega$是有限集，考虑$G\times\Omega$的子集$S=\left\{(g,x)\mid gx=x\right\}$.

用两种方法计算之.设$\Omega=\bigcup_i G(x_i)$，则
\[
	\sum_{g\in G}|F(g)|=|S|=\sum_{x\in\Omega}|G_x|=\sum_i|\mathcal{O}_{x_i}||G_{x_i}|=|\Omega/G||G|.
\]
\begin{thm}[(Burnside引理)]
	$\displaystyle|\Omega/G|=\frac{1}{|G|}\sum_{g\in G}|F(g)|$.\qed
\end{thm}

群作用的一大重要用处还有\hypertarget{text:Semidirect}{半直积}.设$N,H$是群，群同态$\varphi\colon H\to\operatorname*{Aut}(N)$，在$N\times H$上定义乘法为
\[
	(n_1,h_1)\cdot(n_2,h_2):=(n_1\varphi_{h_1}(n_2),h_1h_2).
\]
不难验证这构成一个群，称为$N$和$H$的{\heiti 半直积} $N\rtimes_\varphi H$.通过自然的嵌入同态容易得到$N\nsg N\rtimes_\varphi H,H\le N\rtimes_\varphi H$以及$(N\rtimes_\varphi H)/N\cong H$.

另一方面，若$N\nsg G,H\le G$并且有$G=NH$和$N\cap H=1$，通过$H$在$N$上的共轭作用容易得到$G\cong N\rtimes H$.此时也称$G=N\rtimes H$是$N$和$H$的{\heiti (内)半直积}.

作为例子，不难发现
\par\begin{itemize*}
	\item 二面体群$D_{2n}\cong Z_n\rtimes Z_2$.\phantom{\qquad}
	\item 对称群$S_n\cong A_n\rtimes Z_2$.
\end{itemize*}\par
\medskip 半直积在构造群时很有用，但是需要注意作外半直积时不具有唯一性，需要明确不同的群作用.不作特别声明时取典范的非平凡作用.

\subsection{左作用与共轭作用}
群$G$在自身上有自然的左作用$G\to S_G$.显然这是忠实的作用.用$A\lesssim B$表示$A$同构于$B$的子群，则有
\begin{thm}[(Cayley)]
	对任意群$G$有$G\lesssim S_G$.特别地，对有限群$G$有$G\lesssim S_n$.\qed\hypertarget{thm:Cayley}{}
\end{thm}

如是，有限群的问题便均可视作置换群的问题.结合对称群里的\hyperlink{cor:Index2Permutation}{推论}可以轻松解决不少正规子群问题.简单列举几个相关结论.
\begin{prop}
	若$[G:H]=n>1$，则$G\lesssim S_n$\footnotemark 或$H$包含非平凡的$N\nsg G$使得$[G:N]\mid n!$.
\end{prop}
\footnotetext{考虑单群$A_n$可知此情况的出现纯粹是为了正规子群非平凡的要求.}
\begin{proof}
	$G$在商集$G/H$上的左作用给出同态$G\to S_n$.若是单同态，$G\lesssim S_n$.否则同态核$N\nsg G$非平凡，并且$G/N\lesssim S_n$，即$[G:N]\mid n!$.
\end{proof}
\begin{cor*}
	指数有限真子群包含一个指数有限的真正规子群.\qed
\end{cor*}

群到对称群的同态称为群的{\heiti 置换表示}.注意$G$在商集$G/H$上左作用的核$\displaystyle\bigcap_{g\in G}gHg^{-1}$是在$H$中极大的正规子群，称为$H$在$G$中的{\heiti 核} $H_G$.

\begin{thm}[(Poincar\'e)]
	设$H$是有限群$G$的指数$n$子群，则$|G/H_G|$整除$(n!,|G|)$.
\end{thm}
\begin{proof}
	根据传递置换表示$G\to S_n$以及核$H_G$得到$|G/H_G|\mid n!$.
\end{proof}
\begin{cor}
	若群$G$没有指数2子群，则指数3子群必正规.\qed
\end{cor}
\begin{cor}
	若$p$是$|G|$的最小素因子，则指数$p$的子群若存在必正规.\qed
\end{cor}

更多相关内容见附录\hyperref[subsec:PermutationRepresentation]{置换表示}.
\begin{prop}
	$2^nm$阶群若有$2^n$阶元，则有唯一的$m$阶正规子群，其中$m$为奇数.
\end{prop}
\begin{proof}
	断言$m$阶子群$H\nsg G$当且仅当它是$G$的全体奇数阶元.设$a\in G$是$2^n$阶元.对任意奇数阶$g\in a^lH$，则$g^k=1\in a^{kl}H$即$a^{kl}\in H$.这与$|a|=2^n$矛盾.现在只需证全体奇数阶元构成$m$阶子群，正规性显然.

	对$n$归纳.将$G\lesssim S_{2^nm}$，则$2^n$阶元$a$是$m$个$2^n$轮换之积，进而是奇置换.于是$G$有指数2子群$N$.存在$m$阶$H\nsg N\nsg G$.与上同理验证奇数阶元$g$属于$H$即可.
\end{proof}
\begin{remark}
	这是\hyperlink{thm:BurnsideNormalpComplement}{Burnside正规补}的推论.它也是~\hyperlink{thm:Hall}{Hall定理}的一个实例.
\end{remark}
\begin{cor*}
	$4n+2$阶群必有指数2子群.\qed
\end{cor*}

下面讨论更有用的共轭作用.对$G$在自身上的共轭作用，它的核是中心$Z(G)$.元素$g\in G$的稳定子群就是中心化子$\mathrm{C}_G(g)$.元素$g\in G$的轨道称为$g$所属的{\heiti 共轭类} $\mathcal{C}_g$.于是
\begin{thm}
	设$g_1,\cdots,g_r\in G$是群$G$非平凡共轭类的代表，则
	\begin{itemize}
		\item 共轭类大小$|\mathcal{C}_{g}|=[G:\mathrm{C}_G(g)]$.
		\item {\heiti 类方程} $|G|=|Z(G)|+\displaystyle\sum_{i=1}^r|\mathcal{C}_{g_i}|$.
		\item 共轭类个数$|Z(G)|+r=\displaystyle\frac{1}{|G|}\sum_{g\in G}|\mathrm{C}_G(g)|$.
	\end{itemize}
\end{thm}
\begin{proof}
	注意$|G|=\displaystyle\sum|\mathcal{C}_g|$，而$Z(G)$即为$G$的全体平凡共轭类之并.
\end{proof}

共轭类的引入完全指明了复杂的正规子群的构成.
\begin{thm}
	$N\nsg G$$\iff$$N$是$G$的若干共轭类的并.\qed
\end{thm}

群$G$可以共轭作用在幂集$2^G$上.子集$S\subseteq G$的稳定子群就是正规化子$\mathrm{N}_G(S)$，因此
\begin{thm}
	子群$H\le G$的共轭子群个数等于$[G:\mathrm{N}_G(H)]$.\qed
\end{thm}
\begin{remark}
	这推广了命题$H\nsg G\Leftrightarrow\mathrm{N}_G(H)=G$.
\end{remark}
\begin{prop}
	若有限$p$群有$p$阶正规子群$N\nsg G$，则$N\subseteq Z(G)$.
\end{prop}
\begin{proof}
	$G$共轭作用在$N\setminus 1$上给出置换表示$G\to S_{p-1}$，只能核为$G$，即$N\subseteq Z(G)$.
\end{proof}

下面实际计算一些常见群的共轭类，从而容易指出其所有正规子群.例如对二面体群$D_{2n}$由几何直观容易得到
\begin{enumerate}
	\item 当$n=2m+1$奇，$Z(D_{2n})=1$.非平凡共轭类$\langle r\rangle s,\{r^k,r^{-k}\}\,(1\le k\le m)$.
	\item 当$n=2m$偶，$Z(D_{2n})=\langle r^m\rangle $.非平凡共轭类$\langle r^2\rangle s,\langle r^2\rangle rs,\{r^k,r^{-k}\}\,(1\le k<m)$.
\end{enumerate}

对于对称群$S_n$，注意两置换共轭当且仅当它们同型，于是
\begin{prop}
	对称群$S_n$的共轭类由置换的型完全决定.\qed
\end{prop}

然而交错群$A_n$就没那么容易.偶置换在$A_n$中共轭不仅要求同型，还需要用于共轭的置换是偶的.注意交错群$A_n$的共轭类划分必然是$S_n$的共轭类划分的加细，并且这个加细满足
\begin{prop}
	设$\sigma\in A_n$是偶置换，则\hypertarget{prop:ConjugationClassInAlternating}{}
	\begin{enumerate}
		\item $\sigma$在$S_n$中的共轭类至多在$A_n$中分裂为两个共轭类.
		\item 分裂发生$\iff$$\sigma$的型由两两不等的奇数构成.
	\end{enumerate}
\end{prop}
\begin{proof}
	\hspace*{5.4pt}(1)记$\sigma$在$S_n,A_n$中的共轭类分别为$\mathcal{C}_\sigma,\mathcal{C}'_\sigma$.注意
	\[
		|\mathcal{C}_\sigma||\mathrm{C}_{S_n}(\sigma)|=|S_n|=2|A_n|=2|\mathcal{C}'_\sigma||\mathrm{C}_{A_n}(\sigma)|,
	\]
	因此$|\mathcal{C}_\sigma|\le 2|\mathcal{C}'_{\sigma}|$，即一个共轭类至多加细为相等的两个.
	
	(2)只需说明取等条件$\mathrm{C}_{S_n}(\sigma)\subseteq A_n$与$\sigma$型的等价性.设$\sigma=\sigma_1\cdots\sigma_r$的型为两两不等奇数，置换$\tau\in S_n$使得$\tau\sigma\tau^{-1}=\sigma$，则$\tau\sigma_k\tau^{-1}=\sigma_k$.不难推知$\tau=\sigma_1^{d_1}\cdots\sigma_r^{d_r}$是偶置换，即$\mathrm{C}_{S_n}(\sigma)\subseteq A_n$.
	
	若型中有偶数，设$\sigma_1$是奇置换，则$\tau=\sigma_1\in\mathrm{C}_{S_n}(\sigma)$是奇置换.若型中有相等奇数，设$\pi_1=(i_1\cdots i_s)$和$\pi_2=(j_1\cdots j_s)$是偶置换，则$\tau=(i_1j_1)\cdots(i_s)(j_s)\in\mathrm{C}_{S_n}(\sigma)$是奇置换.
\end{proof}
\begin{remark}
	在附录中讨论\hyperlink{subsec:SimpleGrpLowOrder}{低阶单群}时，我们会计算置换在$S_n$和$A_n$中的正规化子.
\end{remark}
\subsection{Sylow定理}
本节讨论Lagrange定理的逆问题，给定$n\mid |G|$何时能有$n$阶子群？对有限Abel群这是对的.但这当然不是必然成立的，例如$A_4$就没有指数2子群.但是
\begin{thm}[(Cauchy)]
	若素数$p\mid|G|$，则$G$中存在$p$阶元.\hypertarget{thm:Cauchy}{}
\end{thm}
\begin{proof}
	考虑$\mathcal{S}=\left\{(x_1,\cdots,x_p)\mid x_i\in G,x_1\cdots x_p=1\right\}$并令$p$阶置换群$\langle (12\cdots p)\rangle $自然地作用在$\mathcal{S}$上.显然$|\mathcal{S}|=|G|^{p-1}$，轨道长度只能是$1$或$p$.注意轨道长为$1$的不动点就是$p$阶元，根据$\mathcal{S}$的轨道划分必然存在.
\end{proof}

下面设有限群$G$的阶$|G|=p^rm$，其中$(p,m)=1$且$p$是素数.若$p^r\mid|G|$且$p^{r+1}\nmid|G$，则记$p^r\parallel|G|$.首先给出如下引理.
\begin{lemma}
	设$p^r\parallel n$，则对任意$0\le k\le r$有$p^{r-k}\parallel\displaystyle\binom{n}{p^k}$.
\end{lemma}
\begin{proof}
	注意$n-j$与$p^k-j$含$p$幂次相同，因此$r=\dfrac{(n-1)\cdots(n-p^k+1)}{(p-1)\cdots1}$与$p$互素，于是$\displaystyle\binom{n}{p^k}=nr/p^k$含$p$幂次为$p^{r-k}$.
\end{proof}

设$p^r\parallel |G|$，则$G$的$p^r$阶子群称为{\heiti Sylow $p$-子群}.全体Sylow $p$-子群记为$\mathrm{Syl}_p(G)$.
\begin{thm}[(Sylow第一定理)]
	若$p^k\mid|G|$，则$G$有$p^k$阶子群.特别地$\mathrm{Syl}_p(G)\ne\varnothing$.
\end{thm}
\begin{proof}
	取$G$的全体$p^k$元子集为$\Omega$，则$|\Omega|=\displaystyle\binom{p^k}{n}$.定义$G$在$\Omega$上的左作用，则$|\Omega|=\sum|\mathcal{O}_X|$.由上述引理，若设$p^r\parallel n$，则$p^{r-k+1}\nmid|\Omega|$，进而存在$p^{r-k+1}\nmid|\mathcal{O}_X|=[G:G_X]$，即有$p^k\mid|G_X|$.注意取$x\in X$有$G_Xx\subseteq X$，即$|G_X|\le|X|=p^k$，因此$|G_X|=p^k$即为所求.
\end{proof}

下面考虑$G$的$p$子群.为此首先注意$p$群的一个实用性质.
\begin{prop}
	设有限$p$群$G$作用在有限集$\Omega$上，则$|\Omega|\equiv|\Omega_0|\pmod{p}$.
\end{prop}
\begin{proof}
	注意$|\Omega|=|\Omega_0|+\sum_{|\mathcal{O}_x|>1}|\mathcal{O}_x|$.
\end{proof}
\begin{prop}
	设有限$p$群$P\le G$且$p\mid[G:P]$，则$P<\mathrm{N}_G(P)$.\hypertarget{prop:NormalConditionOfpSubgrp}{}
\end{prop}
\begin{proof}
	考虑$G$左作用在$G/P$上，则$|\Omega_0|\equiv[G:P]\equiv 0\pmod{p}$.但$P\in\Omega_0\ne\varnothing$，所以存在$g\notin P$满足$PgP=gP$，即$g^{-1}Pg\subseteq P$.
\end{proof}
\begin{prop}
	设$P$是有限$p$群而$1\ne N\nsg P$，则$N\cap Z(P)\ne 1$.特别地$Z(P)\ne 1$.\hypertarget{prop:NormalityLargeOfpGrp}{}
\end{prop}
\begin{proof}
	考虑$P$共轭作用在$N$上，则$\Omega_0=Z(P)\cap N\ne\varnothing$.
\end{proof}
\begin{thm}[(Sylow第二定理)]
	设$P\in\mathrm{Syl}_p(G)$，则$G$的$p$子群在$P$的共轭子群中.特别地，群$G$的Sylow $p$-子群两两共轭.
\end{thm}
\begin{proof}
	设$H\le G$是$p^k$阶子群，考虑$H$在$G/P$上的左作用.注意$[G:P]$与$p$互素，因此作用必有不动点，存在$gP$使得$HgP\subseteq gP$，即$H\subseteq gPg^{-1}$.
\end{proof}
\begin{cor*}
	$G$有正规Sylow $p$-子群当且仅当$|\mathrm{Syl}_p(G)|=1$.\qed
\end{cor*}

因此现在考虑如何求$n_p:=|\mathrm{Syl}_p(G)|$.首先想到正规化子.
\begin{lemma*}
	设$P\in\mathrm{Syl}_p(G)$，则$\mathrm{N}_G(P)$中只含$P$一个Sylow $p$-子群.
\end{lemma*}
\begin{proof}
	由$P\nsg\mathrm{N}_G(P)\le G$得$P$也是$\mathrm{N}_G(P)$的正规Sylow $p$-子群，故唯一.
\end{proof}
\begin{thm}[(Sylow第三定理)]
	设$P\in\mathrm{Syl}_p(G)$，则$n_p=[G:\mathrm{N}_G(P)]$且$n_p\equiv 1\pmod{p}$.
\end{thm}
\begin{proof}
	由Sylow $p$-子群共轭知$n_p=[G:\mathrm{N}_G(P)]$.令$P$共轭作用在$\mathrm{Syl}_p(G)$上.断言$P$是唯一不动点，从而$n_p\equiv 1\pmod{p}$.因若$Q\in\mathrm{Syl}_p(G)$是不动点，则$P\subseteq\mathrm{N}_G(Q)$，即$P=Q$.
\end{proof}

Sylow定理在探究有限群结构时非常好用，参见附录\hyperref[subsec:ClassificationSmallOrder]{小阶群分类}和\hyperref[subsec:SimpleGrpLowOrder]{低阶单群}.
\begin{prop}[(Frattini)]
	设$G$作用在$\Omega$上，$G$的子群$N$传递作用在$\Omega$上，则
	\[
		\forall x\in\Omega,\quad G=NG_x.
	\]
\end{prop}
\begin{proof}
	取$g\in G$并设$y=gx$.由$N$传递作用，存在$n\in N$使得$y=nx$，于是$n^{-1}gx=x$即$n^{-1}g\in G_x$，从而$g=n(n^{-1}g)\in NG_x$.
\end{proof}
\begin{cor*}[(Frattini)]
	若$P\in\mathrm{Syl}_p(G)$且$P\le N\nsg G$，则$G=N\mathrm{N}_G(P)$.
\end{cor*}
\begin{proof}
	考虑$G$在$\mathrm{Syl}_p(N)$上的共轭作用.
\end{proof}
\begin{remark}
	一般地说这也是此前提到的传递置换表示的应用.
\end{remark}
\begin{cor*}
	设$P\in\mathrm{Syl}_p(G)$且$\mathrm{N}_G(P)\le H\le G$，则$\mathrm{N}_G(H)=H$.特别地$\mathrm{N}_G(\mathrm{N}_G(P))=\mathrm{N}_G(P)$.
\end{cor*}
\begin{proof}
	$P\in\mathrm{Syl}_p(H)$且$H\nsg\mathrm{N}_G(H)$，于是$\mathrm{N}_G(H)=H\mathrm{N}_{\mathrm{N_G(H)}}(P)\subseteq H$，因为$\mathrm{N}_{\mathrm{N_G(H)}}(P)=\mathrm{N}_G(H)\cap\mathrm{N}_G(P)\subseteq H$.
\end{proof}

有限子群$H\le G$若满足$(|H|,[G:H])=1$，则称$H$是{\heiti Hall子群}.

作为Sylow子群概念的推广，Sylow定理的结论可以一定程度上推广到Hall子群上，见附录~\hyperlink{thm:Hall}{Hall定理}.
\subsection{自同构}
群$G$的全体自同构构成群$\operatorname*{Aut}(G)$.考虑$G$共轭作用在自身上，则有同态$G\to\operatorname*{Aut}(G)$，即全体共轭(称为{\heiti 内自同构})构成{\heiti 内自同构群} $\operatorname*{Inn(G)}$.不难得到
\begin{prop}
	$G/Z(G)\cong\operatorname*{Inn}(G)\nsg\operatorname*{Aut}(G)$.\qed
\end{prop}

此时可以构造{\heiti 外自同构} $\operatorname*{Out}(G)=\operatorname*{Aut}(G)/\operatorname*{Inn}(G)$.与外自同构相关讨论见\hyperlink{subsec:CompleteGrp}{完全群}.

\begin{thm}[(N/C定理)]
	设$H\le G$，则$\mathrm{N}_G(H)/\mathrm{C}_G(H)\lesssim\operatorname*{Aut}(H)$.
\end{thm}
\begin{proof}
	考虑同态$\mathrm{N}_G(H)\to\operatorname*{Aut}(H),\,g\mapsto(h\mapsto ghg^{-1})$，同态核为$\mathrm{C}_{\mathrm{N}_G(H)}(H)=\mathrm{C}_G(H)$.
\end{proof}

\begin{definition}
	设子群$H\le G$，对$\alpha\in\operatorname*{Aut}(G)$和$H\le G$，记$H^\alpha:=\alpha(H)$.
	\begin{itemize}
		\item 若$\forall\alpha\in\operatorname*{Aut}(G),\,H^\alpha=H$，则称$H\operatorname*{char}G$是{\heiti 特征子群}.
		\item 若$\forall\alpha\in\operatorname*{Inn}(G),\,H^\alpha=H$，则称$H\operatorname*{char}G$是{\heiti 正规子群}.
	\end{itemize}
\end{definition}

可见，特征子群是比正规子群更强的条件.作为例子，有平凡特征子群$1,G$.此前定义的$G^{(n)},\,G^n,\,Z_n(G)$也都是特征子群.
\begin{prop}
	特征子群具有传递性.
	\begin{itemize}
		\item $H\operatorname*{char}K,\,K\operatorname*{char} G\implies H\operatorname*{char G}$.
		\item $H\operatorname*{char} N,\,N\nsg G\implies H\nsg G$.\qed
	\end{itemize}
\end{prop}
\begin{cor}
	若$P$是$N\nsg G$的正规Sylow $p$-子群，则$P\nsg G$.
\end{cor}
\begin{proof}
	注意正规Sylow $p$-子群是特征子群.
\end{proof}

下述引理说明了正规Hall子群特殊的“极大性”.
\begin{lemma*}
	设$H\nsg G$是正规Hall子群，若$K\le G$且$|K|\mid|H|$，则$K\le H$.
\end{lemma*}
\begin{proof}
	若$K\nleq H$则$[K:K\cap H]>1$.设素数$p\mid[K:K\cap H]$，则$p\mid|H|$.于是$p\nmid[G:H]$，这与$p\mid[HK:H]=[K:K\cap H]$矛盾，注意$HK\le G$.
\end{proof}
\begin{cor*}
	正规Hall子群是特征子群.\qed
\end{cor*}

根据此推论可以轻松解决群直积的自同构群的计算问题.一般地$\operatorname*{Aut}(G)\times\operatorname*{Aut}(H)\le\operatorname*{Aut}(G\times H)$，但特别地有
\begin{prop}
	若$(|H|,|K|)=1$，则$\operatorname*{Aut}(H)\times\operatorname*{Aut}(K)\cong\operatorname*{Aut}(H\times K)$.
\end{prop}
\begin{proof}
	$H,K$是$H\times K$的正规Hall子群，从而是特征子群.
\end{proof}
\begin{remark}
	一般地有如下定理：若$H,K$没有公共直积因子\footnote{“直积因子”参见附录\hyperlink{subsec:DirectDecomposition}{直积分解}一节.} ，则
	\[
		\operatorname*{Aut}(H\times K)=\left\{\begin{bmatrix}
			\alpha&\beta\\
			\gamma&\delta
		\end{bmatrix}\middle| \begin{array}{ll}
			\alpha\in\operatorname*{Aut}(H),&\beta\in\operatorname*{Hom}(K,Z(H))\\
			\gamma\in\operatorname*{Hom}(H,Z(K)),&\delta\in\operatorname*{Aut}(K)
		\end{array}\right\}.
	\]
	特别地$|\mathrm{Aut}(H\times K)|=|\mathrm{Aut}(H)||\mathrm{Aut}(K)||\mathrm{Hom}(H,Z(K))||\mathrm{Hom}(K,Z(H))|$.
\end{remark}

类似于单群的概念，定义{\heiti 特征单群}为不含非平凡特征子群的群.特征单群的结构是清楚的，我们直接述而不证下述定理\footnote{必要性考虑极小正规子群的直积.充分性讨论同构单群直积的正规子群结构.}.
\begin{thm}
	有限群$G$是特征单群当且仅当它是同构单群的直积.\qed
\end{thm}
\begin{cor*}
	有限群$G$的极小正规子群$N$是同构单群的直积.
\end{cor*}
\begin{proof}
	显然$N$特征单，否则$H\operatorname*{char}N$蕴含$H\nsg G$.
\end{proof}

下面具体计算一些群的自同构群.
\begin{prop}
	循环群自同构$\operatorname*{Aut}(\mathbb{Z}_n)\cong\mathbb{Z}_n^*$.进一步有
	\begin{itemize}
		\item $\mathbb{Z}_{2^r}^*\cong\mathbb{Z}_{2^{r-2}}\oplus\mathbb{Z}_2$，其中$r\ge 3$.特别有$\mathbb{Z}_4^*\cong\mathbb{Z}_2$.
		\item $\mathbb{Z}_{p^r}^*\cong\mathbb{Z}_{\varphi(p^r)}=\mathbb{Z}_{p^{r-1}}\oplus\mathbb{Z}_{p-1}$，其中$p$是奇素数.
	\end{itemize}
	因此$\operatorname*{Aut}(\mathbb{Z}_n)$循环当且仅当$n=2,4,p^r,2p^r$，其中$p$为奇素数.\hypertarget{prop:CyclicAuto}{}
\end{prop}
\begin{proof}
	同构$\operatorname*{Aut}(\mathbb{Z}_n)\cong\mathbb{Z}_n^*$是显然的.

	设$r\ge 3$，则$|\mathbb{Z}_{2^r}^*|=\varphi(2^r)=2^{r-1}$.注意其中有三个$2$阶元$-1,2^{r-1}\pm 1$，因此$\mathbb{Z}_{2^r}^*$不循环.不难验证$5=2^2+1$是$2^{r-2}$阶元，因此根据有限Abel群结构定理，$\mathbb{Z}_{2^r}^*\cong\mathbb{Z}_{2^{r-2}}\oplus\mathbb{Z}_2$.

	设$p$奇素数，则$|\mathbb{Z}_{p^r}^*|=p^{r-1}(p-1)$.注意$1+p$是$p^{r-1}$阶元，因此$\mathbb{Z}_{p^r}^*\cong\mathbb{Z}_{p^{r-1}}\oplus\mathbb{Z}_{p-1}$.
\end{proof}
\begin{prop}
	Klein四群自同构$\operatorname*{Aut}(K_4)\cong S_3\cong D_6$.\qed
\end{prop}
\begin{prop}
	四元数群自同构$\operatorname*{Aut}(Q_8)\cong S_4$.
\end{prop}
\begin{proof}
	易知自同构将$\mi,\mathrm{j}$变为$\pm \mi,\pm\mathrm{j},\pm\mathrm{k}$中不互逆两个元素并由此唯一确定，即$|\mathrm{Aut}(Q_8)|=24$.考虑自同构$\alpha$为$\mi\mapsto\mathrm{j},\,\mathrm{j}\mapsto-\mi$，$\beta$为互换$\mi,\mathrm{j}$，$\gamma$为$\mi\mapsto\mathrm{j},\,\mathrm{j}\mapsto\mi\mathrm{j}$，则$\langle \alpha,\beta\rangle\cong D_8$和$\langle \gamma\rangle\cong Z_3$是Sylow $2$-子群和Sylow $3$-子群.验证它们都不正规，从而由附录\hyperlink{prop:24OrderGroup}{命题13}得证.
\end{proof}
\begin{prop}
	二面体群自同构$\operatorname*{Aut}(D_{2n})\cong\mathbb{Z}_n\rtimes\mathbb{Z}_n^*$，半直积$\alpha\colon a\mapsto(g\mapsto ag)$.
\end{prop}
\begin{proof}
	定义$\sigma_{ij}\in\operatorname*{Aut}(D_{2n})$为$r\mapsto r^j,\,s\mapsto r^is$，则不难发现
	\[
		\operatorname*{Aut}(D_{2n})=\left\{\sigma_{ij}\mid 0\le i<n,\,1\le j<n,\,(j,n)=1\right\}
	\]
	定义$\psi\colon\operatorname*{Aut}(D_{2n})\to\mathbb{Z}_n\rtimes_\alpha\mathbb{Z}_n^*$为$f_{ij}\mapsto(i,j)$，则$\psi$是良定双射，只需同态.直接验证$f_{ij}f_{kl}=f_{i+jk,jl}$，于是
	\[
		\psi(f_{ij}f_{kl})=(i+jk,jl)=(i+\alpha(j)k,kl)=(i,j)(k,l)=\psi(f_{ij})\psi(f_{kl}).
	\]
\end{proof}

要计算有限交换群的自同构群只需计算$p$群的自同构群.其中初等交换$p$群的自同构结构是经典的.
\begin{prop}
	初等$p$群自同构$\operatorname*{Aut}(\mathbb{Z}_p^n)\cong\operatorname*{GL}(n,\mathbb{F}_p)$.\qed
\end{prop}
\begin{remark}
	附录里列举了一些矩阵群的性质.
\end{remark}

对称群$S_n$和交错群$A_n$的自同构群参见附录中\hyperlink{subsec:CompleteGrp}{完全群}一节，它们有更奇怪的特性.

\section{附录}
\subsection{\texorpdfstring{$p$群分类}{p群分类}}
本节讨论某些特殊情形下的$p$群分类.

为了方便地使用群的展示来确定群，首先引入下述定理.
\begin{thm}[(von Dyck)]
	设$G=\langle X\mid R\rangle $是其展示，群$H=\langle X\rangle $且$H$也满足生成关系$R$，则存在满同态$\varphi\colon G\to H$.
\end{thm}
\begin{proof}
	根据自由群的性质，存在满同态$\psi\colon F(X)\to H$使得$\psi|_X=\mathrm{id}$.记$R$生成的正规子群为$Y$，则$\psi(Y)=1$，因此$\varphi=\bar\psi\colon G\cong F(X)/Y\to H$是良定的满同态.
\end{proof}
\begin{remark}
	以下证明中往往直接验证满足生成关系.因有限群情形下，满同态自然地成为同构.
\end{remark}

\begin{prop}
	$p^2$阶群交换，从而只有$Z_{p^2}$和$Z_p\times Z_p$两个同构类.
\end{prop}
\begin{proof}
	$p$群中心非平凡，无论$Z(G)=G$还是$G/Z(G)\cong Z_p$都导出$G$交换.
\end{proof}

下面考虑$p^3$阶群.只考虑$p$为奇素数，$8$阶群情形见下节\hyperref[subsec:ClassificationSmallOrder]{小阶群分类}.

首先引入一个特殊的$p^3$阶群$\mathrm{UT}(3,p)$，即$\mathbb{F}_3$上的$3$阶严格上三角矩阵群.记$x=I+E_{12},y=I+E_{23},z=I+E_{13}$，则它有展示
\[
	\mathrm{UT}(3,p)=\langle x,y,z\mid x^p=y^p=z^p=1,\,[x,y]=z,\,xz=xz,\,yz=zy\rangle .
\]
更多相关内容见\hyperlink{subsec:MatrixGrp}{矩阵群}.
\begin{lemma*}
	若$G'\subseteq Z(G)$，则$(xy)^n=x^ny^n[y,x]^{\binom{n}{2}}$.
\end{lemma*}
\begin{proof}
	通过归纳，只需$x^{-1}y^nx=y^n[y,x]^n$.由$x^{-1}yx=y[y,x]$这是显然的.
\end{proof}
\begin{prop}
	设$p$为奇素数，则$p^3$阶非Abel群只有
	\begin{itemize}
		\item $\mathrm{UT}(3,p)$.
		\item $Z_{p^2}\rtimes Z_p=\langle a,b\mid a^{p^2}=b^p=1,\,b^{-1}ab=a^{p+1}\rangle $.
	\end{itemize}
\end{prop}
\begin{proof}
	注意$|Z(G)|=p$，否则$G$交换.由$G/Z(G)$是$p^2$阶群交换，$G'=Z(G)$.只能有$G/Z(G)\cong Z_p\times Z_p$，取对应的生成元为$a,b\in G$，则$a^p,b^p\in Z(G)$.对任意$1\ne c\in Z(G)$，有满射$\{a^ib^jc^k\}\to G$，其中左侧$0\le i,j,k<p$遗忘群结构，则这是双射，即$a^ib^jc^k$是$G$中元素的唯一表示.特别地，$ab\ne ba$.

	(1)若$|a|=|b|=p$，由$[a,b]\ne 1$可取$c=[a,b]\in Z(G)$，从而$G\cong\mathrm{UT}(3,p)$.

	(2)若$|a|=p^2,|b|=p$，用$a$的特定幂次替代$a$可设$b^{-1}ab=a^{np+1}$.取$k$满足$kn\equiv 1\pmod p$并用$b^k$替代$b$得到$b^{-1}ab=a$，从而$G\cong Z_{p^2}\rtimes Z_p$.

	(3)若$|a|=|b|=p^2$，取合适幂次使得$a^p=c$而$b^p=c^{-1}$.对奇素数$p$有$p\mid\binom{p}{2}$，由引理$(ab)^p=1$，则$a,ab$适合情形(2).
\end{proof}
\begin{remark}
	一般地，Burnside给出了$p^4$阶群的完全分类.
\end{remark}

注意有限非交换$p$群总有指数$p$的极大子群.如果极大子群循环，$p$群的结构是简单的.
\begin{prop}
	设有限非Abel $p$群$G$是循环极大子群的分裂扩张，则$G$为
	\begin{enumerate}
		\item $p\ne 2$.\quad$\langle a,b\mid a^{p^n}=b^p=1,\,bab^{-1}=a^{1+p^{n-1}}\rangle $.
		\item $p=2$.\begin{itemize}
			\item $D_{2^{n+1}}=\langle a,b\mid a^{2^n}=b^2=1,\,bab=a^{-1}\rangle $.
			\item $SD_{2^{n+1}}=\langle a,b\mid a^{2^n}=b^2=1,\,bab=a^{2^{n-1}-1}\rangle $.
			\item $\langle a,b\mid a^{2^n}=b^2=1,\,bab=a^{2^{n-1}+1}\rangle$.
		\end{itemize}
	\end{enumerate}\hypertarget{prop:pGroupCyclicMax1}{}
\end{prop}
\begin{proof}
	当$p\ne 2$时$\operatorname*{Aut}(Z_{p^{n}})\cong\mathbb{Z}_{p^n}^*$中唯一的$p$阶元就是$1+p^{n-1}$.当$p=2$时$\mathbb{Z}_{2^n}^*$中的$2$阶元恰好就是$-1,2^{n-1}\pm 1$.现在只需说明后三者不同构.

	无论哪种情况都有$z:=a^{2^{n-1}}\in Z(G)$是$2$阶元.不难发现$Z(G)\cap\langle b\rangle =1$并且$a^k\in Z(G)$当且仅当$ba^kb=a^k$.因此计算得到$Z(D_{2^{n+1}})=Z(SD_{2^{n+1}})=\langle z\rangle $，第三个群的中心为$\langle a^2\rangle $.于是只需区分$D_{2^{n+1}}$与$SD_{2^{n+1}}$.这是容易的，因为$D_{2^{n+1}}\setminus\langle a\rangle $中只有$2$阶元，但$SD_{2^{n+1}}\setminus\langle a\rangle $中的$ab$是$4$阶元.
\end{proof}

接着考虑一般扩张的情况，即循环极大子群没有{\heiti 补}\footnote{$H\le G$的\emph{补}是$K\le G$满足$G=HK$且$H\cap K=1$.}.对$p$群$G$定义$\Omega(G):=\{g\in G\mid g^p=1\}$.需要下述技术性引理：
\begin{lemma}
	设$G$是$p$群.若$[x,y]\in\Omega(Z(G))$，则
	\begin{enumerate}
		\item $p=2$时$(xy)^2=x^2y^2[x,y],\,(xy)^4=x^4y^4$.
		\item $p\ne 2$时$(xy)^p=x^py^p$.
	\end{enumerate}
\end{lemma}
\begin{proof}
	注意$y^{-1}xy=x[x,y],\,y^{-k}xy^k=x[x,y]^k$，一般地$y^{-k}x^py^k=x^p$.

	(1)$p=2$时$yx=xy[x,y]$，易得$(xy)^2=x^2y^2[x,y]$和$(xy)^4=x^4y^4$.

	(2)$p\ne 2$时注意
	\begin{align*}
		(xy^{-1})^p&=(xy^{-1})(xyy^{-2})(xy^2y^{-3})\cdots(xy^{p-1}y^{-p})\\
		&=x(y^{-1}xy)(y^{-2}xy^2)\cdots(y^{1-p}xy^{p-1})y^{-p}\\
		&=x(x[x,y])(x[x,y]^2)\cdots(x[x,y]^{p-1})y^{-p}\\
		&=(x^py^{-p})z^{p(p-1)/2}=x^py^{-p}.
	\end{align*}
\end{proof}
\begin{prop}
	设有限非Abel $p$群$G$的循环极大子群$H$没有补，即
	\[
		\forall g\in G\setminus H,\quad 1\ne g^p\in H,
	\]
	则$p=2$且$G\cong Q_{2^{n+1}}$.\hypertarget{prop:pGroupCyclicMax2}{}
\end{prop}
\begin{proof}
	设$H=\langle a\rangle $，其中$|a|=p^n$，记$z=a^{p^{n-1}}$，则$\Omega(Z(G))=\langle z\rangle $.选取$b\in P\setminus H$有极小阶，断言$\langle b^p\rangle \le\langle a^p\rangle $.若不然，$|b^p|=|a|=p^n$蕴含$|b|=p^{n+1}=|G|$，矛盾.因此可设$b^p=a_0^p$.注意用$b,b^2,\cdots,b^{p-1}$作$H$的共轭给出了$\operatorname*{Aut}(H)$的一个$p-1$阶循环子群.

	若$p\ne 2$，用$b$的恰当幂次替换$b$可使得$b^{-1}a_0b=a_0^{1+p^{n-1}}$，从而$[a_0^{-1},b]=a_0^{-p^{n-1}}\in\langle z\rangle=\Omega(Z(G))$.由引理得$(a_0^{-1}b)^p=a_0^{-p}b^p=1$，与$a_0^{-1}b\in G\setminus H$矛盾.

	若$p=2$，同理讨论下述三种情形(后二种在$n\ge 3$时出现)
	\begin{enumerate}
		\item $b^{-1}ab=a^{-1},\quad[a,b]=a^{-2}$.
		\item $b^{-1}ab=a^{-1}z,\quad[a,b]=a^{-2}z$.
		\item $b^{-1}ab=az,\quad[a,b]=z$.
	\end{enumerate}
	
	先讨论(3)：注意$[a^k,b]=z^k\in\Omega(Z(G))$，所以$(a_0^{-1}b)^2=a_0^{-2}x^2z=z$，即$|a_0^{-1}b|=4$.由$a_0^{-1}b\in G\setminus H$和$|b|$极小得到$|b|=4$，即$b^2=z$并且$a_0^4=1$.显然$b^{-1}a^kb=a^kz^k$，即$\mathrm{C}_H(b)=\langle a^2\rangle$.断言$a_0\notin\mathrm{C}_H(b)$.若不然，$|a_0^{-1}b|=2$矛盾.但是$a_0\in H\setminus\langle a^2\rangle $意味着$H=\langle a_0\rangle\cong Z_4$，与$n\ge 3$矛盾.

	现在考虑(2)：注意$b^2=b^{-1}a_0^2b=a_0^{-2}=b^{-2}$，即$|b|=4$且$b^2=z$.在情况(2)中有$(ab)^2=b(b^{-1}ab)ab=b^2z=z^2=1$，与$ab\in G\setminus H$矛盾.

	因此只可能是(1).此时与(2)同理有$x^2=z$.
	\[
		G=\langle a,b\mid a^{2^n}=b^4=1,\,b^2=a^{2^{n-1}},\,b^{-1}ab=a^{-1}\rangle\cong Q_{2^{n+1}}.
	\]
\end{proof}
\begin{prop}
	设有限$p$群$G$有唯一$p$阶子群，则$G$是循环群或广义四元数群.
\end{prop}
\begin{proof}
	设$G$非交换.由于$G$的任何非平凡子群也有唯一$p$阶子群，对$|G|$归纳.注意$p$群中心非平凡，因此可取极大Abel正规子群$H$，则$H$循环.由$p$群幂零，根据\hyperlink{prop:MaxAbelNormalSubgrpOfNilGrp}{后文命题}有$\mathrm{C}_G(H)=H$.根据N/C定理认为$G/H\le\operatorname*{Aut}(H)$.设$Q/H$是$G/H$的$p$阶子群，则$Q$非交换(若不然，设$Q<G$，则$Q$循环，与$\mathrm{C}_G(H)=H$矛盾)并且
	\[
		\forall g\in Q\setminus H,\quad 1\ne g^p\in H,
	\]
	因为$H$包含了$G$中唯一的$p$阶子群.因此由上述命题得$p=2$且$Q$是广义四元数群.特别地对任意$b\in Q\setminus H$有$b^{-1}ab=a^{-1}$，其中$H=\langle a\rangle $.因此$2$群$G/H\le\operatorname*{Aut}(H)$只有一个$2$阶子群.注意对循环群的自同构$\operatorname*{Aut}(H)$取逆不是任何自同构的平方，因此只能$|G/H|=2$，即$G=Q$是广义四元数群.
\end{proof}
\begin{cor*}
	若有限$p$群$G$的任何Abel子群循环，则$G$是循环群或广义四元数群.
\end{cor*}
\begin{proof}
	设$H\le G$是$p$阶子群.注意$HZ(G)$是Abel子群，因此循环，所以$H$是$HZ(G)$中唯一的$p$阶子群，必有$H\le Z(G)$，因$Z(G)\ne 1$.因此$H$是$G$中唯一的$p$阶子群.
\end{proof}

这些结论可以应用到下节的小阶群分类中.

\subsection{小阶群分类}\label{subsec:ClassificationSmallOrder}
首先根据目前各种结果可以得到一般性的结论如下.
\begin{prop}
	设$p>q$，则$pq$阶群至多只有$Z_p\times Z_q$和$Z_p\rtimes Z_q$两个同构类.
\end{prop}
\begin{proof}
	$G$有正规$q$阶子群$\langle b\rangle $，显然$G=\langle a\rangle\langle b\rangle \cong Z_p\rtimes Z_q$.由$\operatorname*{Aut}(\mathbb{Z}_p)=\mathbb{Z}_p^*=Z_{p-1}$，当$q\nmid p-1$时作用平凡，只能为直积.当$q\mid p-1$时设群作用$\sigma(a)=a^r$，其中$r\equiv 1\pmod{q}$，则$G$为非交换群
	\[
		G=\langle a,b\mid a^p=b^q=1,\,b^{-1}ab=b^r\rangle .
	\]
	对其他半直积$\sigma^k$用$b^k$代替$b$得到相同生成关系.
\end{proof}
\begin{prop}
	设$p$为奇素数，则$2p$阶非Abel群只有$D_{2p}$.
\end{prop}
\begin{proof}
	设$|G|=2p$，则$G$有正规$p$阶子群，取$p$阶元$r\in G$和$2$阶元$s\in G$，则$G=\langle r\rangle \langle s\rangle =\langle r,s\rangle $.由$\langle r\rangle $正规，设$srs=r^k$，其中$1<k<p$，则$r=sr^ks=(srs)^k=r^{k^2}$，即$p\mid(k+1)(k-1)$，只能$k=p-1$，即$srs=r^{-1}$，因此$G\cong D_{2n}$.
\end{proof}

下面可以列出群阶$<25$\footnote{$24$阶群同构类中开始出现矩阵群$\mathrm{SL}(2,3)$，这对我们来说不好处理.}且同构类较多的群.
\begin{itemize}
	\item $8$阶群$5=3+2$个.\begin{itemize}
		\item $E_8,\,Z_2\times Z_4,\,Z_8$.
		\item $D_8,Q_8$.
	\end{itemize}
	\item $12$阶群$5=2+3$个.\begin{itemize}
		\item $Z_4\times Z_3,\,Z_2\times Z_6$.
		\item $D_{12},\,Q_{12},\,A_4$.
	\end{itemize}
	\item $16$阶群$14=5+9$个.\begin{itemize}
		\item $E_{16},\,Z_4\times Z_4,\,K_4\times Z_4,\,Z_2\times Z_8,\,Z_{16}$.
		\item $D_{16},\,SD_{16},\,M_{16},\,Q_{16},\,D_8\times Z_2,\,Q_8\times Z_2$\par $\mathcal{P}_1,\,(Z_2\times Z_4)\rtimes Z_2,\, Z_4\rtimes Z_4$.
	\end{itemize}
	\item $18$阶群$5=2+3$个.\begin{itemize}
		\item $Z_3\times Z_6,\,Z_{18}$.
		\item $D_{18},\,D_6\times Z_3,\,(Z_3\times Z_3)\rtimes Z_2$.
	\end{itemize}
	\item $20$阶群$5=2+3$个.\begin{itemize}
		\item $Z_{20},\,Z_2\times Z_{10}$.
		\item $D_{20},\,Q_{20},\,\operatorname*{Hol}(Z_5)$.
	\end{itemize}
	\item[{\color{red}\textbullet}] $24$阶群$15=4+11$个.\begin{itemize}
		\item $K_4\times Z_6,\,Z_4\times Z_6,\,Z_3\times Z_8,\,Z_{24}$.
		\item $D_{24},\,Q_{24},\,D_{12}\times Z_2\cong D_6\times K_4,\,Q_{12}\times Z_2,\,D_6\times Z_4$\par $D_8\times Z_3,\,Q_8\times Z_3,\,S_4,\,A_4\times Z_2$\par $Z_3\rtimes Z_8,\,Z_3\rtimes D_8,\,\mathrm{SL}(2,3)$.
	\end{itemize}
\end{itemize}
\begin{remark}
	后文会提到\hyperlink{thm:CyclicFromOrder}{定理}：若$(n,\varphi(n))=1$则$n$阶群循环.
	实际上还有\hyperlink{thm:CyclicSylowMetacyclic}{定理}：任何Sylow子群循环的群是亚循环群.
	对未提到的情况利用本节和上节定理可以完全判定$<32$阶群的结构.
\end{remark}
\begin{remark}
	$16$阶非Abel群中出现了{\heiti Pauli群}\footnote{Pauli群实际上构成$\mathrm{GL}(2,\mathbb{C})$的子Lie代数，注意生成关系$\sigma_1\sigma_2\sigma_3=\mi$.} $\mathcal{P}_1=\langle \sigma_1,\sigma_2,\sigma_3\rangle $，其中
	\[
		\sigma_1=\begin{bmatrix}
			0&1\\
			1&0
		\end{bmatrix},\quad\sigma_2=\begin{bmatrix}
			0&-\mi\\
			\mi&0
		\end{bmatrix},\quad\sigma_3=\begin{bmatrix}
			1&0\\
			0&-1
		\end{bmatrix}.
	\]
	它是由这些Pauli矩阵和生成的乘法群.注意$\mathcal{P}_1=\langle \sigma_1,\sigma_2\rangle \circ\langle \mi\rangle=\langle \mi\sigma_1,\mi\sigma_2\rangle \circ\langle \mi\rangle  $，它可以表达为中心积$\mathcal{P}_1\cong D_8\circ Z_4\cong Q_8\circ Z_4$.
\end{remark}
\begin{remark}
	$20$阶非Abel群中出现了$\mathrm{Hol}(Z_5)$.一般地，注意到群$G$总能与自己的自同构群$\operatorname*{Aut}(G)$作半直积，定义群$G$的{\heiti 全形}\footnote{holomorph.} 为$\mathrm{Hol}(G):=G\rtimes\operatorname*{Aut}(G)$.它也可定义为$G\lesssim S_G$的正规化子$\mathrm{Hol}(G):=\mathrm{N}_{S_G}(G)$.
\end{remark}

首先可以分类所有$4p$阶群.需要特别处理$8$阶群和$12$阶群.
\begin{prop}
	设素数$p>3$，则$4p$阶群只有\par
	\begin{itemize*}
		\item $Z_{4p}$\phantom{\qquad}
		\item $Z_p\times K_4$\phantom{\qquad}
		\item $D_{4p}$\phantom{\qquad}
		\item $Q_{4p}$
	\end{itemize*}\par
	特别$p\equiv 1\pmod 4$时
	\begin{itemize}
		\item $Z_p\rtimes Z_4$\quad($Z_4\to\operatorname*{Aut}(Z_p)$单).
	\end{itemize}\hypertarget{prop:4pGroupStruc}{}
\end{prop}
\begin{proof}
	$4p$阶群有正规Hall子群$Z_p$，由Schur--Zassenhaus定理$4p$阶群为$Z_p\rtimes K_4$或$Z_p\rtimes Z_4$.平凡作用给出两个Abel群.

	对$K_4\to\operatorname*{Aut}(Z_p)$由于$\operatorname*{Aut}(Z_p)\cong Z_{p-1}$循环，同态核和像均为$Z_2$.设$Z_p=\langle g\rangle $，$K_4=\langle a,b\mid a^2=b^2=(ab)^2=1\rangle $，只能$a\mapsto(g\mapsto g^{-1})$而$b\mapsto\mathrm{id}$.注意$(g,b)$是$2p$阶元，$(1,a)$是$2$阶元，二者满足$D_{4p}$生成关系.

	对$Z_4\to\operatorname*{Aut}(Z_p)\cong Z_{p-1}$，当$p\equiv 1\pmod 4$时可以嵌入.否则同态核与像$Z_2$，设$Z_p=\langle a\rangle ,Z_4=\langle b\rangle $则$b\mapsto(a\mapsto a^{-1})$.注意$(a,b^2)$为$2p$阶元，$(1,b)$为$4$阶元，二者满足$Q_{4p}$生成关系.
\end{proof}
\begin{lemma}
	设$p$是$|G|$的最小素因子，则$G$不能恰有两个指数$p$子群.
\end{lemma}
\begin{proof}
	若不然，设$M,N$是仅有的两个指数$p$子群，则$G=MN$且$|G/M\cap N|=|G/M||G/N|=p^2$，但是$p^2$阶群中$Z_p,Z_p\times Z_p$都不是恰有两个指数$p$子群，矛盾.
\end{proof}
\begin{prop}
	$8$阶非Abel群只有$D_8$和$Q_8$.
\end{prop}
\begin{proof}
	$G$非交换，因此有$4$阶元$a$.考虑$G$中$2$阶元个数.
	
	若存在$2$阶元$b\ne a^2$，由$\langle a\rangle $正规只能$bab=a^{-1}$，即$G\cong D_8$.
	
	若只有一个$2$阶元$a^2$，则$G$至少有$2$个$4$阶循环子群(否则循环).实际上由上述引理，$G$至少有$3$个$4$阶循环子群.设对应生成元$a,b,c$，则$G=\langle a,b,c\rangle $且$a^2=b^2=c^2$.于是$ab=c$或$ab=c^3$，后者即$ac=b$.无论何种情形都同构于$Q_8$.
\end{proof}
\begin{prop}
	$12$阶非Abel群只有$D_{12},\,Q_{12},\,A_4$.
\end{prop}
\begin{proof}
	$12$阶群$G$有$3$阶子群$H$，从而有同态$\psi\colon G\to S_4$且同态核$H_G\subseteq H$.若$H_G=1$，则$G$作为$S_4$的指数$2$子群只能是$A_4$.若$H\neg G$正规，由N/C定理$G/\mathrm{C}_G(H)\lesssim\operatorname*{Aut}(H)\cong Z_2$.由$G$非交换只能$G/\mathrm{C}_G(H)\cong Z_2$，此时$|\mathrm{C}_G(H)|=6$只能是$Z_6$.因此$G$是$Z_6$关于$Z_2$的扩张，根据亚循环群的~\hyperlink{thm:Metacyclic}{H\"older定理}只有$D_{12},Q_{12}$.
\end{proof}
\begin{prop}
	$18$阶非Abel群只有$D_{18},\,D_6\times Z_3,\,(Z_3\times Z_3)\rtimes Z_2$.
\end{prop}
\begin{proof}
	$G$有正规Sylow $3$-子群$H$和$2$阶子群$K$，显然$H\cap K=1$且$G=HK$，即$G=H\rtimes K$.

	(1)$H\cong Z_9$.设$H=\langle a\rangle,\,K=\langle b\rangle $，只能$b\mapsto(a\mapsto a^{-1})$，此时$G\cong D_{18}$.

	(2)$H\cong Z_3\times Z_3$.设$H=\langle a,b\rangle,\,K=\langle c\rangle $.由于$\operatorname*{Aut}(Z_3\times Z_3)\cong\mathrm{GL}(2,3)$，$2$阶元对应矩阵极小多项式为$x^2-1$或$x+1$.若定义$cac=a^{-1},\,bc=cb$得到$D_6\times Z_3$.若定义$cac=b,\,cbc=a$得到$(Z_3\times Z_3)\rtimes Z_2$.
\end{proof}

最后我们分类$16$阶群.这注定是一次漫长的分类.
\begin{prop}
	$16$阶非Abel群只有\par
	\begin{itemize*}
		\item $D_{16}$\phantom{\qquad}
		\item $SD_{16}$\phantom{\qquad}
		\item $M_{16}$\phantom{\qquad}
		\item $Q_{16}$\phantom{\qquad}
		\item $D_{8}\times Z_2$\phantom{\qquad}
		\item $Q_8\times Z_2$\phantom{\qquad}
	\end{itemize*}
	\begin{itemize}
		\item $\mathcal{P}_1=\langle i,x,y\mid i^4=x^2=y^2=1,\,yx=i^2xy\rangle$
		\item $(Z_4\times Z_2)\rtimes Z_2=\langle a,b,c\mid a^4=b^2=c^2=1,\,ab=ba,\,bc=cb,\,cac=ab\rangle $
		\item $Z_4\rtimes Z_4=\langle a,b\mid a^4=b^4=1,\,bab^{-1}=a^{-1}\rangle $.
	\end{itemize}
\end{prop}
\begin{proof}
	由上节\hyperlink{prop:pGroupCyclicMax1}{命题3}和\hyperlink{prop:pGroupCyclicMax2}{命题4}，存在循环极大子群的情况已经不需要讨论.同时，我们只写出证明梗概，略去简单的细节处理.

	设$G$非Abel，则$|Z(G)|=2,4$.记包含中心的极大子群为$G_i$，则$Z(G)\subseteq Z(G_i)$且$|G_i\cap G_j|=4$.我们需要下述引理：
	\begin{itemize}
		\item 若有三个$G_i$两两交相同，则这三个$G_i$覆盖了$G$.
		\item 若$g_i\in G_i\setminus G_i\cap G_j,\,g_j\in G_j\setminus G_i\cap G_j$，则$g_ig_j\notin G_i,G_j$.
		\item 在$K_4$中的非单位元$a,b,c$满足$abc=1$当且仅当$a,b,c$两两不等.
	\end{itemize}

	{\color{Goldenrod}(1)$|Z(G)|=4$}.
	
	此时$|Z(G_i)|\ge 4$，因此$G_i$交换.注意$G/Z(G)\cong K_4$因此恰有三个$G_i$并且$G_i\cap G_j=Z(G)$.由引理$G_1,G_2,G_3$覆盖了$G$.
	
	同时$G'\subseteq Z(G)$推出$1\ne[g_i,g_j]\in Z(G)$(若不然，$g_i$与$Z(G),g_iZ(G),g_jZ(G)$都交换，从而$|\mathrm{C}_G(g_i)|\ge 12$只能$G=\mathrm{C}_G(g_i)$，即$g_i\in Z(G)$矛盾).

	{\color{CornflowerBlue}(i)$Z(G)\cong K_4$}.
	
	{\color{IndianRed}\bullet$G_1,G_2,G_3\cong E_8$}.此时$\exp(G)=2$蕴含$G$交换.

	{\color{IndianRed}\bullet$G_1,G_2\cong E_8,\,G_3\cong Z_4\times Z_2$}.

	取非中心元$r\in G_3$和$s\in G_1$，则$z=[r,s]\in Z(G)$.注意$r^2\in Z(G)$.由引理得$rs\in G_2$是$2$阶元，从而$1=(rs)^2=r^2s^2z=r^2z$，即$z=r^2$，于是$srs=rz=r^{-1}$.再取$g\in Z(G)\setminus\langle r^2\rangle $，则$\langle r,s\rangle \cap\langle g\rangle=1$，因此
	\[
		G=\langle r,s\rangle\times\langle r^2\rangle\cong D_8\times Z_2.
	\]

	{\color{IndianRed}\bullet$G_1\cong E_8,\,G_2,G_3\cong Z_4\times Z_2$}.

	取非中心元$a\in G_2$和$g\in G_3$，则$1\ne[g_2,g_3]\in Z(G)$且$g_2g_3\in G_1$是$2$阶元.记$b=[a,g]$由$1=(ag)^2=a^2g^2b$和$Z(G)\cong K_4$的性质推出$g^2=a^2b$和$b=a^2g^2$，特别地$c=ga^{-1}=ag^{-1}=c^{-1}$.显然$\langle a,b\rangle \cap\langle c\rangle=1$并且$cac=ab$，因此
	\[
		G=\langle a,b\rangle\rtimes\langle c\rangle\cong(Z_4\times Z_2)\rtimes Z_2=\langle a,b,c\mid a^4=b^2=c^2=1,\,ab=ba,\,bc=cb,\,cac=ab\rangle.
	\]

	{\color{IndianRed}\bullet$G_1,G_2,G_3\cong Z_4\times Z_2$}.

	取非中心元$i\in G_1$和$j\in G_2$，则$ij\in G_3$并且$i,j,ij$都是$4$阶元.注意$(ij)^2=i^2j^2[i,j]=1$，即$[i,j]=i^2j^2(ij)^2\ne 1$.由$Z(G)\cong K_4$的性质$i^2,j^2,(ij)^2$至少两个相同.
	
	(a)$i^2=j^2=(ij)^2$.此时$[i,j]=i^2$.取$i^2\ne g\in Z(G)$，则$\langle i,j\rangle\cap\langle g\rangle=1$，因此
	\[
		G=\langle i,j\rangle\times\langle g\rangle\cong Q_8\times Z_2.
	\]

	(b)$i^2\ne j^2=(ij)^2$.仍有$[i,j]=i^2$.注意$\langle i\rangle\cap\langle j\rangle =1$且$jij^{-1}=[i,j]i=i^{-1}$，因此
	\[
		G=\langle i\rangle\rtimes\langle j\rangle\cong Z_4\rtimes Z_4=\langle a,b\mid a^4=b^4=1,\,bab^{-1}=a^{-1}\rangle.
	\]

	{\color{CornflowerBlue}(ii)$Z(G)\cong Z_4$}.

	{\color{IndianRed}\bullet$G_1,G_2,G_3$中有循环群}.此时$G\cong M_{16}$.

	{\color{IndianRed}\bullet$G_1,G_2,G_3\cong Z_4\times Z_2$}.

	取非中心元$g_1\in G_1,\,g_2\in G_2$，则$g_1g_2\in G_3$且$[g_1,g_2]\in Z(G)$.由$(g_1g_2)^2=[g_1,g_2]$推出$[g_1,g_2]$是$2$阶元，从而$g_1g_2$是$4$阶元.设$Z(G)=\langle z\rangle $则$z^2=[g_1,g_2]$.易得$G_1\cap\langle g_2\rangle=1$同时$|G_1\langle g_2\rangle |=16$，因此
	\[
		G=\langle z,g_1,g_2\mid z^4=g_1^2=g_2^2=1,\,zg_1=g_1z,\,zg_2=g_2z,\,g_1g_2=z^2g_2g_1\rangle\cong\mathcal{P}_1.
	\]

	{\color{Goldenrod}(2)$|Z(G)|=2$，即$Z(G)\cong Z_2$}.

	此时$|G/Z(G)|=8$，按$8$阶群同构类分类.需要如下引理：
	\begin{itemize}
		\item 若$|Z(G)|=2$且$G_i$只有一个包含中心的$4$阶子群，则$G_i$同构于$Z_8$或$Z_4\times Z_2$.
		\item 若$G$有交换的$G_i,G_j$，则$G_i\cap G_j\subseteq Z(G)$.特别地$|Z(G)|\ge 4$.
	\end{itemize}
	主要工作是通过这两个引理排除很多不构成非Abel群的情形.

	{\color{IndianRed}\bullet$G/Z(G)\cong Z_4\times Z_2$}.

	$G/Z(G)$有三个$4$阶子群，其中两个为$Z_4$，一个为$K_4$.于是设$G_1,G_2$只有一个含中心的$4$阶子群.由引理知$G_1,G_2$交换，从而$|Z(G)|\ge 4$.因此不存在.

	{\color{IndianRed}\bullet$G/Z(G)\cong E_8$}.

	此时$G'=Z(G)$并且对任意$g\in G$有$g^2\in Z(G)$.存在$g\in G$使得$g^2\ne 1$，因此$Z(G)=\langle g^2\rangle $，即$|g|=4$.在$G/Z(G)\cong E_8$中有三个$4$阶子群，它们包含任何$2$阶子群，于是对应三个$G_i$包含$\langle g\rangle $.由引理设$G_2,G_3$非Abel，从而$Z(G)=Z(G_2)=Z(G_3)$并且$\langle g\rangle=G_2\cap G_3$.

	取$g_2\in G_2,\,g_3\in G_3$不在$\langle g\rangle $中.由$g\notin Z(G_2)=Z(G_3)$可得$1\ne[g_2,g]=[g_3,g]=:z\in Z(G)$.根据$g_2g=zgg_2$又有$(g_2g_3)g=z^2gg_2g_3=g(g_2g_3)$，即$g$与$g_2g_3\in G_1$交换.而$G_1=\langle g\rangle\cup(g_2g_3)\langle g\rangle $，所以$g\in Z(G_1)$.考虑到$Z(G)\subseteq Z(G_1)$就有$|Z(G_1)|\ge 3$，从而$G_1$交换.为了保证$\forall g\in G_1,\,g^2\in Z(G)$只能$G_1\cong Z_4\times Z_2$.

	若存在$1\ne h_2\in G_2$与$g_1$交换，则$\langle g_1,h_2,g\rangle\ne G_1$是$8$阶Abel群且包含中心$Z(G)=\langle g^2\rangle $.由引理，这样的群$G$不存在.

	若任意$1\ne h_2\in G_2$与任意$g_1\in G_1\setminus\langle g\rangle $不交换，特别地$g_2$与$g_1$不交换.然而$g_1g\notin\langle g\rangle $并且$(gg_1)g_2=g_2(gg_1)$，即$g_2$与$gg_1$交换.因此不存在.

	{\color{IndianRed}\bullet$G/Z(G)\cong Q_8$}.

	$G/Z(G)\cong Q_8$有三个$4$阶子群，每个恰有一个$2$阶子群.于是有三个$G_i$恰有一个包含中心的$4$阶子群，由引理它们交换并且$|Z(G)|\ge 4$.因此不存在.

	{\color{IndianRed}\bullet$G/Z(G)\cong D_8$}.

	$G/Z(G)\cong D_8$有三个$4$阶子群，其中一个恰有一个$2$阶子群，剩下两个恰有三个$2$阶子群.于是设$G_1$有一个$4$阶子群而$G_2,G_3$有三个$4$阶子群.由引理$G_1$交换而$G_2,G_3$非交换.注意$Z(G)=Z(G_2)=G_2'\subseteq G'$，因为$G_2$为$D_8$或$Q_8$.

	对任意不可换的$g_1,g_2\in G$设$g_2g_1=g'g_1g_2$，其中$g'\in\langle g_1,g_2\rangle'$.由$G/Z(G)\cong D_8$的中心等于换位子知$g_2g_1Z(G)=g_1g_2g'Z(G)$，即存在$z\in Z(G)$使得$g_2g_1=g_1g_2g'z$，于是$g'z=[g_2,g_1]\in G'$，从而$|G|'\ge 3$并且易验证$G'=\langle z\rangle\times\langle g'\rangle\cong K_4$.特别地$z\ne 1$.

	断言$G_1\cong Z_8$循环，从而$G\cong D_{16},SD_{16},Q_{16}$.若不然，$G_1\cong Z_4\times Z_2$且含中心的$4$阶子群是$K_4$.非Abel群$G_2$不能是$Q_8$，因$Q_8$的$4$阶子群循环，但$G'=G_1\cap G_2\cong K_4$.因此$G_2\cong D_8$.存在$2$阶元$g_2\in G_2$和$g_1\in G_1$使得换位子$g'$与$g_2$不可换，其中$g_2g_1=g'g_1g_2$.于是$g_1=g_2^2g_1=g_2g;g_1g_2=zg'g_2g_1g_2=zg'^2g_1$，即$g'^2=z\ne 1$，矛盾.
\end{proof}
\begin{remark}
	有限群论的初等做法是如此繁琐.
\end{remark}

最后对于$24$阶群，只给出如下简单结果.
\begin{prop}
	$24$阶群若Sylow $2$-子群和Sylow $3$-子群都不正规，则只能是$S_4$.\hypertarget{prop:24OrderGroup}{}
\end{prop}
\begin{proof}
	显然$n_2=3,\,n_3=4$.设Sylow $3$-子群$P$的正规化子为$N$，则$N$给出了传递置换表示$G\to S_4$并且$|N_G|\le 6$.若$|N_G|=6$，则$N=N_G$正规.由正规Sylow子群是特征子群得$P\nsg G$矛盾.若$|N_G|=3$，则$N_G\in\mathrm{Syl}_3(G)$正规，矛盾.若$|N_G|=2$，则$\psi(G)\cong A_4$.但$A_4$的$4$阶子群正规，与$G$的Sylow $2$-子群不正规矛盾.因此$G\cong S_4$.
\end{proof}
\begin{remark}
	换言之，$24$阶群除$S_4$外都是$3$阶群和$8$阶群的半直积.
\end{remark}

\subsection{低阶单群}\label{subsec:SimpleGrpLowOrder}
在本节我们将判定阶$\le 660$的非Abel单群.下述有限非Abel群不单：
\begin{itemize}
	\item 非Abel $p$群.
	\item $pq$阶群.
	\item $p^2q$阶群.
	\item $pqr$阶群.
	\item $2n$阶群，其中$n$是奇数.
	\item $p^rn$阶群，其中$(p,n)=1$且$n<p^2,\,r\ge 2$.
	\item[{\color{red}\textbullet}] $4p$阶群.(\hyperlink{prop:4pGroupStruc}{前文定理})
	\item[{\color{red}\textbullet}] $p^nq$阶群.(由~\hyperlink{thm:BurnsideNormalpComplement}{Burnside转移})
	\item[{\color{red}\textbullet}] $p^aq^b$阶群.(Burnside定理)
	\item[{\color{red}\textbullet}] 任何Sylow子群循环的群.(见后文\hyperlink{thm:CyclicSylowMetacyclic}{定理})
\end{itemize}
\begin{remark}
	我们不会利用其中标红结论，虽然它们确实很好用.
\end{remark}
\begin{lemma}
	$p^2q$阶群不单.
\end{lemma}
\begin{proof}
	设其单.若$p>q$，则Sylow $p$-子群正规.若$p<q$，则$n_q=p^2$，即$q$阶元$p^2(q-1)$个，故只能$n_p=1$，即Sylow $p$-子群正规.
\end{proof}
\begin{lemma}
	$pqr$阶群不单.
\end{lemma}
\begin{proof}
	设$p<q<r$且$G$单，则$n_p\ge q,\,n_q\ge r,\,n_r=pq$.但$pq(r-1)+r(q-1)+q(p-1)>pqr$矛盾.
\end{proof}
\begin{lemma}
	$2n$阶群不单，其中$n$为奇数.
\end{lemma}
\begin{proof}
	设$G\lesssim S_{2n}$，则$G$中的$2$阶元是$n$个对换之积.由$G$中有奇置换知有指数$2$子群.
\end{proof}
\begin{lemma*}
	$p^rn$阶群不单，其中$(p,n)=1$且$n<p^2,\,r\ge 2$.\hypertarget{lemma:p^rnNSimple}{}
\end{lemma*}
\begin{proof}
	设$G$单，则$n_p\ge 1+p$.断言$n_p$唯一.若不然，设$kp+1,lp+1$可行，则$(kp+1,lp+1)=(kp+1,k-l)\le k-l$，但是$[kp+1,lp+1]\ge(kp+1)(lp+1)/(k-l)>p^2$，与$n_p\mid n$矛盾.

	取$P_1,P_2\in\mathrm{Syl}_p(G)$并记$H=P_1\cap P_2$.由$P_1P_2\subseteq G$得$|H|=p^{r-1}$，从而$H\nsg P_1,P_2$，即$P_1,P_2\subseteq\mathrm{N}_G(H)$.注意$\mathrm{Syl}_p(\mathrm{N}_G(H))\subseteq\mathrm{Syl}_p(G)$并且$\mathrm{N}_G(H)$的阶也有和$G$的阶类似的性质，故由上述$n_p$唯一性，$\mathrm{N}_G(H)$包含全体$G$的Sylow $p$-子群.

	注意$P\le\mathrm{N}_G(H)$蕴含$H\nsg P$(设$P=nP_1n^{-1}$，则$H\le nP_1n^{-1}=P$)，因此$H\subseteq\bigcap P\subseteq P_1\cap P_2=H$，即$H=P_G\nsg G$，矛盾.
\end{proof}

直接应用上述结论已经可以排除$1-660$阶群中的$602$个.

(1)考虑传递置换表示.对单群$G$将有$G\lesssim A_n$.因此$|G|\nmid |A_n|$时必有$G$不单.特别地要嵌入$A_n$至少要$|G|\le n!/2$.例如下述阶数的群不单：
\[
	36,\,48,\,72,\,80,\,96,\,108,\,112,\,160,\,192,\,216,\,224,\,300,\,320,\,324,\,384,\,392,\,448,\,600,\,640,\,648.
\]

(2)若Sylow $p$-子群是$p$阶的，则它们两两交平凡.通过计数$p$阶元超出群$G$阶数证明$G$不单.例如下述阶数的群不单：
\[
	56,\,105,\,132,\,351,\,380,\,495,\,520,\,552,\,595,\,616.
\]

(3)若$p^2\mid|G|$，考虑$P$在$\mathrm{Syl}_p(G)$上的共轭作用，则稳定子群$\mathrm{N}_P(P_1)=P\cap\mathrm{N}_G(P_1)=P\cap P_1$(注意阶数)，因此$n_p=\sum|P|/|P\cap P_i|$.若$n_p\not\equiv 1\pmod{p^2}$，则必有某个$H=P\cap P_i\ne 1$.同时根据$n_p\equiv 1\pmod p$知$[P:H]=p$，于是$P,P_i\subseteq\mathrm{N}_G(H)$.由$PP_i\subseteq\mathrm{N}_G(H)$进一步得到$[G:N_G(H)]$范围，结合传递置换表示判定$G$不单.例如下述阶数的群不单：
\[
	144,\,240,\,315,\,400,\,432,\,480,\,525.
\]

(4)上述(1)中的置换表示判定比较粗糙，进一步还可以通过$G$的子群也是$A_n$的子群判定.特别地，若$P$同时是$G$和$A_n$的Sylow $p$-子群，则$|\mathrm{N}_G(P)|\mid|\mathrm{N}_{A_n}(P)|$.

这一情形在$n=p,p+1$时成立.此时$S_n$的Sylow $p$-子群由$p$-轮换生成，而$S_n$的共轭类完全由型决定，故不难算出此时$|\mathrm{N}_{S_n}(P)|=p(p-1)$.

为了进一步加强结论，我们先给出如下一般性引理.
\begin{lemma*}
	若$P\in\mathrm{Syl}_p(S_n)$($p\ne 2$)，则$P\in\mathrm{Syl}_p(A_n)$且$|\mathrm{N}_{A_n}(P)|=\frac{1}{2}|\mathrm{N}_{S_n}(P)|$.
\end{lemma*}
\begin{proof}
	由Frattini论断得$S_n=\mathrm{N}_{S_n}(P)A_n$，所以$[\mathrm{N}_{S_n}(P):\mathrm{N}_{A_n}(P)]=2$.
\end{proof}

因此在$n=p,p+1$时$A_n$中Sylow $p$-子群的正规化子阶为$p(p-1)/2$.若$|\mathrm{N}_G(P)|\nmid p(p-1)/2$则必有$G$不单.例如下述阶数的群不单：
\[
	264,\,280,\,336,\,396,\,528,\,560.
\]

(5)剩下有$13$个群的阶值得单独一提：
\[
	{\color{IndianRed}60},\,120,\,{\color{IndianRed}168},\,180,\,252,\,288,\,{\color{IndianRed}360},\,420,\,{\color{IndianRed}504},\,540,\,576,\,{\color{DeepSkyBlue}612},\,{\color{IndianRed}660}.
\]
其中标红的阶数是存在单群的.进一步，它们还是唯一的.
\begin{prop}
	$60$阶单群只有$A_5$.
\end{prop}
\begin{proof}
	易得$n_2=5,15$和$n_3\ge 10,\,n_5=6$.若$n_2=5$，则$G\cong A_5$.若$n_2=15$，则Sylow $2$-子群不能两两交平凡，否则$15(2^2-1)+10(3-1)+6(5-1)>60$.设$H=P_1\cap P_2\ne 1$，则$|H|=2$且$|\mathrm{N}_G(H)|\ge 12$，因为$P_1,P_2\le\mathrm{N}_G(H)$.传递置换表示断定$G$没有指数$\le 4$的子群，故$\mathrm{N}_G(H)$是指数$5$子群，即$G\cong A_5$.
\end{proof}
\begin{lemma}
	不存在$120$阶单群.
\end{lemma}
\begin{proof}
	由于$n_5=6$，即$G\hookrightarrow A_6$.但$A_6$单，没有指数$3$子群.
\end{proof}
\begin{lemma}
	不存在$180$阶单群.
\end{lemma}
\begin{proof}
	显然$n_5=6,36$.若$n_5=6$，则$G\hookrightarrow A_6$是指数$2$子群，但$A_6$单.若$n_5=36$，则$n_3=10$个Sylow $3$-子群不能两两交平凡，否则$36(5-1)+10(3^2-1)>180$.因此存在$P_1,P_2\in\mathrm{Syl}_3(G)$满足$H=P_1\cap P_1\ne 1$，易得$|\mathrm{N}_G(H)|\ge 36$.但此时$\mathrm{N}_G(H)$的指数$\le 5$.
\end{proof}
\begin{lemma}
	不存在$252$阶单群.
\end{lemma}
\begin{proof}
	显然$n_3\ge 7,\,n_7=36$.除去$216$个$7$阶元剩下$36$个元素，可知必有两Sylow $3$-子群相交，交的正规化子$N$阶恰为$36$，因此$G$只有一个$36$阶子群$N$，即$N$正规.
\end{proof}
\begin{lemma}
	不存在$288$阶单群.
\end{lemma}
\begin{proof}
	显然$n_3=16$，于是由上述(3)存在Sylow $3$-子群相交，交的正规化子$N$的阶为$36$.对子群$N$，注意$n_3'=4$，设$P\in\mathrm{Syl}_3(N)$，则$P=\mathrm{N}_G(P)$并且$P_N\ne 1$，即$4$个Sylow $3$-子群交于$3$阶子群$P_N$.注意$P$交换，因此$|\mathrm{C}_N(P_N)|\ge 27$，即$\mathrm{C}_N(P_N)=N$.我们有$n_2'=1,3,9$.若$n_2'\ge 3$，则$N$中至少有$3$个$2$阶或$4$阶元，进而至少有$6$个$6$阶或$12$阶元，结合Sylow $3$-子群共计$27$个元素，只能$n_2'\le 2$，矛盾.因此$N$有$4$阶正规子群$H$.注意$H$真包含于$H$在$G$的Sylow $2$-子群中的正规化子(因为$p$群幂零，见后文命题)，故$|\mathrm{N}_G(H)|\ge 72$，即$\mathrm{N}_G(H)$指数$\le 4$.
\end{proof}
\begin{lemma}
	不存在$420$阶单群.
\end{lemma}
\begin{proof}
	显然$n_7=15$，即有$G\hookrightarrow A_{15}$.设$P\in\mathrm{Syl}_7(G)$，则$|\mathrm{N}_G(P)|=28$.由N/C定理$\mathrm{N}_G(P)/\mathrm{C}_G(P)\lesssim Z_6$，于是$\mathrm{C}_G(P)$有$2$阶元，故$\mathrm{N}_G(P)$中有$14$阶元$g$并且$g^2\in P$.注意Sylow $7$-子群两两交平凡，故$P$在$\mathrm{Syl}_p(G)$上共轭作用的轨道长为$1,7,7$，即$g^2$只有一个不动点.但是$A_{15}$中的$14$阶偶置换型为$(7,2,2,2,2)$或$(7,2,2)$，它们的平方都不只一个不动点，矛盾.
\end{proof}
\begin{lemma}
	不存在$540$阶单群.
\end{lemma}
\begin{proof}
	显然$n_5=36$，即$|\mathrm{N}_G(P)|=15$.由N/C定理易得$\mathrm{N}_G(P)=\mathrm{C}_G(P)$，因此$\mathrm{N}_G(P)$中有$15$阶元$g$并且$g^3\in P$.由$G\hookrightarrow A_{36}$和Sylow $5$-子群两两交平凡(于是$g^3$仅一个不动点)，$g$对应的$15$阶偶置换型为$(15,5,5,5,5)$或$(15,5,5)$.注意$\langle g^5\rangle $至少有$6$个不动点，因此至少有$6$个Sylow $5$-子群的正规化子$\mathrm{N}_G(P_i)$，它们的交为$3$阶子群$H=\langle g^5\rangle $.在$15$阶群$\mathrm{N}_G(P_i)$中有$H\nsg\mathrm{N}_G(P_i)$，故$|\mathrm{N}_G(H)|\ge 3+6(15-3)=75$，即$\mathrm{N}_G(H)$指数$\le 6$.
\end{proof}
\begin{lemma}
	不存在$576$阶单群.
\end{lemma}
\begin{proof}
	显然$n_2=9$，于是Sylow $2$-子群$P=\mathrm{N}_G(P)$并且$G\hookrightarrow A_9$.由于$A_9$中$2^6\parallel|A_9|$，故$P\in\mathrm{Syl}_2(A_9)$.考虑$P$在$\mathrm{Syl}_2(G)$上的共轭作用，则$P=\mathrm{N}_G(P)$是$P$的稳定子群，从而可认为$P\in\mathrm{Syl}_2(A_8)$.直接写出$S_8$的一个Sylow $2$-子群如下
	\[
		\langle (15)(26)(37)(48),(13)(24),(57)(68),(12),(34),(56),(78)\rangle,
	\]
	可验证它的偶置换子群也是传递的，因此$P$在$\mathrm{Syl}_2(G)\setminus\{P\}$上传递，必有$P\cap P_1$是$8$阶子群.根据上述$A_8$的Sylow $2$-子群找出$A_9$稳定两点$8,9$的$8$阶子群为
	\[
		\{1,(12)(34),(12)(56),(34)(56),(13)(24),(14)(23),(1423)(56),(1324)(56)\},
	\]
	因此$P\cap P_1\cong D_8$，取中心$U\nsg P\cap P_1$为$2$阶子群.注意$D_8\times D_8\lesssim S_9$，于是$|\mathrm{N}_{S_9}(U)|\ge 64$，进而$|\mathrm{N}_{A_9}(U)|\ge 32$.由Sylow第二定理即得$|\mathrm{N}_P(U)|\ge 32$.不难验证$\mathrm{N}_G(P\cap P_1)\le\mathrm{N}_G(U)$并且$3\mid|\mathrm{N}_G(P\cap P_1)|$\,(在$\mathrm{N}_G(P\cap P_1)$中至少两个Sylow $2$-子群)，所以$|\mathrm{N}_G(U)|\ge 96$，即$\mathrm{N}_G(U)$指数$\le 6$.
\end{proof}
\begin{remark}
	证明中直接写出了$S_8$的Sylow $2$-子群.一般地，$S_{2^k}$的Sylow $2$-子群同构于$k$层完全二叉树的自同构群(注意$2^k$个叶结点).
\end{remark}
\begin{remark}
	剩下的$6$个阶数${\color{IndianRed}60},\,{\color{IndianRed}168},\,{\color{IndianRed}360},\,{\color{IndianRed}504},\,{\color{DeepSkyBlue}612},\,{\color{IndianRed}660}$不能简单地得出结论.
	
	在(4)中我们只给出了正规化子的阶数.实际上，$S_{p+1}$中$p$阶子群的正规化子同构于$\mathbb{F}_p$上的可逆线性变换$x\mapsto ax+b$(其中$a\ne 0$)，$A_{p+1}$中$p$阶群的正规化子同构于$\mathbb{F}_p$上的$x\mapsto a^2x+b$(其中$a\ne 0$).

	经过一些讨论，可以验证$60,168,360,504,612,660$阶单群都可以通过Sylow子群共轭嵌入$A_6,A_8,A_{10},A_9,A_{18},A_{12}$.同时，这些阶数的单群作为置换群满足
	\begin{itemize}
		\item $2$-传递.
		\item $G_x\cap G_y\cap G_z=1$.
	\end{itemize}

	特殊射影线性群$\mathrm{PSL}_2(\mathbb{F}_p)$是$\frac{p^3-p}{2}$阶单群.作为$\overline{\mathbb{F}_p}$上的分式线性变换群(或称M\"obius变换群)，$\mathrm{PSL}_2(\mathbb{F}_p)$满足$2$-传递和仅单位元同时稳定$3$个元素.事实上，按$p$模$4$讨论可以得到
	\begin{itemize}
		\item $60$阶单群只有$\mathrm{PSL}_2(\mathbb{F}_4)\cong\mathrm{PSL}_2(\mathbb{F}_5)\cong A_5$.
		\item $168$阶单群只有$\mathrm{PSL}_2(\mathbb{F}_7)\cong\mathrm{SL}_3(\mathbb{F}_2)$.
		\item $360$阶单群$\mathrm{PSL}_2(\mathbb{F}_9)\cong A_9$.
		\item $504$阶单群只有$\mathrm{PSL}_2(\mathbb{F}_8)$.
		\item $612$阶单群不存在.
		\item $660$阶单群只有$\mathrm{PSL}_2(\mathbb{F}_{11})$.
	\end{itemize}

	在后续\hyperlink{subsec:MatrixGrp}{矩阵群}一节也有相关内容的讨论.
\end{remark}

\subsection{Hall子群}
设$G$是有限群，此前已经定义了{\heiti Hall子群}为阶与指数互素的子群.进一步，设$\pi$是$|G|$中某些素因子的非空集，定义~{\heiti $\pi$-群} $H$为$|H|$是$\pi$中素数积的子群，则Hall $\pi$-子群是Sylow $p$-子群的自然推广.自然地也就有Sylow定理的推广如下：
\begin{thm}[(Hall)]
	有限可解群总有Hall $\pi$-子群，并且任何$\pi$-子群都含于某个Hall $\pi$-子群.特别地，Hall $\pi$-子群两两共轭.\hypertarget{thm:Hall}{}
\end{thm}
\begin{proof}
	对$|G|$归纳.取$G$的极小正规子群$N$，则$N$特征单，从而必为初等Abel $p$群.存在包含$A$的子群$H$使得$H/N$是$G/N$的Hall $\pi$-子群.若$p\in\pi$，则$H$就是$G$的Hall $\pi$-子群.若$p\notin \pi$，根据Schur--Zassenhaus定理$N$在$H$中的补就是$G$的Hall $\pi$-子群.

	设$U\le G$是$\pi$-子群，则$UN/N\le H/N$，其中$H/N$是$G/N$的某个Hall $\pi$-子群.若$p\in\pi$，则$U\le H$.若$p\notin\pi$，记$N$在$H$中的补为$\tilde H$，注意$N\cap U=1$即得$U\cong NU/N\le \tilde H$.
\end{proof}
\begin{remark}
	可解群的假设是必要的.例如$A_5$中就没有$15$或$20$阶群.
\end{remark}

此前使用Sylow定理时就发现，若有正规Sylow子群似乎总能构造出一个子群同构于Sylow子群的商群.一般地，设$H\le G$，若存在$K\le G$满足$G=HK$且$H\cap K=1$，则称$H$在$G$中有{\heiti 补} $K$.

正规Hall子群总有补，即我们可以得出下述定理.
\begin{thm}[(Schur--Zassenhaus)]
	\par 若有限群$G$有正规Hall子群$H$，则$G$是$H$关于$G/H$的分裂扩张.\hypertarget{thm:SchurZassenhaus}{}
\end{thm}
\begin{proof}
	通过对$|G|$归纳，我们首先断言只需对$H$是Abel群的情形作证明.

	设$p\mid|H|$，取$P\in\mathrm{Syl}_p(H)$.若$U:=\mathrm{N}_G(P)<G$，不难得到$U\cap H$是$U$的正规Hall子群.设$U\cap H$在$U$中有补$K$，则Frattini论断给出$G=HU=H(U\cap H)K=HK$，并且显然$H\cap K=1$.若$\mathrm{N}_G(P)=G$，即$P\nsg G$.取$Z(P)\ne 1$，则$Z(P)\nsg G$，因为$P\operatorname*{char} G$.考虑商群$\overline{G}=G/Z(P)$，则$\overline{H}$是$\overline{G}$的正规Hall子群.设$\overline{H}$在$\overline{G}$中有补$\overline{L}$，则$Z(P)\le L\le G$，$L\cap H=Z(P)$且$G=HL$.注意$Z(P)$在$L$中的补也是$H$在$G$中的补(设$L=Z(P)M$，则$G=HZ(P)M=HM$并且$Z(P)M\cap H=Z(P)$蕴含$M\cap H=1$).不难得到$Z(P)$是$L$的正规Hall子群.若$L<G$归纳即证.若$L=G$则$\overline{H}=1$，即$H=Z(P)$是Abel群.

	下设$H$是$G$的正规交换Hall子群.设$R,S$是$H$在$G$中的左右陪集代表系，定义\footnote{这个转移(transfer)技巧在\hyperlink{subsec:NormalComplement}{正规补}一节会再出现.}
	\[
		R|S:=\prod_{\substack{(r,s)\in R\times S\\ Nr=Ns}}rs^{-1}\in H.
	\]
	注意$gR|S=x(R|S)$和$gR|gS=x(R|S)x^{-1}$，其中$x=g^{|G:H|}$.

	由于$H$是Hall子群，定义$\alpha\colon h\mapsto h^{|G:H|}$，则$\alpha\in\operatorname*{Aut}(H)$.设$\mathcal{S}$为$H$在$G$中的全体左右陪集代表系，则$R|S=1$给出了$\mathcal{S}$上的等价关系(两个左(右)陪集代表系总等价).群$G$在$\mathcal{S}/\sim$上有自然的左作用，因为$R|S=1$蕴含$gR|gS=1$.

	注意对任意$R,S$取$g=(\alpha^{-1}(R|S))^{-1}$就有$gR|S=1$，即$H$传递作用.设有$R|S=1$和$hR|S=1$，则$\alpha(h)=1$，即$h=1$.这说明稳定化子$H_R=1$.由Frattini论断得到$G=HG_R$，而$H\cap G_R=H_R=1$，即$H$在$G$中有补$G_R$.同时由作用传递，这些补两两共轭.
\end{proof}
\begin{remark}
	实际上还有进一步的结论：{\heiti $H$的补在$G$中两两共轭}.这是在$H$和$G/H$中至少一个可解的假设下证明的，但Feit--Thompson定理已经说明了奇数阶群可解.利用Schreier猜想\footnote{即\emph{有限单群的外自同构群可解}.证明来自有限单群分类.}容易给出一个证明.
\end{remark}

正规Hall子群的要求有点强，得到的补也不正规.更一般地可见\hyperlink{subsec:NormalComplement}{正规补}.

\subsection{算子群}
假设有群$G$和非空集$\Omega$.此前讨论的群作用是为每一个群元素$g\in G$分配一个集合$\Omega$的置换$g\in S_{\Omega}$.反之，为每个$\alpha\in\Omega$分配一个群$G$的自同态$\alpha\in\operatorname*{End}(G)$，就称$G$是具有算子集$\Omega$的{\heiti 算子群}或\,{\heiti $\Omega$群}.

不失一般性，也就是假设$\Omega\subseteq\operatorname*{End}(G)$并将$(G,\Omega)$称为$\Omega$群.

对$\Omega$群$G$，它的子群$H$若满足$\forall\alpha\in\Omega,\,H^\alpha\le H$，则称$H$是 \,{\heiti $\Omega$子群}.对于正规$\Omega$子群$N\nsg G$，容易验证$G/N$自然地成为$\Omega$群，称为 \,{\heiti $\Omega$商群}.若$\Omega$群$G$没有非平凡正规$\Omega$子群，就称为{\heiti 不可约的}.

下面通过若干例子我们说明引入$\Omega$群作为推广的用处.
\begin{itemize}
	\item 取$\Omega=\varnothing$，则$\Omega$系列的概念都是平凡的群的概念.
	\item 取$\Omega=\operatorname*{Inn}(G)$，则$\Omega$子群即为正规子群.
	\item 取$\Omega=\operatorname*{Aut}(G)$，则$\Omega$子群即为特征子群.
	\item 域$\mathbb{F}$上的线性空间$V$作为加法群是$\mathbb{F}$群，则$\mathbb{F}$子群为子空间，$\mathbb{F}$商群为商空间.
	\item 环$R$上的(左)模$M$作为加法群是$R$群，则$R$子群为子模，$R$商群为商模.
\end{itemize}

$\Omega$群$G_1,G_2$之间的同态$\epsilon\colon G_1\to G_2$若满足$\forall\alpha\in\Omega,\,\alpha\epsilon=\epsilon\alpha$，就称$\epsilon$是 \,{\heiti $\Omega$同态}.进而可以定义 \,{\heiti $\Omega$同构}.将$\Omega$群$G$的全体$\Omega$自同态记作$\operatorname*{End}_\Omega(G)$.

易知$\Omega$群$G$的$\Omega$子群对交和生成封闭，即全体$\Omega$子群构成子群格的子格.并且群同态基本定理、群同构定理、子群格对应定理均成立.

\medskip 对无限$\Omega$群$G$引入如下有限性条件：$G$的全体$\Omega$子群构成自然的偏序集.若全序子集总有极大元，则称$G$对$\Omega$子群满足{\heiti 有限升链条件}.类似地{\heiti 有限降链条件}.链条件\footnote{链条件中“全序子集”可以改为任意子集，它们是等价的.}也可以只针对正规$\Omega$子群.

\medskip 以下未特别声明时，总设$G$是$\Omega$群.

若$\mu\in\operatorname*{End}(G)$与内自同构可换，则称$\mu$是{\heiti 正规自同态}.

\begin{lemma*}
	设$\mu$是群$G$的正规自同态，则$G^\mu\nsg G$并且$\forall g\in G,\,g^\mu g^{-1}\in\mathrm{C}_G(G^\mu)$.\qed
\end{lemma*}

记$1$为恒等映射，$0$为$g\mapsto 1$，则$0,1\in\operatorname*{End}_\Omega(G)$.
\begin{prop}
	设$\mu\in\operatorname*{End}_\Omega(G)$，则$G^\mu,\,\ker\mu$是$\Omega$子群.\qed
\end{prop}

\begin{thm}[(Schur)]
	不可约$\Omega$群$G$的非零正规$\Omega$自同态$\mu$是$\Omega$自同构.
\end{thm}
\begin{proof}
	由$G^\mu,\,\ker\mu\nsg G$和$\mu\ne 0$得$G^\mu=G$和$\ker\mu=1$.
\end{proof}
\begin{remark}
	注意正规自同构和$\Omega$自同构在取逆下保持，即$\mu^{-1}$也是正规$\Omega$自同构.
\end{remark}
\begin{thm}[(Fitting)]
	设$\Omega$群$G$关于正规$\Omega$子群满足链条件，则对正规$\Omega$自同态$\mu$存在充分大$k\in\mathbb{N}$使得
	\[
		G=G^{\mu^k}\times\ker\mu^k.
	\]
\end{thm}
\begin{proof}
	注意$\mu^k$也都是正规$\Omega$自同态，于是
	\begin{gather*}
		G\ge G^\mu\ge G^{\mu^2}\ge\cdots,\\
		1\le\ker\mu\le\ker\mu^2\le\cdots.
	\end{gather*}
	取$k$极小满足$G^{\mu^k}=G^{\mu^{k+1}}$和$\ker\mu^k=\ker\mu^{k+1}$.设$g\in G^{\mu^k}\cap\ker\mu^k$，即$g=h^{\mu^k}$且$g^{\mu^k}=1$，即$h\in\ker\mu^{2k}=\ker\mu^k$，因此$g=1$.设任意$g\in G$，则$g^{\mu^k}\in G^{\mu^k}=G^{\mu^{2k}}$，即$g^{\mu^k}=h^{\mu^{2k}}$，于是$gh^{-\mu^k}\in\ker\mu^k$.
\end{proof}
\begin{remark}
	回忆复线性空间中线性变换的准素分解.
\end{remark}

此前我们讨论了合成群列的Jordan--H\"older定理.对于{\heiti 主群列}
\[
	G=H_0>H_1>H_2>\cdots>H_{s-1}>H_s=1,
\]
其中$H_i\nsg G$且不可加细，即$H_{i-1}/H_i$是$G/H_i$的极小正规子群，Jordan--H\"older定理也成立.一般地，对于$\Omega$群的结论可以同时推广上述两者.

对$\Omega$群$G$，它的次正规列如果由$\Omega$子群组成，则称为{\heiti 次正规$\Omega$群列}.若不可真加细，即子商是不可约$\Omega$群，则称为{\heiti 合成$\Omega$群列}.

显然，取$\Omega=\varnothing$即得合成群列，取$\Omega=\operatorname*{Inn}(G)$即得主群列.

注意Zassenhaus引理、Schreier加细可以原封不动地用在$\Omega$群情形，我们有
\begin{thm}[(Jordan--H\"older)]
	$\Omega$群$G$的任何合成$\Omega$群列等价.\qed
\end{thm}

合成$\Omega$群列的子商就称为{\heiti 合成$\Omega$因子}.不难证明
\begin{prop}
	$\Omega$群$G$存在合成$\Omega$群列当且仅当它关于次正规$\Omega$群列满足两个链条件.\qed
\end{prop}

我们还将使用算子群给出下节“直积分解”的一般性结论.

\subsection{直积分解}\label{subsec:DirectDecomposition}
若$\Omega$群$G$不能表示为两个非平凡$\Omega$子群的直积，称$\Omega$群$G$是{\heiti 不可分解的}.

直积分解的存在性要求是很低的.
\begin{thm}
	关于正规$\Omega$子群满足降链条件的有限$\Omega$群是有限个不可分解$\Omega$子群的直积.\qed
\end{thm}

下面讨论唯一分解问题.
\begin{prop}
	设不可分解$\Omega$群$G$关于正规$\Omega$子群满足链条件，$\mu$是$G$的正规$\Omega$自同态，则$\mu$幂零或$\mu$是自同构.
\end{prop}
\begin{proof}
	由Fitting定理显然.
\end{proof}

对$\mu,\nu\in\operatorname*{End}(G)$，若$\mu+\nu\colon g\mapsto g^\mu g^\nu$是自同态，则称$\mu,\nu$是{\heiti 可加的}.显然$\mu,\nu$可加当且仅当$G^\mu,G^\nu$中元素可换.

容易验证，对可加的$\Omega$自同态，$\mu+\nu$保持$\Omega$自同态和正规性.
\begin{prop}
	设不可分解$\Omega$群$G$关于正规$\Omega$子群满足链条件，$\mu,\nu$是$G$的可加正规$\Omega$自同态并且$\mu+\nu$是自同构，则$\mu,\nu$中至少一个是自同构.
\end{prop}
\begin{proof}
	令$\mu'=\mu(\mu+\nu)^{-1},\,\nu'=\nu(\mu+\nu)^{-1}$，则$\mu',\nu'$也是可加正规$\Omega$自同态，并且$\mu'+\nu'=1$，易得$\mu'\nu'=\nu'\mu'$.若$\mu',\nu'$都不是自同构，则它们都幂零，设$\mu'^k=\nu'^k=0$，则$1=(\mu'+\nu')^{2k}=0$，矛盾.因此$\mu',\nu'$，进而$\mu,\nu$中至少一个是自同构.
\end{proof}

\begin{lemma*}
	设$\Omega$群$G$可分解为$\Omega$子群$G_1,\cdots,G_n$的直积，则投影$\pi_i$是$G$的两两可加的正规$\Omega$自同态，并且有$\pi_1+\cdots+\pi_n=1$和$\pi_i^2=\pi_i,\,\pi_i\pi_j=0$.\qed
\end{lemma*}
\begin{lemma*}
	设$G,H$是$\Omega$群.若$\pi\colon G\to H$和$\mu\colon H\to G$是正规$\Omega$同态并且$\pi\mu$是$G$的自同构，则$H=G^\pi\times\ker\mu$.
\end{lemma*}
\begin{proof}
	已有$G^\pi,\,\ker\mu\nsg H$.设$h\in G^\pi\cap\ker\mu$，则$h=g^\pi$且$h^\mu=g^{\pi\mu}=1$，即$g=h=1$.对任意$h\in H$由于$\pi\mu$是自同构，可设$h^\mu=g^{\pi\mu}$，于是$hg^{-\pi}\in\ker\mu$.
\end{proof}
\begin{thm}[(Krull--Schmidt)]
	设$\Omega$群$G$关于正规$\Omega$子群满足链条件，则$G$可唯一分解为有限个不可分解的$\Omega$子群的直积.
\end{thm}
\begin{proof}
	只需唯一性.对不可分解$\Omega$子群个数归纳.设$\pi_1,\cdots,\pi_r$和$\mu_1,\cdots,\mu_s$是两种分解
	\[
		G=G_1\times\cdots\times G_r=H_1\times\cdots\times H_s
	\]
	对应的投影，则$\pi_1=(\mu_1+\cdots+\mu_s)\pi_1=\mu_1\pi_1+\cdots+\mu_s\pi_1$.将$\pi_1$限制在$G_1$上，则$\mu_1\pi_1,\cdots,\mu_s\pi_1$中至少一个是自同构.不妨设$\mu_1\pi_1\in\operatorname*{Aut}(G_1)$，考虑
	\[
		G_1\overset{\mu_1}{\longrightarrow}H_1\overset{\pi_1}{\longrightarrow}G_1,
	\]
	则$H_1=G_1^{\mu_1}\times\ker\pi_1$.注意$\mu_1$单而$\pi_1$满，有$G_1^{\mu_1}\ne 1$和$\ker\pi_1\ne H_1$，于是根据$H_1$不可分解只能$G_1^{\mu_1}=H_1$且$\ker\pi_1=1$，即$\mu_1\colon G_1\to H_1$和$\pi_1\colon H_1\to G_1$都是$\Omega$同构.

	现在易证$\tilde{G}=H_1\times G_2\times\cdots\times G_r$是直积(单位元表法唯一，利用$\pi_1$).令$\rho=\mu_1+\pi_2+\cdots+\pi_r$，则$\rho$是$G$上的正规$\Omega$自同态.易得它是单的，于是$\rho\colon G\to\tilde{G}$是同构.取极小$k\in\mathbb{N}$满足$G^{\rho^k}=G^{\rho^{k+1}}$，则对任意$g\in G$有$g^{\rho^k}=\bar g^{\rho^{k+1}}$，即$(g\bar g^{-\rho})^{\rho^k}=1$，于是$g=\bar g^\rho$，即$G=G^\rho$.因此$\rho$满，$G=\tilde{G}$，从而
	\[
		G/H_1\cong G_2\times\cdots\times G_r\cong H_2\times\cdots\times H_s.
	\]
	归纳假设给出$r=s$且$G_i\cong H_i$是$\Omega$同构.
\end{proof}

特别地，由此定理有限群总是不可分解子群的直积.

\subsection{置换表示}\label{subsec:PermutationRepresentation}
群$G$到对称群的同态$G\to S_n$称为置换表示.注意这意味着$G$在$n$元集上的作用，若作用传递，则称为{\heiti 传递置换表示}.陪集左作用事实上给出了全部传递置换表示.
\begin{lemma}
	群$G$在$\Omega$上的传递作用等价于$G$在$G/G_x$上的左作用，其中$x\in\Omega$.\qed
\end{lemma}

这只不过是群作用里\hyperlink{prop:GrpActionEquiv}{命题1}的重述.

若对任意$x,y\in\Omega$存在唯一$g\in G$使得$gx=y$，则称$G$在$\Omega$上的作用{\heiti 正则}.因此，Cayley定理给出的置换表示称作是{\heiti 左正则表示}.显然正则作用等价于自由传递作用.

\begin{prop}
	设$G$作用在$\Omega$上且$N\nsg G$的作用正则，则$G_x$在$\Omega\setminus\{x\}$上的作用等价于$G_x$在$N\setminus 1$上的共轭作用.
\end{prop}
\begin{proof}
	记$n_{y}\in N$满足$n_{y}x=y$，则对$g\in G_x$有$gy=gn_yx=(gn_yg^{-1})x$.
\end{proof}

设$G$作用在$\Omega$上.设$\Delta\subseteq\Omega$是非空子集，若
\[
	\forall g\in G,\quad g\Delta\ne\Delta\implies g\Delta\cap\Delta=\varnothing,
\]
则称$\Delta$是{\heiti 非本原集}或{\heiti 块}.显然一元集和$\Omega$自身是平凡块.

不难发现，若$G_x\le H\le G$，则$Hx$是块.

下设$G$传递作用在$\Omega$上，则反之也成立.即若$x\in\Delta$是块，则$\Delta=G_\Delta x$，其中$G_\Delta=\left\{g\in G\mid g\Delta=\Delta\right\}$是包含$G_x$的子群.于是\emph{块$\Leftrightarrow$包含$G_x$的子群}.

设$G$传递作用有块$\Delta$，则给出$\Omega$的块划分$\Omega=\bigcup g\Delta$.因此$G$在$\Omega$上的传递作用可被视为$G$在$\{g\Delta\}$上的传递作用复合$G_\Delta$在$\Delta$上的传递作用.

因此，若传递作用有非平凡块，它就可以分解为两个传递作用的复合.若$G$在$\Omega$上的传递作用没有非平凡块，就称为{\heiti 本原}作用.

\begin{lemma}
	$G$在$\Omega$上的传递作用本原当且仅当稳定子群$G_x$极大.\qed
\end{lemma}
\begin{prop}
	设$G$本原作用在$\Omega$上，则它的非平凡正规子群$N$也传递作用在$\Omega$上.特别若$N$正则作用，则$N$是极小正规子群.
\end{prop}
\begin{proof}
	若$N\le G_x$，则$N$在$\Omega$上作用平凡，与$N\ne 1$矛盾.因此$G_x<NG_x=G$，即$\Omega=Gx=Nx$.若$N$正则，对任意$1\ne M\le N$且$M\nsg G$有$M$正则，于是$|\Omega|=|Mx|=|Nx|$，即$|M|=|N|$.
\end{proof}

对任意$n\le|\Omega|$定义
\[
	\Omega^{(n)}=\left\{(x_1,\cdots,x_n)\in\Omega^n\mid x_i\ne x_j\right\},
\]
则$G$在$\Omega^{(n)}$上有自然的作用.若$G$在$\Omega^{(n)}$上的作用传递，则称$G$在$\Omega$上的作用$n$-{\heiti 传递}.

显然，若$G$的作用$(n-1)$-传递，则作用$n$-传递当且仅当对任意$(x_1,\cdots,x_{n-1})\in\Omega^{(n-1)}$有稳定子群$G_{(x_1,\cdots,x_{n-1})}=\bigcap G_{x_i}$在$\Omega\setminus\{x_1,\cdots,x_{n-1}\}$上传递作用.

尤其重要的情形是$2$-传递，有
\begin{lemma*}
	$G$在$\Omega$上的传递作用$2$-传递当且仅当对$g\in G\setminus G_x$有$G=G_x\sqcup G_xgG_x$.\footnotemark
\end{lemma*}
\footnotetext{这是少见的\emph{双陪集}的一个应用.}
\begin{proof}
	传递作用等价于商集$G/G_x$左作用，因此$2$-传递与$G_xgG_x=G\setminus G_x$等价.
\end{proof}
\begin{prop}
	$2$-传递作用是本原的.
\end{prop}
\begin{proof}
	设$G_x<H$，取$g\in H\setminus G_x$得$G_xgG_x\subseteq H$，于是$G=H$.
\end{proof}

作为例子，$S_n$是$n$-传递的，$A_n$是$(n-2)$-传递的.值得一提的是，当$n\ge 6$时不存在其它的$n$-传递置换群\footnote{这一结论依赖于有限单群分类.}.显然$n$元集上的$n$-传递置换群只有$S_n$.

$n$-传递的判定与正则作用的结论相似，由此可以得到一些简单的$n$-传递作用.
\begin{prop}
	设$G$在$\Omega$上$n$-传递作用且$|\Omega|\ge 3$.若存在$N\nsg G$的作用正则，则$n\le 4$并且
	\begin{itemize}
		\item $n=2$.\quad $N$是初等Abel $p$群.
		\item $n=3$.\quad $N$是初等Abel $2$群或$N\cong Z_3,\,G\cong S_3$.
		\item $n=4$.\quad $N\cong K_4,\,G\cong S_4$.
	\end{itemize}
\end{prop}
\begin{proof}
	设$n\ge 2$，则$G$在$N\setminus 1$上的共轭作用$(n-1)$-传递.由于$N$中非单位元都共轭，它们有相同的阶，从而$N$是$p$群.由$1\ne Z(N)$正规可知$N$是初等Abel $p$群.

	设$n\ge 3$，则$|\Omega|=|N|\ge 3$.若$|N|=3$则$G\cong S_3$.设$|N|\ge 4$，取$n_1,n_2,n_3\in N$是互异的非单位元，由$G_{x}$在$N\setminus 1$上$2$-传递，存在$g\in G$使得$gn_1g^{-1}=n_1,\,gn_2g^{-1}=n_3$.若$p\ge 3$可取$n_2=n_1^{-2}\ne n_1$从而$gn_2g^{-1}=n_2$矛盾.因此$N$是初等Abel $2$群.

	设$n\ge 4$，则$K_4\cong\langle n_1\rangle\times\langle n_2\rangle\le N$.若$\langle n_1\rangle\times\langle n_2\rangle <N$，取$n_3=n_1n_2$和$n_4\in N\setminus\langle n_1\rangle\langle n_2\rangle $，则存在$g\in G$满足$gn_1g^{-1}=n_1,\,gn_2g^{-1}=n_2,\,gn_3g^{-1}=n_4$.然而$n_4=gn_3g^{-1}=n_1n_2$矛盾.因此$N\cong K_4$，即$n=4$且$G\cong S_4$.
\end{proof}

若群$G$满足$G'=G$，则称为{\heiti 完美群}\footnote{perfect group.}.下面是Iwasawa引理.
\begin{lemma*}[(Iwasawa)]
	设完美群$G$本原作用在$\Omega$上.若存在$x\in\Omega$使得$G_x$包含一个Abel正规子群$A$，并且$G=\langle A^g\mid g\in G\rangle $，则$G$是单群.\hypertarget{lemma:Iwasawa}{}
\end{lemma*}
\begin{proof}
	若不然，设$1<N\pnsg G$，则$N$传递，于是Frattini论断给出$G=G_xN$.对任意$g\in G$设$g=hn$，其中$h\in G_x,\,n\in N$，则由$A\nsg G_x$得
	\[
		A^g=n^{-1}h^{-1}Ahn=n^{-1}An\le\langle A,N\rangle=AN,
	\]
	即$G=AN$.于是$G/N\cong A/(A\cap N)$交换，即$1=(G/N)'=G'N/N=G/N$，矛盾.
\end{proof}

\begin{remark}
	有关置换表示还有Frobenius群、非本原作用、wreath product等内容.
\end{remark}

\subsection{矩阵群}\label{subsec:MatrixGrp}
现在讨论矩阵群.确切地说，我们只讨论典型群中的{\heiti 线性群}，即$\mathrm{GL}_n(F),\,\mathrm{SL}_n(G)$和射影线性群$\mathrm{PGL}_n(F),\,\mathrm{PSL}_n(F)$.当$F=\mathbb{F}_q$是有限域时，也记作$\mathrm{GL}_n(q)$或$\mathrm{GL}(n,q)$等.

不难发现$\mathrm{GL}_n(F)$的中心$Z=Z(\mathrm{GL}_n(F))$是全体数量矩阵.因此定义
\[
	\mathrm{PGL}_n(F)=\mathrm{GL}_n(F)/Z,\quad\mathrm{PSL}_n(F)=\mathrm{SL}_n(F)/(Z\cap\mathrm{SL}_n(F)).
\]
注意虽然$\mathrm{SL}_n(F)\nsg\mathrm{GL}_n(F)$，但一般地$\mathrm{PSL}_n(F)\not\nsg\mathrm{PGL}_n(F)$.

当$F=\mathbb{F}_q$时上述群都是有限群的，进一步有
\begin{align*}
	|\mathrm{GL}_n(q)|&=\prod_{0\le k<n}(q^n-q^k)=q^{\frac{n(n-1)}{2}}\prod_{k=1}^n(q^k-1),\\
	|\mathrm{SL}_n(q)|&=|\mathrm{PGL}_n(q)|=|\mathrm{GL}_n(q)|/(q-1),\\
	|\mathrm{PSL}_n(q)|&=|\mathrm{SL}_n(q)|/(n,q-1),
\end{align*}
其中$\mathrm{PSL}_n(q)$注意$Z\cap\mathrm{SL}_n(q)$阶数由$x^n=1$在$\mathbb{F}_q^*$中有$(n,q-1)$个解得到.

此时单位上三角矩阵群$\mathrm{UT}_n(q)\le\mathrm{GL}_n(q)$就是其Sylow $q$-子群，并且正规化子是全体可逆上三角矩阵$\mathrm{T}_n(q)$.

上述讨论都针对矩阵定义，对于域$F$上的$n$维线性空间$V$也可以定义$\mathrm{GL}(V),\,\mathrm{PGL}(V)$等.在取定一组基后它们与对应矩阵群同构.

\medskip 下面我们将证明射影群$\mathrm{PSL}(V)$的单性，主要利用~\hyperlink{lemma:Iwasawa}{Iwasawa引理}.

对$n+1$维线性空间$V$，它的全体一维子空间就称为它的{\heiti 射影空间} $\bm{\mathrm{P}}(V)$.它也可以视为$V-0$商去$x\sim\lambda y$.作为拓扑空间，$\dim\bm{\mathrm{P}}(V)=n$.当$V=F^{n+1}$时记射影空间为$\bm{\mathrm{P}}^n(F)$.

显然$\mathrm{PGL}(V)$在$\bm{\mathrm{P}}(V)$上有自然的作用，并且
\begin{prop}
	$\mathrm{PSL}(V)$在$\bm{\mathrm{P}}(V)$上$2$-传递.
\end{prop}
\begin{proof}
	设$[v_1]\ne[v_2],\,[w_1]\ne[w_2]$，则$v_1,v_2$和$w_1,w_2$都线性无关，因此存在$g\in\mathrm{SL}(V)$使得$v_1^g=w_1$且$v_2^g=\lambda w_2$，其中$\lambda\in F^*$适当选取.
\end{proof}

下面先考察$\mathrm{SL}(V)$的结构.设$\dim_FV=n$，超平面$H\subseteq V$是$n-1$维子空间.若$1\ne\tau\in\mathrm{GL}(V)$满足
\[
	\forall v\in V,\quad v^\tau-v\in H.\quad\forall w\in H,\quad w^\tau=w.
\]
则称$\tau$是关于超平面$H$的{\heiti 平延}.它其实就是错切的推广.

注意超平面$H$总是$0\ne\varphi\in V^*$的核，考虑零化子$\dim H^0=1$即得.

\begin{lemma}
	$\tau$是关于超平面$H$的平延当且仅当存在非零$w\in H$非零$\varphi\in V^*$使得
	\[
		\forall v\in V,\quad v^\tau=v+\varphi(v)w.
	\]
	因此平延$\tau$可记作$\tau(w,\varphi)$，其中$\varphi(w)=0$.
\end{lemma}
\begin{proof}
	设$\tau$是关于$H$的平延，设$H=\ker\varphi$.对$v\in V-H$有$\varphi(v)\ne 0$，取$w=(v^\tau-v)/\varphi(v)$即可.反之显然.
\end{proof}
\begin{lemma}
	平延满足如下性质\footnotemark .
	\begin{enumerate}
		\item $\tau(\lambda v,\varphi)=\tau(v,\lambda\varphi)$，其中$\lambda\in F^*$.
		\item $\tau(v_1,\varphi)\tau(v_2,\varphi)=\tau(v_1+v_2,\varphi)$.
		\item $\tau(w,\varphi_1)\tau(w,\varphi_2)=\tau(w,\varphi_1+\varphi_2)$.
		\item 存在一组基使得平延$\tau$的矩阵为$I_n+E_{1n}$.
		\item $g^{-1}\tau(w,\varphi)g=\tau(w^g,\varphi\circ g^{-1})$，其中$g\in\mathrm{GL}(V)$.\qed
	\end{enumerate}
\end{lemma}
\footnotetext{注意此时变换写在指数上，因此运算顺序从左往右.}

对非零$w\in V$定义$T_w$为保持$w$的全体平延$\tau(w,\varphi)$加上恒等变换$1$，则上述引理给出$T_w\le\mathrm{SL}(V)$是Abel子群.同时$T_{\lambda w}=T_w$和$T_w^g=T_{w^g}$.

\begin{lemma}
	当$n\ge 2$时任意平延在$\mathrm{GL}(V)$中共轭.当$n\ge 3$时任意平延在$\mathrm{SL}(V)$中共轭.
\end{lemma}
\begin{proof}
	对平延$\tau(w_1,\varphi_1),\tau(w_2,\varphi_2)$，取$V$的基$\varepsilon_1,\cdots,\varepsilon_n$和$\eta_1,\cdots,\eta_n$使得$w_1=\varepsilon_1,\,w_2=\eta_1$并且前$n-1$个基恰为$\ker\varphi_1,\ker\varphi_2$的基，同时$\varphi_1(\varepsilon_n)=\varphi_2(\eta_n)=1$.取$g\colon\varepsilon_i\mapsto\eta_i$即证.当$n\ge 3$时调整$\varepsilon_2\mapsto\lambda\eta_2$即可使$g\in\mathrm{SL}(V)$.
\end{proof}
\begin{lemma}
	设$W\subseteq U\subseteq V$相邻余维$1$，若$\tau$是$U$上关于$W$的平延，则对任意$v\notin U$存在$\tau$的扩张$\tau'$是$V$上的平延且$v^{\tau'}=v$.\qed
\end{lemma}
\begin{lemma}
	设$u,v\in V$线性无关，则存在平延$\tau$使得$u^\tau=v$.\qed
\end{lemma}
\begin{lemma}
	设$W_1,W_2\subseteq V$是不同的超平面，则对任意$v\in V-W_1\cup W_2$存在平延$\tau$使得$W_1^\tau=W_2$且$v^\tau=v$.
\end{lemma}
\begin{proof}
	取超平面$W=W_1\cap W_2+\langle v\rangle$.显然$V=W_1+W_2$，设$v=w_1+w_2$，定义$\tau|_W=1$和$w_1^\tau=-w_2$即证.
\end{proof}
\begin{prop}
	$\mathrm{SL}(V)$由平延生成.
\end{prop}
\begin{proof}
	对$\dim V$归纳.设$\rho\in\mathrm{SL}(V)$，取超平面$W\subseteq V$和$v\in V-W$.若$v^\rho,v$线性无关，存在平延$\tau_1$使得$v^{\rho\tau_1}=v$.若$v^\rho,v$线性相关，关于$W$作一个平延$\tau_0$就有$v^{\rho\tau_0},v$无关，从而$v^{\rho\tau_0\tau_0'}=v$，因此存在平延的乘积$\tau_1=\tau_0\tau_0'$使得$v^{\rho\tau_1}=v$.

	显然$v\notin W\cup W^{\rho\tau_1}$.若$W=W^{\rho\tau_1}$，取$\tau_2=1$.若$W\ne W^{\rho\tau_1}$，存在平延$\tau_2$满足$W^{\rho\tau_1\tau_2}=W$且$v^\tau_2=v$.现在$\sigma=\rho\tau_1\tau_2$满足$W^\sigma=W$和$v^\sigma=v$，因此$\sigma|_W\in\mathrm{SL}(W)$，从而由$W$中平延生成.这些平延可以扩张为$V$的平延并保持$v$不动，因此$\rho$可以由平延生成.
\end{proof}
\begin{prop}
	当$n>2$或$n=2,\,|F|>3$时
	\[
		\mathrm{GL}(V)'=\mathrm{SL}(V)'=\mathrm{SL}(V),\quad\mathrm{PSL}(V)'=\mathrm{PSL}(V).
	\]
\end{prop}
\begin{proof}
	显然$\mathrm{SL}(V)'\le\mathrm{GL}(V)'\le\mathrm{SL}(V)$并且
	\[
		\mathrm{PSL}(V)'=\mathrm{SL}(V)'Z(\mathrm{SL}(V))/Z(\mathrm{SL}(V)).
	\]
	往证$\mathrm{SL}(V)'=\mathrm{SL}(V)$即可.由于此时平延都共轭，只需证明某个平延是换位子.

	当$n>2$时取线性无关$\varphi,\psi\in V^*$.由$\ker\varphi\cap\ker\psi\ne 0$设$\varphi(u)=\psi(u)=0$.存在$g\in\mathrm{SL}(V)$使得$g^{-1}\tau(u,\psi)g=\tau(u,\varphi+\psi)$，而$\tau(u,\varphi+\psi)=\tau(u,\varphi)\tau(u,\psi)$，故
	\[
		\tau(u,\varphi)=g^{-1}\tau(u,\psi)g\tau(u,\psi)^{-1}.
	\]

	当$n=2$时对平延$\tau(u,\varphi)$取$v\in V-\langle u\rangle $满足$\varphi(v)=1$，则$V=\langle u,v\rangle $并且$\tau(u,\varphi)\colon u\mapsto u,\,v\mapsto u+v$.由于$|F|>3$取非零$\lambda\ne\pm 1$并考虑$g\in\mathrm{SL}(V)$为$u\mapsto\lambda v,\,v\mapsto\lambda^{-1}v$，则$g^{-1}\tau(u,\varphi)g\colon u\mapsto u,\,v\mapsto \lambda^2u+v$.同时，注意若取$w=(1-\lambda^2)u\ne 0$有$\tau(u,\varphi)\tau(w,-\varphi)$也是$u\mapsto u,\,v\mapsto\lambda^2u+v$	.因此
	\[
		\tau(w,-\varphi)=\tau(u,\varphi)^{-1}g^{-1}\tau(u,\varphi)g.
	\]
\end{proof}
\begin{lemma}
	设$0\ne w\in V$，记$\mathrm{SL}(V)$中稳定一维子空间$\langle w\rangle $的稳定化子
	\[
		\mathrm{SL}(V)_{\langle w\rangle}=\left\{g\in\mathrm{SL}(V)\mid w^g=\lambda w,\,\lambda\in F^*\right\},
	\]
	则$T_w\nsg\mathrm{SL}(V)_{\langle w\rangle }$.\qed
\end{lemma}
\begin{thm}
	当$n>2$或$n=2,\,|F|>3$时$\mathrm{PSL}(V)$是单群.
\end{thm}
\begin{proof}
	由~\hyperlink{lemma:Iwasawa}{Iwasawa引理}立得.
\end{proof}

定理产生的几个例外同构如下.它们不是完美群，因此不在Iwasawa引理范围内.
\begin{prop}
	$\mathrm{SL}(2,2)\cong S_3,\,\mathrm{PGL}(2,3)\cong S_4,\,\mathrm{PSL}(2,3)\cong A_4$.
\end{prop}
\begin{proof}
	注意$\mathrm{SL}(2,2)$忠实作用在$\mathbb{F}_2^2-0$上，即$\mathrm{SL}(2,2)\hookrightarrow S_3$.注意$\mathrm{PGL}(2,3)$忠实作用在$\bm{\mathrm{P}}^1(\mathbb{F}_3)$上，即$\mathrm{PGL}(2,3)\hookrightarrow S_4$.而$S_n$唯一的指数$2$子群是$A_n$.
\end{proof}

平面上低阶的射影群给出的是相应阶数的唯一单群.在\hyperlink{subsec:SimpleGrpLowOrder}{低阶单群}一节已经证明了
\begin{prop}
	$60$阶单群只有$A_5$.\qed
\end{prop}
\begin{cor*}
	$\mathrm{PSL}(2,4)\cong\mathrm{PSL}(2,5)\cong A_5$.\qed
\end{cor*}

接下来列举一些基本结果，它们的初等证明可见\emph{王杰《典型群引论》}.
\begin{prop}
	$168$阶单群唯一$\mathrm{PSL}(2,7)\cong\mathrm{PSL}(3,2)$.\qed
\end{prop}
\begin{prop}
	$360$阶单群唯一$\mathrm{PSL}(2,9)\cong A_6$.\qed
\end{prop}
\begin{prop}
	$20160$阶单群不唯一$\mathrm{PSL}(3,4)\ncong A_8\cong\mathrm{PSL}(4,2)\cong\mathrm{GL}(3,2)$.\qed
\end{prop}

\subsection{完全群}\label{subsec:CompleteGrp}
本节继续讨论自同构群的话题.通过考虑共轭作用$G\to\operatorname*{Aut}(G)$得到$G/Z(G)\cong\operatorname*{Inn}(G)$.自然地，假如一个群{\heiti 中心平凡} $Z(G)=1$，就有$G\cong\operatorname*{Inn}(G)$，此时$G\nsg\operatorname*{Aut}(G)$.

假如进一步还有$G\cong\operatorname*{Inn}(G)=\operatorname*{Aut}(G)$，那么群$G$的自同构结构将是简单的.将这种中心平凡且自同构都是内自同构的群称为{\heiti 完全群}\footnote{complete group.}.

首先，此前提到的自同构作用$G\to\operatorname*{Aut}(G)$可以有如下加强版本.
\begin{lemma*}[(自同构群作用)]
	设$H,K\le G$且$H$正规化$K$，则有群同态
	\[
		\rho\colon H\to\operatorname*{Aut}(K),\quad h\mapsto(k\mapsto hkh^{-1}),
	\]
	并且若$\alpha\in\operatorname*{Aut}(G)$满足$\alpha|_H\in\operatorname*{Aut}(H)$和$\alpha|_K\in\operatorname*{Aut}(K)$，则$\rho\circ\alpha|_H=c_{\alpha|_K}\circ\rho$，其中$c_{\alpha|_K}\in\operatorname*{Inn}(\operatorname*{Aut}(K))$是$\alpha|_K$诱导的$\operatorname*{Aut}(K)$上的共轭.
\end{lemma*}
\begin{proof}
	由$H\le\mathrm{N}_G(K)$易知$\rho$良定.直接验证$\rho\circ\alpha|_H=c_{\alpha|_K}\circ\rho$即可.
\end{proof}

现在来看看$Z(G)=1$能得到$\operatorname*{Aut}(G)$的什么结论.
\begin{prop}
	若群$G$中心平凡$Z(G)=1$，则
	\begin{itemize}
		\item $G\cong\operatorname*{Inn}(G)\nsg\operatorname*{Aut}(G)$.
		\item $\mathrm{C}_{\operatorname*{Aut}(G)}(G)=1$.特别地$Z(\operatorname*{Aut}(G))=1$.
		\item $G$的自同构都是$\operatorname*{Aut}(G)$内自同构的限制.\footnotemark
	\end{itemize}
\end{prop}
\footnotetext{此时称$G$被$\operatorname*{Aut}(G)$ \emph{完全正规化}.}
\begin{proof}
	设$\alpha\in\mathrm{C}_{\operatorname*{Aut}(G)}(G)$，则对任意$g\in G$有$\alpha c_g\alpha^{-1}=c_{g^\alpha}=c_g$，于是$g^\alpha=g$，即$\alpha=1$.

	注意$H$被$G$完全正规化当且仅当$\mathrm{N}_G(H)\to\operatorname*{Aut}(H),\,g\mapsto c_g$满.而由$G\nsg\operatorname*{Aut}(G)$即得$\mathrm{N}_{\operatorname*{Aut}(G)}(G)=\operatorname*{Aut}(G)$.
\end{proof}

中心平凡群的自同构群也中心平凡.于是不断取自同构群就得到中心平凡群的升链.如果此升链有限，最后就会得到一个完全群.实际上可以证明下述定理.
\begin{thm}[(Wielandt)]
	中心平凡群的自同构群升链有限，即有限步后总能得到完全群.\qed
\end{thm}

来考察一个特殊情形，即何时一步就能得到完全群，即$\operatorname*{Aut}(G)$完全？我们发现其实只要将$G\nsg\operatorname*{Aut}(G)$加强为特征子群就行.
\begin{prop}
	若$Z(G)=1$且$G\operatorname*{char}\operatorname*{Aut}(G)$，则$\operatorname*{Aut}(G)$完全.
\end{prop}
\begin{proof}
	注意此时$\rho\colon G\to\operatorname*{Aut}(G),\,g\mapsto c_g$是恒等$\rho=1$，并且由$G$是特征子群知对任意$\sigma\in\operatorname*{Aut}(\operatorname*{Aut}(G))$有$\sigma|_G\in\operatorname*{Aut}(G)$.自同构群作用引理给出$\sigma=c_{\sigma|_G}$是内自同构.
\end{proof}

更具体地，我们将证明特征单群的自同构群完全.需要几个引理.
\begin{lemma}
	设$K\le H\le G,\,K\nsg G$且$H$被$G$完全正规化，则$K\operatorname*{char}H$.\qed
\end{lemma}
\begin{cor}
	若$H\nsg G$特征单且$H$被$G$完全正规化，则$H$是极小正规子群.\qed
\end{cor}
\begin{lemma}
	若$H\nsg G$自中心化，则对任意$1\ne N\nsg G$有$N\cap H\ne 1$.
\end{lemma}
\begin{proof}
	若不然，有$[N,H]\subseteq N,H$，于是$[N,H]\subseteq N\cap H=1$，即$N,H$元素可换.这推出$N\le\mathrm{C}_G(H)\le H$.由$N\cap H=1$只能$N=1$.
\end{proof}
\begin{cor}
	自中心化的极小正规子群含于任何正规子群中.\qed
\end{cor}
\begin{thm}
	非Abel特征单群$G$的自同构群$\operatorname*{Aut}(G)$完全.
\end{thm}
\begin{proof}
	由$Z(G)=1$可知$G$自中心化且被$\operatorname*{Aut}(G)$完全正规化，因此$G$极小正规并且含于任何正规子群.特别地，$G\operatorname*{char}\operatorname*{Aut}(G)$，于是$\operatorname*{Aut}(G)$完全.
\end{proof}
\begin{cor*}
	非Abel单群$G$的自同构群$\operatorname*{Aut}(G)$完全.\qed
\end{cor*}

因此得到$n\ge 5$时$\operatorname*{Aut}(A_n)$完全.下面我们就具体把它算出来.
\begin{lemma}
	若$n\ne 6$，则$A_n$的自同构将$3$-轮换变为$3$-轮换.
\end{lemma}
\begin{proof}
	共轭类在自同构下变为共轭类，因此设$n\ge 6$.根据此前讨论的\hyperlink{prop:ConjugationClassInAlternating}{结果}，共轭类不分裂，因此设共轭类变为$3^k$型，则共轭类大小满足
	\[
		\frac{n!}{3(n-3)!}=\frac{n!}{3^kk!(n-3k)!}.
	\]
	注意当$n=6,\,k=2$时上式成立.当$n\ne 6$时不难归纳证明
	\begin{itemize}
		\item $(n-3)!>3^{k-1}k!$，其中$n=3k$.
		\item $(n-3)!>3^{k-1}k!(n-3k)!$.
	\end{itemize}
	因此$n\ne 6$时自同构保持$3$-轮换.
\end{proof}
\begin{cor}
	设$n\ne 6$，则对$\sigma\in\operatorname*{Aut}(A_n)$有$\sigma(12k)=(c_1c_2c_k)$，其中$c_i\ne c_j$.\qed
\end{cor}
\begin{prop}
	当$n\ge 4$且$n\ne 6$时$\operatorname*{Aut}(A_n)\cong S_n$.
\end{prop}
\begin{proof}
	由前述推论知$|\operatorname*{Aut}(A_n)|=n!$.用$S_n$置换作共轭诱导了单同态$S_n\hookrightarrow\operatorname*{Aut}(A_n)$.
\end{proof}
\begin{cor*}
	当$n\ne 2,6$时$S_n$是完全群.\qed
\end{cor*}

为什么恰恰漏了一个$6$没有包含进去？这是因为$S_6$不是完全群，并且进一步地$\operatorname*{Out}(S_6)=Z_2$.这个外自同构同时也是$A_6$的外自同构.

\begin{lemma*}
	$S_n$的自同构$\sigma$是内自同构当且仅当它把对换变成对换.
\end{lemma*}
\begin{proof}
	类似地可以证明$\sigma(1k)=(a_1a_k)$.
\end{proof}

与前述引理类似地讨论共轭类可知$n\ne 6$时自同构都保持对换.只在$n=6$时可以将对换($2^1$型)变为$2^3$型.构造过程如下：
\begin{itemize}
	\item 构造奇异嵌入\footnote{exotic embedding.它“奇异”在于这个嵌入使得$S_5$传递作用，而通常的嵌入有一个不动点.}$S_5\hookrightarrow S_6$.
	\item $S_6$共轭作用在上述$S_5$的$6$个共轭子群上给出$S_6\to S_6$.共轭子群序号的选取相差一个内自同构.
	\item 这就是一个外自同构，因为它不保持对换.
\end{itemize}

最初等的构造是考虑$S_5$共轭作用在$\mathrm{Syl}_5(S_5)$上给出传递置换表示$S_5\hookrightarrow S_6$.

\begin{remark}
	还有其它的做法，例如
	\begin{itemize}
		\item 由于$\mathrm{PGL}(2,5)\cong S_5,\,\mathrm{PSL}(2,5)\cong A_5$.考虑$\mathrm{PGL}(2,5)$在射影直线$\bm{\mathrm P}^1(\mathbb{F}_5)$上的忠实$3$-传递作用给出$\mathrm{PGL}(2,5)\hookrightarrow S_6$.
		\item 考虑$\mathbb{F}_5$上仿射变换的Frobenius群，这个$20$阶群作为$S_5$的子群指数$6$，因此给出$S_5\hookrightarrow S_6$传递.
	\end{itemize}
\end{remark}

\subsection{根与剩余}
{\heiti 本节均假设群有限}.下面从一个更广泛的视角来构造特征子群.设$\mathcal{K}$是一个包含平凡群并且不区分同构群的群族.对有限群$G$定义
\[
	O_{\mathcal{K}}(G):=\prod_{\substack{A\nsg G\\ A\in\mathcal{K}}}A,\qquad O^{\mathcal{K}}(G):=\bigcap_{\substack{A\nsg G\\ G/A\in\mathcal{K}}}A,
\]
则它们是$G$的特征子群，$O_{\mathcal{K}}(G),O^{\mathcal{K}}(G)$称为$G$的~{\heiti $\mathcal{K}$-根}和~{\heiti $\mathcal{K}$-剩余}\footnote{$\mathcal{K}$-radical,\,$\mathcal{K}$-residue.}.它们分别是满足$A\in\mathcal{K}$或$G/A\in\mathcal{K}$的正规子群的上下界.

考虑如下这些例子：
\begin{itemize}
	\item $\mathcal{A}$\quad 全体Abel群.
	\item $\mathcal{N}$\quad 全体幂零群.
	\item $\mathcal{S}$\quad 全体可解群.
	\item $\mathcal{P}$\quad 全体$p$-群，其中$p$固定.
	\item $\Pi$\quad 全体$\pi$-群，其中$\pi$固定.
\end{itemize}

则$O^{\mathcal{A}}(G)=G'$是换位子群，$\mathcal{O}_{\mathcal{N}}(G)=F(G)$是{\heiti Fitting子群}.

对$\mathcal{P},\Pi$改记$O_p(G),O^p(G)$和$O_\pi(G),O^\pi(G)$.只讨论$\Pi$即可.

注意$O_{\mathcal{A}}(Q_8)=Q_8\notin\mathcal{A}$，但是
\begin{lemma*}
	设$\mathcal{K}\in\{\mathcal{N},\mathcal{S},\Pi\}$，则$O_{\mathcal{K}}(G)\in\mathcal{K}$.
\end{lemma*}
\begin{proof}
	Fitting子群幂零，见\hyperlink{prop:FittingSubgrp}{后文命题}.可解正规子群的乘积可解，因为$HK/K\cong H/H\cap K$而可解群的子群和商群都可解.
\end{proof}
\begin{prop}
	设$\mathcal{K}\in\{\mathcal{N},\mathcal{S},\Pi\}$，则
	\[
		O_{\mathcal{K}}(G)=\langle A\mid A\nsg\nsg G,\,A\in\mathcal{K}\rangle.
	\]
	特别地，$O_{\mathcal{K}}(G)$是属于$\mathcal{K}$的最大次正规子群.
\end{prop}
\begin{proof}
	只需证明若$A\nsg\nsg G$且$A\in\mathcal{K}$则$A\le O_{\mathcal{K}}(G)$即可.不妨设$A$不正规，于是存在$A\nsg\nsg N\pnsg G$.对$|G|$归纳设$A\in O_{\mathcal{K}}(N)\nsg G$，因为$O_{\mathcal{K}}(N)$在$N$中特征.结合$O_{\mathcal{K}}(G)\in\mathcal{K}$即得$A\le O_{\mathcal{K}}(N)\le O_{\mathcal{K}}(G)$.
\end{proof}

若子群、商群、有限直积仍在$\mathcal{K}$中，则称群类$\mathcal{K}$ {\heiti 封闭}.此前所有例子都是封闭群类.
\begin{prop}
	设$\mathcal{K}$封闭，则对有限群$G$有
	\begin{enumerate}
		\item $G/O^{\mathcal{K}}(G)\in\mathcal{K}$.
		\item $O^{\mathcal{K}}(G)^\varphi=O^{\mathcal{K}}(G^\varphi)$，其中$\varphi$是同态.
	\end{enumerate}
\end{prop}
\begin{proof}
	\hspace*{5.2pt}(1)注意到同构$G/\bigcap N_i\cong\prod G/N_i$.

	(2)由$G^\varphi/O^{\mathcal{K}}(G)^\varphi\in\mathcal{K}$得$O^{\mathcal{K}}(G^\varphi)\le O^{\mathcal{K}}(G)^\varphi$.任取$\psi\in\operatorname*{Hom}(G^\varphi,X)$，其中$X\in\mathcal{K}$，则$O^{\mathcal{K}}(G)\le\ker(\psi\phi)$即$O^{\mathcal{K}}(G)^\varphi\le\ker\psi$.于是$O^{\mathcal{K}}(G)^\varphi\le\bigcap\ker\psi=O^{\mathcal{K}}(G^\varphi)$.
\end{proof}

设$\mathcal{K}$封闭，若有限群$G$对任意$1\ne U\le G$有$O^{\mathcal{K}}(U)<U$，则称$G$是~{\heiti $\mathcal{K}$-群}.记全体$\mathcal{K}$-群为$\widehat{\mathcal{K}}$，显然$\mathcal{K}\subseteq\widehat{\mathcal{K}}$.

\begin{prop}
	设$\mathcal{K}$封闭，则$\widehat{\mathcal{K}}$对群扩张封闭.
\end{prop}
\begin{proof}
	设$N\nsg G$且$N,G/N\in\widehat{\mathcal{K}}$.对$1\ne U\le G$不妨设$U\nleq N$，则$1\ne UN/N\le G/N$，于是$O^{\mathcal{K}}(U)N/N<UN/N$，即$O^{\mathcal{K}}(U)<U$.
\end{proof}

显然$\mathcal{K}$-群的子群和同态像也是$\mathcal{K}$-群.因此
\begin{prop}
	设$\mathcal{K}$封闭，则$\widehat{\mathcal{K}}$封闭且$O_{\widehat{\mathcal{K}}}(G)\in\widehat{\mathcal{K}}$.\qed
\end{prop}
\begin{prop}
	设$\mathcal{K}$封闭，则下述命题等价：
	\begin{enumerate}
		\item $G\in\widehat{\mathcal{K}}$.
		\item 取$G^{(0)}=G$和$G^{(n)}=O^{\mathcal{K}}(G^{(n-1)})$，存在$\ell\in\mathbb{N}$使得$G^{(\ell)}=1$.
		\item $G$有一个子商都属于$\mathcal{K}$的合成群列.\qed
	\end{enumerate}
\end{prop}
\begin{remark}
	上述内容推广了$\widehat{\mathcal{A}}=\mathcal{S}$，此时$\mathcal{A}$-群就是有限可解群.注意$\widehat{\mathcal{N}}=\widehat{\mathcal{S}}=\mathcal{S}$.
\end{remark}
\begin{remark}
	对$\pi$-群有$\widehat{\Pi}=\Pi$.称有限群$G$是~{\heiti $\pi$-封闭的}，若$G/O_\pi(G)$是$\pi'$-群，即$O_\pi(G)=O^{\pi'}(G)$.例如~\hyperlink{thm:SchurZassenhaus}{Schur--Zassenhaus定理}就是有关$\pi$-封闭子群的定理.
	
	全体$\pi$-封闭子群$\Pi_c$是封闭群类.对应$\widehat{\Pi}_c$中的群称为~{\heiti $\pi$-可分离的}.这也是很有用的概念，可以引出~\hyperlink{thm:Hall}{Hall定理}的逆.
\end{remark}

\subsection{正规补}\label{subsec:NormalComplement}
为了找非Abel群$G$的非平凡真正规子群，设$\overline{P}=P/P'$是$P\le G$的交换化，构造一个同态$\tau\colon G\to\overline{P}$，则$G/\ker\tau$交换，即$1\ne G'\le\ker\tau$.于是要么$G$有真正规子群$\ker\tau\ne 1$，要么$G=\ker\tau$.后者当$P\in\mathrm{Syl}_p(G)$时将可以由$G$的$p$-元素描述.

\medskip 设$P\le G$，若有陪集分解$G=\bigcup Pg_i$，则$\{g_i\}$称为$G$中$P$的一个(右){\heiti 横截}\footnote{transversal.}.

{\heiti 本节均假设群有限}.设$\mathcal{S}$是$P$在$G$中的全体横截，对任意$R,S\in\mathcal{S}$定义
\[
	R|S:=\prod_{\substack{(r,s)\in R\times S\\ Pr=Ps}}\overline{rs^{-1}}\in\overline{P},
\]
由$\overline{P}$交换，这是良定义的.容易验证$(R|S)^{-1}=S|R$和$(R|S)(S|T)=R|T$成立.

现在$G$在$\mathcal{S}$上有自然的右作用$S\mapsto Sg$并且$Rg|Sg=R|S$.实际上进一步还有
\begin{lemma}
	对任意$R,S\in\mathcal{S}$有$Rg|R=Sg|S$.
\end{lemma}
\begin{proof}
	注意$\overline{P}$交换，所以
	\[
		(Rg|R)(Sg|S)^{-1}=(Rg|R)(R|Sg)(R|Sg)^{-1}(Sg|S)^{-1}=(Rg|Sg)(R|S)^{-1}=1.
	\]
\end{proof}
\begin{definition}
	设$P\le G$且$\overline{P}=P/P'$是其交换化，群同态
	\[
		\tau_{G\to P}\colon G\to\overline{P},\quad g\mapsto Sg|S
	\]
	称为{\heiti 转移同态}\footnote{transfer homomorphism.}，其中$S\in\mathcal{S}$是$P$在$G$中的任意横截.
\end{definition}

以下简记$\tau=\tau_{G\to P}$.为了计算$x\in G$的像$x^\tau$，考虑$\langle x\rangle $右作用在右商集$G/P$上.设轨道为$\mathcal{O}_1,\cdots,\mathcal{O}_k$并且$Pg_i\in\mathcal{O}_i$，同时$\langle x^{n_i}\rangle $是$\langle x\rangle $在$\mathcal{O}_i$上作用的核.不难发现
\begin{itemize}
	\item $\mathcal{O}_i=\{Pg_i,Pg_ix,\cdots,Pg_ix^{n_i-1}\}$.
	\item $n_i=|\mathcal{O}_i|$且$\sum n_i=[G:P]$.
	\item $Pg_ix^{n_i}=Pg_i$，即$g_ix^{n_i}g_i^{-1}\in P$.
\end{itemize}

取横截$S:=\left\{g_ix^j\mid 1\le i\le k;\,0\le j<n_i\right\}$就有
\[
	Sx\cap Pg_ix^j=\begin{cases}
		\{g_ix^j\},&j\ne 0,\\
		\{g_ix^{n_i}\},&j=0,
	\end{cases}\qquad x^\tau=Sx|S=\prod_{i=1}^k\overline{g_ix^{n_i}g_i^{-1}}.
\]

当$x\in P$时若共轭也$x^g\in P$那么上式结果是简单的.于是置
\[
	P^*=\langle y^{-1}y^g\mid y,y^g\in P,\,g\in G\rangle.
\]
注意$y^{-1}y^g=[y,g]$，所以$P'\le P^*\le P\cap G'$.
\begin{lemma*}
	$\forall x\in P,\,x^\tau\overline{P^*}=\overline{x}^{[G:P]}\overline{P^*}$.
\end{lemma*}
\begin{proof}
	注意$g_ix^{n_i}g_i^{-1}=x^{n_i}[x^{n_i},g_i^{-1}]\in x^{n_i}P^*$，因此$x^\tau\overline{P^*}=\overline{x}^{\sum n_i}\overline{P^*}=\overline{x}^{[G:P]}\overline{P^*}$.
\end{proof}

进一步设$P$是Hall $\pi$-子群，则$PG'/G'=O_\pi(G/G')$是$G/G'$最大的$\pi$-子群.对Abel群$G/G'$由结构定理有
\[
	G/G'=PG'/G'\times O_{\pi'}(G/G').
\]
记$O_{\pi'}(G/G')$的原像为$G'(\pi)\le G$，则$G'(\pi)$就是$G$有Abel $\pi$-商群的最小正规子群.同时由子群格同构知$G=PG'(\pi)$且$P\cap G'(\pi)=P\cap G'$.
\begin{thm}
	设$P\le G$是Hall $\pi$-子群，则
	\[
		P^*=P\cap G'(\pi)=P\cap G',\quad P/P^*\cong G/G'(\pi)
	\]
	并且有$\ker\tau=G'(\pi)$和$\overline{P}=\overline{P^*}\times\Im\tau$.
\end{thm}
\begin{proof}
	由$P$是Hall子群知在$\overline{P}/\overline{P^*}$中$\langle x^\tau\overline{P^*}\rangle=\langle \overline{x}\rangle\overline{P^*}$对任意$x\in P$成立，所以$\overline{P}=\overline{P^*}\Im\tau$且$\overline{P\cap\ker\tau}\le\overline{P^*}$，即$P\cap\ker\tau\le P^*$(因为$P'\le P^*$).

	另一方面，注意$\ker\tau$有Abel $\pi$-商群$\Im\tau\le\overline{P}$，所以$G'(\pi)\le\ker\tau$.于是有
	\[
		P^*\le P\cap G'=P\cap G'(\pi)\le P\cap\ker\tau,
	\]
	因此$P^*=P\cap G'=P\cap\ker\tau$.又有
	\[
		|G/G'(\pi)|\ge|G/\ker\tau|=|\Im\tau|\ge|P/P^*|=|P/P\cap G'|=|G/G'(\pi)|,
	\]
	所以$\ker\tau=G'(\pi)$且$|\Im\tau|=|P/P^*|$，即$\overline{P}=\overline{P^*}\times\Im\tau$.
\end{proof}
\begin{cor*}
	设$P\le G$是Hall $\pi$-子群且$P\ne P^*$，则$G\ne O^\pi(G)$.
\end{cor*}
\begin{proof}
	此时$G/\ker\tau\cong P/P^*\ne 1$，即$O^\pi(G)\le\ker\tau<G$.
\end{proof}

上述结论的重要性在于只要知道了$P$中元素在$G$中共轭的情况，就可以在$P$中计算出{\heiti 焦点子群}\footnote{focal subgroup.} $P\cap G'=P^*$.
\begin{lemma*}[(Burnside)]
	设$P\in\mathrm{Syl}_p(G)$而$A_1,A_2\subseteq P$是正规子集，则$A_1,A_2$在$G$中共轭当且仅当在$\mathrm{N}_G(P)$中共轭.
\end{lemma*}
\begin{proof}
	设$g\in G$满足$A_1^g=A_2$.易得$P^g\le\mathrm{N}_G(A_1^g)=\mathrm{N}_G(A_2)$，即$P,P^g$都是$\mathrm{N}_G(A_2)$的Sylow $p$-子群.设$P^{gz}=P$，其中$z\in\mathrm{N}_G(A_2)$，则$gz\in\mathrm{N}_G(P)$且$A_1^{gz}=A_2^z=A_2$.
\end{proof}
\begin{prop}
	设$P\le G$是Abel Sylow $p$-子群.记$H=\mathrm{N}_G(P)$，则$P\cap G'=P\cap H'$且
	\[
		P/P\cap H'\cong G/G'(p)\cong H/H'(p).
	\]
\end{prop}
\begin{proof}
	由于$P$交换，Burnside引理对$P$的任何子集成立，于是$P^*=\langle x^{-1}x^y\mid y\in H,\,x\in P\rangle $.因此根据前述定理视作$P\le H$即证.
\end{proof}

若存在$N\nsg G$满足$G=N\rtimes P$，其中$P\in\mathrm{Syl}_p(G)$，则称$G$有{\heiti 正规$p$-补}.这等价于说$N=O_{p'}(G)=O^p(G)$.
\begin{thm}[(Burnside)]
	若$P\in\mathrm{Syl}_p(G)$满足$\mathrm{N}_G(P)=\mathrm{C}_G(P)$，则$G$有正规$p$-补.\hypertarget{thm:BurnsideNormalpComplement}{}
\end{thm}
\begin{proof}
	记$H=\mathrm{N}_G(P)$，则$P\le Z(H)$交换.由~\hyperlink{thm:SchurZassenhaus}{Schur--Zassenhaus定理}知$P$在$H$中有补$A$，考虑$P\le Z(H)$就有$H=P\times A$且$H'\cap P=1$.因此$G/G'(p)\cong P$.
\end{proof}
\begin{remark}
	同样的过程可以证明当$P$是Hall子群时$P$在$G$中有正规补.
\end{remark}
\begin{cor*}
	设$p$是$|G|$的最小素因子.若$G$的Sylow $p$-子群循环，则$G$有正规$p$-补.
\end{cor*}
\begin{proof}
	由N/C定理注意$P\le\mathrm{C}_G(P)$以及$|\operatorname*{Aut}(P)|$阶数即证.
\end{proof}

下面继续证明Frobenius的正规$p$-补定理.设$Z\le P\le G$，若
\[
	Z^g\le P,\,g\in G\implies Z^g=Z,
\]
则称$Z$关于$G$在$P$中{\heiti 弱封闭}\footnote{weakly closed.}.
\begin{lemma*}
	设$P\in\mathrm{Syl}_p(G)$而$Z\le Z(P)$在$P$中弱封闭.若$y,y^g\in P$，其中$g\in G$，则存在$g'\in\mathrm{N}_G(Z)$使得$y^g=y^{g'}$.
\end{lemma*}
\begin{proof}
	注意$y^g\in P\cap P^g$且$\langle Z,Z^g\rangle\in\mathrm{C}_G(y^g)$.由Sylow定理知存在$c\in\mathrm{C}_G(y^g)$使得$Z^c,Z^g$含于同一Sylow $p$-子群，即$\langle Z^g,Z^c\rangle $是$p$群.进而又存在$h\in G$使得$\langle Z^{gh},Z^{ch}\rangle=\langle Z^g,Z^c\rangle^h\le P$.由$Z$在$P$中弱封闭得到$Z^{gh}=Z^{ch}=Z$，取$g'=gc^{-1}\in\mathrm{N}_G(Z)$就有$y^{g'}=y^g$.
\end{proof}
\begin{thm}[(Gr\"un)]
	设$P\in\mathrm{Syl}_p(G)$而$Z\le Z(P)$在$P$中弱封闭.记$H=\mathrm{N}_G(Z)$，则$P\cap G'=P\cap H'$且
	\[
		P/P\cap G'\cong G/G'(p)\cong H/H'(p).
	\]
\end{thm}
\begin{proof}
	由前述引理视$P\le H$即证.
\end{proof}

注意弱封闭有如下性质.
\begin{lemma*}
	设$P\in\mathrm{Syl}_p(G)$而$Z\le P$满足$Z\nsg\mathrm{N}_G(P)$，则下述命题等价：
	\begin{enumerate}
		\item $Z$关于$G$在$P$中弱封闭.
		\item $\forall R\in\mathrm{Syl}_p(G),\enspace Z\le R\implies Z\nsg R$.
	\end{enumerate}
\end{lemma*}
\begin{proof}
	\hspace*{5.2pt}(1)$\Rightarrow$(2):若$Z\le P^{g^{-1}}$，则$Z^g\le P$即$Z^g=Z$，因此显然$Z\nsg P^{g^{-1}}$.

	(2)$\Rightarrow$(1):设$Z^g\le P$，注意(2)对$Z^g$也成立，即$Z^g\nsg G$.由Burnside引理存在$y\in\mathrm{N}_G(P)$使得$Z^g=Z^y=Z$.
\end{proof}

最后对半直积和弱封闭作如下观察.
\begin{lemma*}
	设$G=N\rtimes P$而$Z\le P$.若$Z^g\le P$，其中$g\in G$，则存在$x\in P$使得$Z^g=Z^x$.特别地，若$Z\nsg P$则$Z$在$P$中弱封闭.
\end{lemma*}
\begin{proof}
	设$g=yx$，其中$y\in N,\,x\in P$，则$Z^y\le P$.因此对任意$z\in Z$有$[z,y]\in N\cap P=1$，即$y\in\mathrm{C}_G(Z)$，所以$Z^g=Z^x$.
\end{proof}

显然“有正规$p$-补”的性质能遗传到子群和商群.Frobenius定理给出了一定的反向结论.
\begin{thm}[(Frobenius)]
	设$P\in\mathrm{Syl}_p(G)$.若对任意$1\ne U\le P$满足$\mathrm{N}_G(U)$有正规$p$-补，则$G$有正规$p$-补.
\end{thm}
\begin{proof}
	不妨设$P\ne 1$且$O_p(G)=1$.记$Z=Z(P)\ne 1$，则$Z\nsg H:=\mathrm{N}_G(P)$.通过反证断言$Z$在$P$中弱封闭，于是Gr\"un定理给出$G/G'(p)$是$p$-群.对$|G|$归纳不妨设$G'(p)$有正规$p$-补，进而$G$也有正规$p$-补.
\end{proof}
\begin{remark}
	一般地，设$H\le K\le G$，若$H$中任何在$G$中共轭的元素在$K$中共轭，称$K$关于$G$在$H$中{\heiti 控制熔融}\footnote{control fusion.}.熔融(fusion)和转移(transfer)的概念在相关话题很常见，用它们可以简单地推广上述Frobenius正规$p$-补的结论.
\end{remark}
\begin{remark}
	进一步还有Thompson的正规$p$-补定理，它将Frobenius定理中任意的$p$-子群改进为($p$奇素数时)某个特定的$P$的特征子群.
\end{remark}

\subsection{幂零群与可解群}\label{subsec:NilpotentSolvable}
本节给出更多幂零群的性质.首先类似$p$群有
\begin{prop}
	设$G\ne 1$幂零且$1\ne N\nsg G$，则$Z(G)\cap N\ne 1$.特别地$Z(G)\ne 1$.
\end{prop}
\begin{proof}
	若不然，断言对任意$i$有$Z_i(G)\cap N=1$，从而$N=N\cap Z_n(G)=1$矛盾.设$Z_i\cap N=1$，取$x\in Z_{i+1}\cap N$，对任意$g\in G$有$xgZ_i=gxZ_i$，于是$[x,g]\in Z_i\cap N=1$，即$xg=gx$，因此$x\in Z(G)\cap N=1$.
\end{proof}

由此可知当$n\ge 3$时$S_n$不是幂零的.在正文中我们说明了可解群对群扩张封闭，然而幂零群则不然.例如$A_3,\,S_3/A_3$都幂零，但$S_3$不幂零.

若$N\le Z(G)$且$G$是$N$关于$H$的扩张，则称为{\heiti 中心扩张}.
\begin{prop}
	幂零群在中心扩张下封闭.
\end{prop}
\begin{proof}
	设$N\le Z(G)$且$\gamma_n(G/N)=1$.不难得到$\pi(\gamma_n(G))=\gamma_n(G/N)=1$，其中$\pi\colon G\to G/N$是自然同态.于是$\gamma_n(G)\le N\le Z(G)$，即$\gamma_{n+1}(G)=[\gamma_n(G),G]=1$.
\end{proof}
\begin{remark}
	类似地易得$\gamma_n(G/Z(G))=1$当且仅当$\gamma_{n+1}(G)=1$.
\end{remark}
\begin{prop}
	$G=G_1\times\cdots\times G_n$幂零当且仅当任何$G_i$都幂零.
\end{prop}
\begin{proof}
	只需证$G=G_1\times G_2$且$G_1,G_2$幂零情形.设$G_1,G_2$幂零指数$n_1,n_2$，对$\max\{n_1,n_2\}$归纳.显然$G/Z(G)\cong G_1/Z(G_1)\times G_2/Z(G_2)$，即证.
\end{proof}

下面的结论常被称为{\heiti 正规化子条件}.
\begin{prop}
	设$G\ne 1$幂零且$H<G$，则$H<\mathrm{N}_G(H)$.
\end{prop}
\begin{proof}
	若不然，设$\gamma_n(G)=1$，其中$n\ge 1$，则$\gamma_n(G)\le H$.由于$\gamma_0(G)=G\nleq H$，取$k\ge 1$极小满足$\gamma_k(G)\le H$.然而这将导致
	\[
		[\gamma_{k-1}(G),H]\le[\gamma_{k-1}(G),G]=\gamma_k(G)\le H,
	\]
	即$\gamma_{k-1}(G)\le\mathrm{N}_G(H)=H$，矛盾.
\end{proof}
\begin{remark}
	易见对有限群$G$这等价于任何子群$H\le G$都次正规$H\nsg\nsg G$.
\end{remark}
\begin{cor*}
	幂零群的极大子群正规.\qed
\end{cor*}
\begin{prop}
	设$N$是幂零群$G$的极大Abel正规子群，则$\mathrm{C}_G(N)=N$.\hypertarget{prop:MaxAbelNormalSubgrpOfNilGrp}{}
\end{prop}
\begin{proof}
	若不然$N<\mathrm{C}_G(N)=:C$，则$1\ne C/N\nsg G/N$，于是$Z(G/N)\cap C/N\ne 1$，可取$N<U\nsg G$使得$U/N$是$Z(G/N)\cap C/N$循环子群.易证$U$交换，与$N$的极大性矛盾.
\end{proof}

下面考虑有限幂零群，它的结构是清楚的.
\begin{thm}
	设群$G$有限，则下述命题等价：
	\begin{enumerate}
		\item $G$是幂零群.
		\item $G$满足正规化子条件.
		\item $G$的极大子群都正规.
		\item $G'\le\Phi(G)$，即$G/\Phi(G)$交换\footnotemark .
		\item $G$的Sylow子群都正规.
		\item $G$是其Sylow子群的直积.
		\item 对任意$d\mid|G|$有$d$阶正规子群$H\nsg G$.
	\end{enumerate}
\end{thm}
\footnotetext{$\Phi(G)$是$G$的{\heiti Frattini子群}，定义为全体极大子群的交.相关内容见下节.}
\begin{proof}
	\hspace*{5.2pt}(1)$\Rightarrow$(2)$\Rightarrow$(3)显然.

	(3)$\Rightarrow$(4):设$N<G$极大，则$G/N\cong Z_p$，于是$G'\le N$，从而$G'\le\Phi(G)$.

	(4)$\Rightarrow$(5):设$P\in\mathrm{Syl}_p(G)$不正规，则$\mathrm{N}_G(P)$含于某极大子群$M$.由$G'\le\Phi(G)\le M$得$M\nsg G$，Frattini论断给出$G=M\mathrm{N}_G(P)=M$矛盾.

	(5)$\Rightarrow$(6)$\Rightarrow$(7)显然.

	(7)$\Rightarrow$(1):显然(7)$\Rightarrow$(5)$\Rightarrow$(6)，而有限$p$群幂零、幂零群的直积幂零.
\end{proof}

有限群$G$的全体幂零正规子群的积是一个特征子群，称为$G$的{\heiti Fitting子群} $F(G)$.用上述有限幂零群的刻画可以给出Fitting子群的结构.
\begin{prop}
	设群$G$有限，则$F(G)=\bigtimes O_p(G)$是最大的幂零正规子群.\hypertarget{prop:FittingSubgrp}{}
\end{prop}
\begin{proof}
	对$G$的任意幂零正规子群$N=\bigtimes O_p(N)$，由$O_p(N)$在$N$中特征得$O_p(N)\nsg G$，于是$O_p(N)\le O_p(G)$，进而$F(G)\subseteq\bigtimes O_p(G)$.反之注意$O_p(G)$正规幂零有$\bigtimes O_p(G)\subseteq F(G)$.
\end{proof}

Fitting子群为我们理解有限可解群提供了新思路.
\begin{prop}
	设$G$有限可解，则Fitting子群自中心化$\mathrm{C}_G(F(G))\le F(G)$.
\end{prop}
\begin{proof}
	若不然，记$C:=\mathrm{C}_G(F(G)),\,H:=C\cap F(G)$，则$H\le Z(C)$.考虑$C/H\ne 1$的导出列，取$K/H\ne 1$而$K'/H=1$，即$K'\le H$.由$[K',K]\le[H,K]=1$知$K$幂零.

	注意$C,H$仍是特征子群，而$K/H$在$C/H$中特征，易得$K$在$C$中特征，于是$K$是$G$的幂零正规子群.但是$K\le C$且$K\nleq H$，从而$K\nleq F(G)$，矛盾.
\end{proof}
\begin{remark}
	由N/C定理得到$G/\mathrm{C}_G(F(G))\lesssim\operatorname*{Aut}(F(G))$.
\end{remark}
\begin{thm}
	若有限群$G$的任何Sylow子群循环，则$G$是亚循环群.\hypertarget{thm:CyclicSylowMetacyclic}{}
\end{thm}
\begin{proof}
	先证明$G$可解，对$|G|=p_1^{k_1}\cdots p_r^{k_r}$归纳.不妨设$p_1$是最小素因子且$P_1\in\mathrm{Syl}_{p_1}(G)$，则由~\hyperlink{thm:BurnsideNormalpComplement}{Burnside转移}得$P_1$有正规补$N$，且$N$的Sylow子群也都循环，于是$N$亚循环进而可解，所以$G$可解.

	现在注意$F(G)=\bigtimes O_p(G)$循环且自中心化，不难验证$G/F(G)$忠实地共轭作用在$F(G)$上，进而$G/F(G)\lesssim\operatorname*{Aut}(F(G))$交换.注意$G/F(G)$的Sylow子群都循环，所以$G/F(G)$循环.因此$G$是亚循环群.
\end{proof}
\begin{cor*}
	若$|G|$无平方因子，则$G$是亚循环群.\qed
\end{cor*}

实际上，对阶数进一步的要求将直接给出循环群.先给出如下引理.
\begin{lemma}
	设群$G$有限且$H<G$，则$\displaystyle G\ne\bigcup_{g\in G}gHg^{-1}$.
\end{lemma}
\begin{proof}
	若不然，$|G|<[G:\mathrm{N}_G(H)]|H|$，即$|\mathrm{N}_G(H)|<|H|$矛盾.
\end{proof}
\begin{remark}
	对无限群不成立，例如$\mathrm{GL}(n,\mathbb{C})$的上三角子群.
\end{remark}
\begin{lemma*}
	若有限非Abel群$G$的极大子群两两交平凡，则$G$不单.
\end{lemma*}
\begin{proof}
	设若$G$非Abel单，极大子群$H$都自正规化.设$|G|=n$而$|H|=k$，则$H$全体共轭子群的并共有$\frac{n}{k}(k-1)+1=n-\frac{n}{k}+1\ge \frac{n}{2}+1$个元素.由上述引理在这些共轭子群外有元素$g$，且由$G$非循环知$g$含于某极大子群$K\ne H$，于是元素个数产生矛盾.
\end{proof}

\begin{thm}
	下述命题等价：\hypertarget{thm:CyclicFromOrder}{}
	\begin{enumerate}
		\item 阶为$n$的群只有循环群.
		\item $(n,\varphi(n))=1$，即阶$n=p_1\cdots p_r$无平方因子，且$p_i\nmid p_j-1$.
	\end{enumerate}
\end{thm}
\begin{proof}
	\hspace*{5.2pt}(1)$\Rightarrow$(2):首先$n$无平方因子，否则考虑初等Abel群的直积就得到非循环群.假如$p_i\mid p_j-1$，则存在$p_ip_j$阶非Abel群，它与$n/(p_ip_j)$阶循环群的直积非循环.

	(2)$\Rightarrow$(1):注意$G$的真子群也满足(2)式，归纳可设$G$的任何真子群循环.往证$G$交换.若不然，断言$G$不单.否则$Z(G)=1$，对$G$的任何极大子群$H,K$，取$g\in H\cap K$将有$G=\langle H,K\rangle\le\mathrm{C}_G(g)$，即$g\in Z(G)=1$，从而$G$的极大子群两两交平凡，上述引理又给出$G$单，矛盾.因此$G$不单，它有非平凡正规子群$N$.群$G$共轭作用在$N$上给出$G\to\operatorname*{Aut}(N)$.由$N$循环以及$(n,\varphi(n))=1$可知$n$与$|\operatorname*{Aut}(N)|$互素，因此作用平凡，即$N\subseteq Z(G)$.特别地，$Z(G)\ne 1$，因此归纳假设给出$G/Z(G)$循环，所以$G$交换.现在根据有限Abel群的结构即知$G$循环.
\end{proof}
\begin{remark}
	(2)$\Rightarrow$(1)用Burnside转移有更简单的证明：取最小素因子$p$，则$G$有正规$p$-补$N$，即$G=N\rtimes H$.而$|H|$与$|\operatorname*{Aut}(P)|$互素，所以$G=N\times H$交换.
\end{remark}

\subsection{Frattini子群}
\begin{definition}
	群$G$的全体极大子群的交\footnote{若不存在极大子群，空交定义为全集$\Phi(G)=G$.}称为$G$的{\heiti Frattini子群} $\Phi(G)$.
\end{definition}

显然$\Phi(G)$是$G$的特征子群.

有限群总有极大子群，从而对有限群有$\Phi(G)<G$.由Zorn引理可知有限生成群总有极大子群.一般情形则不然，例如任何特征零的域$F$作为加法群无极大子群，从而$\Phi(F)=F$.

不难算出$\Phi(\mathbb{Z})=0$而$\Phi(\mathbb{Z}/n\mathbb{Z})=m\mathbb{Z}/n\mathbb{Z}$，其中$m=p_1\cdots p_r;\,n=p_1^{k_1}\cdots p_r^{k_r}$.

\medskip 上述定义虽然直截了当，但缺乏直接意义，即为什么要考虑极大子群的交.从另一个角度出发，自由群的结论说明任何群都由生成元和生成关系表示，那剩下的那些元素如何？

若$x\in G$满足对任意$S\subseteq G$有$G=\langle S,x\rangle $蕴含$G=\langle S\rangle $，则称$x\in G$是{\heiti 非生成元}.

\begin{thm}
	群$G$的全体非生成元组成$\Phi(G)$.
\end{thm}
\begin{proof}
	设$x\in G$是非生成元，则对任意极大子群$H<G$有$x\in H$，从而$x\in\Phi(G)$.若不然，由$H$极大有$G=\langle x,H\rangle=H$，矛盾.平凡情形$x\in G=\Phi(G)$成立.

	设$x\in\Phi(G)$且$G=\langle x,S\rangle $，其中$S\subseteq G$.记$H:=\langle S\rangle $则$G=\langle x,H\rangle $.往证$H=G$，只需$x\in H$即可.若不然，考虑偏序集
	\[
		\mathcal{T}:=\left\{K\mid H\le K\le G,\,x\notin K\right\},
	\]
	则$H\in\mathcal{T}\ne\varnothing$.由Zorn引理取出极大元$M\in\mathcal{T}$.由$x\notin M$知$M$不是极大子群且$M<G$.设$M<N<G$，则$x\in N$，然而$N=\langle x,N\rangle\ge\langle x,H\rangle=G$，矛盾.
\end{proof}
\begin{remark}
	自由群的Frattini子群平凡.这很容易理解.
\end{remark}
\begin{cor*}
	设$H\le G$.若$G=H\Phi(G)$，则$G=H$.\qed
\end{cor*}

Frattini子群的性质很特别，例如说它与子群关系不相容.容易发现$\Phi(D_8)=\langle r^2\rangle $但$\Phi(S_n)=1$.不过$D_8\not\nsg S_4$，我们有
\begin{prop}
	若$N\nsg G$且$N$关于真子群满足升链条件，则$\Phi(N)\le\Phi(G)$.
\end{prop}
\begin{proof}
	若不然，设$M<G$极大且$\Phi(N)\nleq M$，有$G=M\Phi(N)$，所以$N=(M\cap N)\Phi(N)$且$M\cap N<N$.存在$N$的极大子群$H$包含$M\cap N$，又有$\Phi(N)\le H$，于是$N\le H$矛盾.
\end{proof}

显然$\Phi(G_1\times G_2)\le\Phi(G_1)\times\Phi(G_2)$.不加证明地引述下述定理.
\begin{thm}
	设直积分解$G=\bigtimes G_i$，则当$G_i$或$\Phi(G_i)$都有限生成时有$\Phi(G)=\bigtimes\Phi(G_i)$.\qed
\end{thm}

对于商群，容易证明若$N\nsg G$则$\Phi(G)N/N\le\Phi(G/N)$.

在有限群情形，Frattini子群有若干良好的性质.
\begin{prop}
	设群$G$有限，则
	\begin{enumerate}
		\item $\Phi(G)$幂零.
		\item 若$G/\Phi(G)$幂零，则$G$幂零.
	\end{enumerate}
\end{prop}
\begin{proof}
	\hspace*{5.2pt}(1)只需任意$P\in\mathrm{Syl}_p(\Phi(G))$正规.由Frattini论断$G=\mathrm{N}_G(P)\Phi(G)$，即$G=\mathrm{N}_G(P)$.

	(2)设$P\in\mathrm{Syl}_p(G)$，则$P\Phi(G)/\Phi(G)$是$G/\Phi(G)$的Sylow $p$-子群，从而在$G/\Phi(G)$中正规，所以$P\Phi(G)\nsg G$.再由Frattini论断得$G=\mathrm{N}_G(P)P\Phi(G)=\mathrm{N}_G(P)$.
\end{proof}

此前已经说明了幂零群关于幂零群的中心扩张才保持幂零性.一般地有如下结论.
\begin{prop}
	$Z_n(G)\cap\gamma_n(G)\le\Phi(G)$.特别地$Z(G)\cap G'\le\Phi(G)$.
\end{prop}
\begin{proof}
	只证后者.设$M<G$极大，则$Z(G)\le M$或$G=MZ(G)$，即$G'=M'$.无论如何总有$Z(G)\cap G'\le M$.
\end{proof}

回到有限群情形，首先可以发现$G/\Phi(G)$没有漏掉任何$p$子群结构.
\begin{prop}
	设群$G$有限，则$|G/\Phi(G)|$包含了$|G|$的任何素因子.
\end{prop}
\begin{proof}
	只需$\Phi(G)$不包含任何$G$的Sylow $p$-子群.若不然，设$P\le\Phi(G)$，则由$\Phi(G)$幂零知$P\nsg G$.由~\hyperlink{thm:SchurZassenhaus}{Schur--Zassenhaus定理}得$P$在$G$中有补$H$.设$M$包含$H$极大，则$p\mid[G:M]$，从而$p\mid|G/\Phi(G)|$矛盾.
\end{proof}

现在我们考虑有限$p$群.注意有限$p$群幂零，因此极大子群都是指数$p$的正规子群.
\begin{prop}
	设$G$是有限$p$群.
	\begin{enumerate}
		\item $\Phi(G)$是有初等Abel商群的最小正规子群.
		\item 若$|G/\Phi(G)|=p^n$，则存在$x_1,\cdots,x_n\in G$使得$G=\langle x_1,\cdots,x_n\rangle $.
	\end{enumerate}
\end{prop}
\begin{proof}
	\hspace*{5.2pt}(1)设$N\nsg G$而$G/N$初等Abel，则$\Phi(G)N/N\le\Phi(G/N)=1$，即$\Phi(G)\le N$.注意$G/\bigcap N_i\cong\bigtimes G/N_i$即得$G/\Phi(G)$初等Abel.

	(2)设$G/\Phi(G)=\langle x_1\Phi(G),\cdots,x_n\Phi(G)\rangle $，则$G=\langle x_1,\cdots,x_n\rangle\Phi(G)=\langle x_1,\cdots,x_n\rangle $.
\end{proof}

实际上有限$p$群的Frattini子群有直接的刻画.记$G^p:=\langle x^p\mid x\in G\rangle $.
\begin{prop}
	设$G$是有限$p$群，则$\Phi(G)=G'G^p$.
\end{prop}
\begin{proof}
	设$M<G$极大，则$G/M\cong Z_p$，于是$G',G^p\le M$，进而$G'G^p\le\Phi(G)$.注意$G',G^p\nsg G$且$G/G'G^p$初等Abel，故$\Phi(G)=G'G^p$.
\end{proof}
\begin{cor}
	设$G$是有限$p$群，则$\Phi(G)N/N=\Phi(G/N)$.\qed
\end{cor}

一般地，有限群的极小生成元集基数不一定相同，例如$\mathbb{Z}/5\mathbb{Z}=\langle 1\rangle=\langle 2,3\rangle 	$.但对于有限$p$群，此前的结论允许我们利用线性代数证明极小生成元集基数相同.
\begin{thm}[(Burnside)]
	设$G$是有限$p$群，则$G/\Phi(G)\cong\mathbb{F}_p^n$.
	\begin{enumerate}
		\item $G$的任何极小生成元集都有$n$个元素.
		\item 任何$g\notin\Phi(G)$都属于某个极小生成元集.
	\end{enumerate}
\end{thm}
\begin{proof}
	\hspace*{5.2pt}(1)设$S=\{x_1,\cdots,x_k\}$是极小生成元集，则$\{x_i\Phi(G)\}$张成$\mathbb{F}_p^n$.若$\{x_i\Phi(G)\}$线性无关，则$k=n=\dim\mathbb{F}_p^n$即证.若$\{x_i\Phi(G)\}$线性相关，不妨设$x_1\Phi(G)\in\langle x_2\Phi(G),\cdots,x_n\Phi(G)\rangle $，于是存在$x\in\langle x_2,\cdots,x_n\rangle $满足$x^{-1}x_1\in\Phi(G)$.因此
	\[
		G=\langle x_1,\cdots,x_k\rangle=\langle x^{-1}x_1,x_2,\cdots,x_n\rangle=\langle x_2,\cdots,x_k\rangle,
	\]
	与$S$极小矛盾，因此$\{x_i\Phi(G)\}$总线性无关.

	(2)将$g\Phi(G)$扩充为$\mathbb{F}_p^n$的基$\{g_i\Phi(G)\}$，则$G=\langle g,g_2,\cdots,g_n\rangle$且$\{g_i\}$已极小.
\end{proof}